"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=_interopRequireDefault(require("../../v-x-e-table")),_utils=require("../../tools/utils"),_render=require("./render"),_util=require("./util"),_vn=require("../../tools/vn");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var VxeFormConfigItem={name:"VxeFormConfigItem",props:{itemConfig:Object},inject:{$xeform:{default:null}},provide:function(){return{$xeformgather:null,$xeformiteminfo:this}},render:function(i){var e,t=this._e,l=this.$xeform,n=this.itemConfig,r=l.rules,o=l.data,s=l.collapseAll,a=l.validOpts,u=l.titleAlign,d=l.titleWidth,f=l.titleColon,c=l.titleAsterisk,m=l.titleOverflow,v=n.slots,x=n.title,_=n.folding,g=n.visible,p=n.field,h=n.collapseNode,q=n.itemRender,C=n.showError,N=n.errRule,U=n.className,F=n.titleOverflow,I=n.children,O=(0,_utils.isEnableConf)(q)?_vXETable.default.renderer.get(q.name):null,b=O?O.itemClassName:"",A=n.span||l.span,R=n.align||l.align,u=_xeUtils.default.eqNull(n.titleAlign)?u:n.titleAlign,d=_xeUtils.default.eqNull(n.titleWidth)?d:n.titleWidth,f=_xeUtils.default.eqNull(n.titleColon)?f:n.titleColon,c=_xeUtils.default.eqNull(n.titleAsterisk)?c:n.titleAsterisk,m=_xeUtils.default.isUndefined(F)||_xeUtils.default.isNull(F)?m:F,F="title"===m,T=!0===m||"tooltip"===m,m=F||T||"ellipsis"===m,w={data:o,field:p,property:p,item:n,$form:l,$grid:l.xegrid};if(!1===g)return t();if(I&&0<I.length)return(g=n.children.map(function(e,t){return i(VxeFormConfigItem,{key:t,props:{itemConfig:e}})})).length?i("div",{class:["vxe-form--gather vxe-row",n.id,A?"vxe-col--".concat(A," is--span"):"",U?_xeUtils.default.isFunction(U)?U(w):U:""]},g):t();r&&(I=r[p])&&(e=I.some(function(e){return e.required}));g=[],v&&v.default?g=l.callSlot(v.default,w,i):O&&O.renderItemContent?g=(0,_vn.getSlotVNs)(O.renderItemContent.call(l,i,q,w)):O&&O.renderItem?g=(0,_vn.getSlotVNs)(O.renderItem.call(l,i,q,w)):p&&(g=[_xeUtils.default.toValueString(_xeUtils.default.get(o,p))]),t=T?{mouseenter:function(e){l.triggerTitleTipEvent(e,w)},mouseleave:l.handleTitleTipLeaveEvent}:{};return i("div",{class:["vxe-form--item",n.id,A?"vxe-col--".concat(A," is--span"):null,U?_xeUtils.default.isFunction(U)?U(w):U:"",b?_xeUtils.default.isFunction(b)?b(w):b:"",{"is--title":x,"is--colon":f,"is--asterisk":c,"is--required":e,"is--hidden":_&&s,"is--active":(0,_util.isActivetem)(l,n),"is--error":C}]},[i("div",{class:"vxe-form--item-inner"},[x||v&&v.title?i("div",{class:["vxe-form--item-title",u?"align--".concat(u):null,{"is--ellipsis":m}],style:d?{width:isNaN(d)?d:"".concat(d,"px")}:null,attrs:{title:F?(0,_utils.getFuncText)(x):null},on:t},(0,_render.renderTitle)(i,l,n)):null,i("div",{class:["vxe-form--item-content",R?"align--".concat(R):null]},g.concat([h?i("div",{class:"vxe-form--item-trigger-node",on:{click:l.toggleCollapseEvent}},[i("span",{class:"vxe-form--item-trigger-text"},s?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),i("i",{class:["vxe-form--item-trigger-icon",s?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})]):null,N&&a.showMessage?i("div",{class:"vxe-form--item-valid",style:N.maxWidth?{width:"".concat(N.maxWidth,"px")}:null},N.content):null]))])])}},_default=VxeFormConfigItem;exports.default=_default;