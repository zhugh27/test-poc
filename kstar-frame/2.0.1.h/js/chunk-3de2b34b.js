(window["webpackJsonp_kstar-ui"]=window["webpackJsonp_kstar-ui"]||[]).push([["chunk-3de2b34b"],{"0151":function(e,t,a){},"023e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("d9e2");var n=a("14f2"),i=a("f0af"),o={name:"form",data:function(){var e=this;return{param:{visible:!1,title:"新增",position:"right"},dataForm:{id:"",dictType:"",description:"",systemFlag:"0",remarks:""},dataRules:{dictType:[{required:!0,message:"类型不能为空",trigger:"blur"},{validator:i.rule.validatorNameCn,trigger:"blur"},{validator:function(t,a,n){e.validateDictType(t,a,n,""!==e.dataForm.id)},trigger:"blur"}],systemFlag:[{required:!0,message:"字典类型不能为空",trigger:"blur"}],description:[{required:!0,message:"描述不能为空",trigger:"blur"}]},loading:!1,footBtnList:[{title:"取消",key:"cancel",kType:"minor"},{title:"确定",key:"save",kType:"main"}]}},methods:{openDialog:function(e,t){var a=this;this.param.visible=!0,this.dataForm={},this.dataForm.id="",t&&e?(this.param.title="编辑",(0,n.editObjTree)(e).then((function(e){a.dataForm=e.data.data}))):(this.dataForm.systemFlag="0",this.param.title="新增")},onSubmit:function(){var e=this;this.$refs.dicDialogFormRef.$refs.proxyComponent.validate((function(t){if(!t)return!1;e.dataForm.id?e.edit():e.add()}))},add:function(){var e=this;this.loading=!0,(0,n.addObjTreeSave)(this.dataForm).then((function(t){e.$emit("refresh"),e.param.visible=!1,e.$message.success("新增成功!")})).finally((function(){e.loading=!1}))},edit:function(){var e=this;this.loading=!0,(0,n.editObjTreeSave)(this.dataForm).then((function(t){e.param.visible=!1,e.$emit("refresh"),e.$message.success("编辑成功!")})).finally((function(){e.loading=!1}))},footFuncClick:function(e){"cancel"===e.key?(this.param.visible=!1,this.dataForm={}):this.onSubmit()},validateDictType:function(e,t,a,i){if(i)return a();(0,n.dictTypeDetails)({dictType:t}).then((function(e){var t=e.data.data;null!==t?a(new Error("字典类型已经存在")):a()}))}}};t.default=o},"0264":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.handleDown=o,a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var i=n(a("b5c6"));function o(e,t){return(0,i.default)({url:"/admin/sys-file/"+t+"/"+e,method:"get",responseType:"blob"}).then((function(t){var a=t.data,n=document.createElement("a");n.href=URL.createObjectURL(a),n.download=e,document.body.appendChild(n),n.click(),window.setTimeout((function(){URL.revokeObjectURL(a),document.body.removeChild(n)}),0)}))}},"02d8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},"031a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user kstar-view",class:{"default-container-margin":!e.defaultContainerMargin}},[a("div",{staticClass:"user__tree kstar-view__tree"},[a("k-input",{attrs:{"k-type":"main","suffix-icon":"el-icon-search",placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("div",{staticClass:"user-tree__content"},[a("k-tree",{ref:"userTree",attrs:{"node-key":"id",data:e.treeData,props:e.treeOption,"filter-node-method":e.filterNode,"current-node-key":e.currentNodeKey,"highlight-current":""},on:{"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"el-tree-node__label"},[i.isLock?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"无数据权限",placement:"right-start"}},[a("span",[e._v(e._s(n.label)+" "),a("i",{staticClass:"el-icon-lock"})])]):e._e(),i.isLock?e._e():a("span",[e._v(e._s(n.label))])],1)}}])})],1)],1),a("div",{staticClass:"user__main"},[a("kstar-crud",{ref:"crud",attrs:{"reload-key":e.key,option:e.option,page:e.page,"table-loading":e.listLoading,"before-open":e.handleOpenBefore,data:e.list},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.update,"row-save":e.create,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"username",fn:function(t){return[a("span",[e._v(e._s(t.row.username))])]}},{key:"post",fn:function(t){return e._l(t.row.postList,(function(t,n){return a("span",{key:n},[a("k-tag",[e._v(e._s(t.postName)+" ")]),e._v("   ")],1)}))}},{key:"role",fn:function(t){return e._l(t.row.roleList,(function(t,n){return a("span",{key:n},[a("k-tag",[e._v(e._s(t.roleName)+" ")]),e._v("   ")],1)}))}},{key:"deptId",fn:function(t){return[e._v(" "+e._s(t.row.deptName)+" ")]}},{key:"lockFlag",fn:function(t){return["0"===t.row.lockFlag?a("k-tag",[e._v("有效")]):a("k-tag",{attrs:{"k-type":"info"}},[e._v("锁定")])]}},{key:"caozuo",fn:function(t){return[e.sys_user_edit?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.handleUpdate(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.sys_user_del?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'此操作将永久删除该用户"'+t.row.username+'", 是否继续?'},on:{click:function(a){return e.deletes(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.sys_user_add?a("k-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.$refs.crud.rowAdd()}}},[e._v("添加 ")]):e._e(),e.sys_user_export?a("k-button",{on:{click:e.importInfo}},[e._v("导入 ")]):e._e(),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.batchUserIds.length},on:{click:e.batchDelete}},[e._v("删除 ")])],1),a("template",{slot:"postForm"},[a("kstar-crud-select",{attrs:{dic:e.postOptions,props:e.postProps,multiple:"","collapse-tags":"",placeholder:"请选择岗位"},on:{change:function(t){return e.validateField("post")}},model:{value:e.post,callback:function(t){e.post=t},expression:"post"}})],1),a("template",{slot:"deptIdForm"},[a("kstar-crud-input-tree",{attrs:{"node-click":e.getNodeData,dic:e.treeDeptData,props:e.defaultProps,placeholder:"请选择所属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1),a("template",{slot:"roleForm"},[a("kstar-crud-select",{attrs:{dic:e.rolesOptions,props:e.roleProps,multiple:"","collapse-tags":"",placeholder:"请选择角色"},on:{change:function(t){return e.validateField("role")}},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),a("template",{slot:"passwordForm"},[a("k-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],2),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)])},i=[]},"0493":function(e,t,a){"use strict";a("e064")},"04be":function(e,t,a){"use strict";a.r(t);var n=a("e97e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"05ce":function(e,t,a){var n={"./views/admin/audit/index.vue":"c6a0","./views/admin/client/index.vue":"f11f","./views/admin/dept/filter.vue":"508f","./views/admin/dept/index.vue":"096b","./views/admin/dept/indexInit.vue":"84ba","./views/admin/dept/modules/import-content.vue":"6a33","./views/admin/dict/form.vue":"843c","./views/admin/dict/index.vue":"2dad","./views/admin/dict/tree.vue":"4885","./views/admin/file/index.vue":"5f85","./views/admin/file/modules/import-content.vue":"48f1","./views/admin/i18n/index.vue":"dcf9","./views/admin/log/index.vue":"8c4c","./views/admin/menu/index.vue":"dee1","./views/admin/menu/indexInit.vue":"60dc","./views/admin/menu/menu-form copy.vue":"9467","./views/admin/menu/menu-form.vue":"4241","./views/admin/param/index.vue":"aa67","./views/admin/post/filter.vue":"568a","./views/admin/post/index.vue":"63ef","./views/admin/post/modules/import-content.vue":"8b6b","./views/admin/role/index.vue":"3657","./views/admin/role/indexInit copy.vue":"fa70","./views/admin/role/indexInit.vue":"9408","./views/admin/role/modules/import-content.vue":"e478","./views/admin/social/index.vue":"dd75","./views/admin/tenant/index.vue":"d5c0","./views/admin/tenant/tenant-menu.vue":"2200","./views/admin/token/index.vue":"9b96","./views/admin/user/index.vue":"c111","./views/admin/user/indexInit.vue":"db1a","./views/admin/user/info.vue":"f989","./views/admin/user/infoInit.vue":"40b3","./views/admin/user/modules/import-content.vue":"785e","./views/app/appmenu/index.vue":"2ed8c","./views/app/approle/index.vue":"2794","./views/app/approle/modules/import-content.vue":"b993","./views/app/appsocial/index.vue":"86ce","./views/app/appuser/index.vue":"ca4a","./views/app/appuser/modules/import-content.vue":"6d98","./views/daemon/execution-log/index.vue":"736f","./views/daemon/international-manage/index.vue":"37a5a","./views/daemon/job-log/index.vue":"4374","./views/daemon/job-manage/index.vue":"bb8c","./views/daemon/job-manage/job-log.vue":"ef3b","./views/daemon/status-trace-log/index.vue":"d7d3","./views/ext/cache.vue":"7ca0","./views/ext/route/index.vue":"3819","./views/gen/datasource/index.vue":"be81","./views/gen/design/history.vue":"fe8b","./views/gen/design/index.vue":"bcc4","./views/gen/field-type/index.vue":"928d","./views/gen/gener/index.vue":"52fd","./views/gen/gener/modules/preview-dialog.vue":"2940","./views/gen/gener/modules/step-first-area.vue":"df52","./views/gen/gener/modules/step-second-area.vue":"8d40","./views/gen/group/index.vue":"0606","./views/gen/table/index.vue":"fc4c","./views/gen/template/index.vue":"ea7a","./views/oa/leave_bill/index.vue":"3f40","./views/oa/model/detail.vue":"cac3","./views/oa/model/index.vue":"2b31","./views/oa/process/index.vue":"5287","./views/oa/task/index.vue":"d201"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="05ce"},"05d8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange,"row-del":e.handleDel,"pages-change":e.pageChange,"edit-btn":e.editBtn,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"id",fn:function(t){return[t.row.user_info?a("span",[e._v(e._s(t.row.user_info.id))]):e._e()]}},{key:"username",fn:function(t){return[t.row.user_info?a("span",[e._v(e._s(t.row.user_info.username))]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("下线 ")])],1)],2)],1)],1)},i=[]},"0606":function(e,t,a){"use strict";a.r(t);var n=a("f4ae"),i=a("d0b0");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("f1c6");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"7393596e",null);t["default"]=s.exports},"08f1":function(e,t,a){"use strict";a("bc9e")},"096b":function(e,t,a){"use strict";a.r(t);var n=a("6c3e"),i=a("862c");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"09c3":function(e,t,a){"use strict";a.r(t);var n=a("57b7"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"0a2d":function(e,t,a){"use strict";a.r(t);var n=a("a202"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"0b49":function(e,t,a){"use strict";a.r(t);var n=a("a1c2"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"0cb5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"refresh-change":e.refreshChange,"search-change":e.searchChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"pages-change":e.pageChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"type",fn:function(t){return[a("k-tag",[e._v(e._s(e.transferText(t.row.type)))])]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除id为"'+t.row.id+'"的数据?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.socialIds.length},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1)],1)},i=[]},"0dc2":function(e,t,a){"use strict";a("f050")},"110f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("9b98"),r=a("e9e8"),s=a("2f62"),l=a("0264"),c=a("48b2"),d=n(a("cdb5")),u=n(a("48f1")),f={name:"sys-file",components:{ImportContent:u.default},data:function(){return{importVisible:!1,searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:r.tableOption,ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions","layout"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_file_add,!0),delBtn:this.vaildData(this.permissions.sys_file_del,!0),editBtn:this.vaildData(this.permissions.sys_file_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1})).catch((function(){a.tableLoading=!1}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.$message.success("删除成功"),t.page.pageSize=10,t.page.currentPage=1,t.getList(t.page)}))},rowDel:function(e){e.ids=[e.id],this.handleDel(e)},searchChange:function(e,t){this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},download:function(e,t){(0,l.handleDown)(e.fileName,e.bucketName)},uploadAfter:function(e,t,a){(0,c.validatenull)(e.fileName)||(this.$message.success("上传成功"),this.getList(this.page)),t()},rowSave:function(e,t){t(),this.getList(this.page)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除文件?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.$message.success("删除成功"),e.page.pageSize=10,e.page.currentPage=1,e.getList(e.page)}))})).catch((function(){}))}}};t.default=f},1157:function(e,t,a){"use strict";a.r(t);var n=a("f36b"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},1159:function(e,t,a){"use strict";a.r(t);var n=a("a25d"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},1357:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530")),o=n(a("8825")),r=n(a("fa0d")),s=n(a("4831")),l=a("6aba"),c=n(a("cdb5")),d=n(a("1d78")),u="kstar-json-editor-serve-name1",f="kstar-json-editor-serve-name2",p={components:{},data:function(){return{json:[],messageClient:r.default,publicPath:""}},created:function(){var e=(0,s.default)(c.default.env),t=e.publicPath;this.publicPath=t,this.getList()},mounted:function(){this.onLoadIframe(),this.messageClient=(0,r.default)(f,this.$refs.iframe.contentWindow),(0,o.default)(u,this.$refs.iframe.contentWindow,{getList:this.getList,getThemeData:function(){return d.default.getThemeData()}})},methods:{onLoadIframe:function(){var e=this,t=this.$refs.iframe;t.attachEvent?t.attachEvent("onload",(function(){e.onLoad()})):t.onload=function(){e.onLoad()}},onLoad:function(){},sendMsgIframe:function(e,t){var a,n=this.$refs.iframe;null!==n&&void 0!==n&&null!==(a=n.contentWindow)&&void 0!==a&&a.postMessage&&n.contentWindow.postMessage((0,i.default)((0,i.default)({},t),{},{id:e,name:u}),"*")},onJsonChange:function(e){},onJsonSave:function(e){},onError:function(e){},getList:function(){return(0,l.getRoute)().then((function(e){for(var t=e.data.data,a=0;a<t.length;a++){var n=t[a];if(n.predicates){var i=n.predicates;n.predicates=JSON.parse(i)}if(n.filters){var o=n.filters;n.filters=JSON.parse(o)}}return t}))},edit:function(){var e=this;this.messageClient.send("getData").then((function(e){return e})).then((function(e){return(0,l.putRoute)(e)})).then((function(){return(0,l.refreshRoute)()})).then((function(){e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}))}}};t.default=p},1464:function(e,t,a){},"147c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b");var i=n(a("5530")),o=a("3050"),r=a("5a5b"),s=a("59fb"),l=a("2f62"),c={name:"JobLog",data:function(){return{queryParams:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:r.tableOption,JobExecuteStatusDicCache:[]}},created:function(){},mounted:function(){this.getDicNameCache("job_execute_status")},computed:(0,i.default)({},(0,l.mapGetters)(["permissions"])),methods:{getList:function(e){var t=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},this.queryParams)).then((function(e){t.tableData=e.data.data.records,t.page.pageSize=e.data.data.size,t.page.total=e.data.data.total,t.tableLoading=!1}))},handleSearchReset:function(){this.queryParams={}},handleFilter:function(e,t){this.queryParams=e,this.page.currentPage=1,this.getList(this.page),t()},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},getDicNameCache:function(e){var t=this;(0,s.remote)(e).then((function(e){var a=e.data.code;if(0===a){var n=e.data.data;t.JobExecuteStatusDicCache=n}}))},getDicNameJobExecuteStatus:function(e){var t="";return this.JobExecuteStatusDicCache.forEach((function(a){a.value===e&&(t=a.label)})),t}}};t.default=c},"14f2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addItemObj=v,t.addObj=s,t.addObjTreeSave=u,t.delItemObj=k,t.delObj=l,t.delObjTree=c,t.dictTypeDetails=p,t.editObjTree=d,t.editObjTreeSave=f,t.fetchItemList=b,t.fetchList=r,t.fetchListTree=o,t.getItemObj=y,t.getObj=x,t.labelDetails=m,t.putItemObj=_,t.putObj=w,t.refreshObj=g,t.remote=C,t.validateDictItemLabel=h,a("d9e2");var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/dict/list",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/dict/page",method:"get",params:e})}function s(e){return(0,i.default)({url:"/admin/dict/item",method:"post",data:e})}function l(e){return(0,i.default)({url:"/admin/dict/item/"+e.id,method:"delete"})}function c(e){return(0,i.default)({url:"/admin/dict",method:"delete",data:e})}function d(e){return(0,i.default)({url:"/admin/dict/details/"+e,method:"get"})}function u(e){return(0,i.default)({url:"/admin/dict",method:"post",data:e})}function f(e){return(0,i.default)({url:"/admin/dict",method:"put",data:e})}function p(e){return(0,i.default)({url:"/admin/dict/details/",method:"get",params:e})}function m(e){return(0,i.default)({url:"/admin/dict/item/details",method:"get",params:e})}function h(e,t,a,n,i){if(i)return a();m({dictType:n,label:t}).then((function(e){var t=e.data.data;null!==t?a(new Error("标签已经存在")):a()}))}function g(e){return(0,i.default)({url:"/admin/dict/sync",method:"put",data:e})}function b(e){return(0,i.default)({url:"/admin/dict/item/page",method:"get",params:e})}function v(e){return(0,i.default)({url:"/admin/dict/item",method:"post",data:e})}function y(e){return(0,i.default)({url:"/admin/dict/item/"+e,method:"get"})}function k(e){return(0,i.default)({url:"/admin/dict/item/"+e,method:"delete"})}function _(e){return(0,i.default)({url:"/admin/dict/item",method:"put",data:e})}function x(e){return(0,i.default)({url:"/admin/dict/"+e,method:"get"})}function w(e){return(0,i.default)({url:"/admin/dict/item",method:"put",data:e})}function C(e){return(0,i.default)({url:"/admin/dict/type/"+e,method:"get"})}},1553:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.param.visible?a("k-modal",{staticClass:"preview-dialog",attrs:{param:e.param,"append-to-body":!0},on:{close:e.handleClose}},[a("div",{staticClass:"k-modal__body"},[a("div",{staticClass:"left-tree"},[a("k-tree",{ref:"catalogTree",attrs:{data:e.previewTree,"highlight-current":!0,"node-key":"label"},on:{"node-click":e.nodeClickTree}})],1),a("div",{staticClass:"right-content"},[a("k-scroll-container",{staticClass:"scroll-container"},[a("k-tabs",{attrs:{"tab-list":e.tabListBasic,border:""},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabListBasic,(function(t,n){return a("pre",{key:n,attrs:{slot:t.name},slot:t.name},[e._v("             "),a("code",{staticClass:"language-html"},[e._v("\n               "+e._s(t.code)+"\n             ")]),e._v("\n           ")])})),0)],1)],1)])]):e._e()},i=[]},1587:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("53ca")),o={name:"tree",props:{props:{type:Object,default:function(){return{label:"label",children:"children",value:"id"}}},placeholder:{type:String,default:""},loading:{type:Boolean,default:!1},query:{type:Function}},data:function(){return{List:[],localLoading:this.loading,deptTreeRef:"",searchName:"",isExpand:!0}},computed:{buttonClass:function(){return["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]}},methods:{handleNodeClick:function(e){this.$emit("node-click",e)},getdeptTree:function(){var e=this;if(this.query instanceof Function){this.localLoading=!0;var t=this.query(this.searchName);"object"!==(0,i.default)(t)&&"function"!==typeof t||"function"!==typeof t.then||t.then((function(t){e.List=t.data.data,e.localLoading=!1}))}}},mounted:function(){this.getdeptTree()}};t.default=o},1649:function(e,t,a){"use strict";a("2f87")},1652:function(e,t,a){"use strict";a("f677")},"16ae":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCache=i;var n=a("b5c6");function i(e){return(0,n.http)({url:"/admin/system/cache",method:"get",params:e})}},"16ce":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",menuWidth:150,align:"center",refreshBtn:!0,showClomnuBtn:!1,searchSize:"mini",searchMenuSpan:6,dialogClickModal:!1,addBtn:!1,editBtn:!1,viewBtn:!0,columnBtn:!1,selection:!0,props:{label:"label",value:"value"},column:[{label:"审计名称",prop:"auditName",search:!0},{label:"字段名称",prop:"auditField",search:!0},{label:"变更前值",prop:"beforeVal"},{label:"变更后值",prop:"afterVal"},{label:"操作人",prop:"createBy",search:!0},{width:180,label:"操作时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd",searchRange:!0,viewDisplay:!1},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"175a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delObj=o,t.fetchList=i,t.status=r;var n=a("b5c6");function i(e){return(0,n.http)({url:"/act/process",method:"get",params:e})}function o(e){return(0,n.http)({url:"/act/process/"+e,method:"delete"})}function r(e,t){return(0,n.http)({url:"/act/process/status/"+e+"/"+t,method:"put"})}},"17dc":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4");var i=n(a("5530")),o=a("6473"),r=n(a("4241")),s=a("2f62"),l=a("d9a3"),c={name:"Menu",components:{TableForm:r.default},data:function(){return{menuForm:{nameKey:""},key:0,addOrUpdateVisible:!1,loading:!0,originMenuList:[],menuList:[],menuOptions:[],maxHeight:null,menuHeight:0,pageTopHeight:0}},created:function(){this.getList()},mounted:function(){var e=this;this.$nextTick((function(){var t,a,n,i=(null===(t=document.getElementsByClassName("avue-header")[0])||void 0===t?void 0:t.offsetHeight)||0,o=(null===(a=document.getElementsByClassName("kstar-tags")[0])||void 0===a?void 0:a.offsetHeight)||0;e.menuHeight=null===(n=document.getElementsByClassName("avue-crud__form")[0])||void 0===n?void 0:n.offsetHeight,e.pageTopHeight=i+o,e.maxHeight=e.mainHeight-(e.pageTopHeight-e.layout.topHeight)-e.menuHeight-30}))},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions","layout"])),{},{mainHeight:function(){return this.layout.mainHeight}}),watch:{mainHeight:function(e,t){this.maxHeight=e-(this.pageTopHeight-this.layout.topHeight)-this.menuHeight-30}},methods:{searchMenu:function(){this.getList()},addOrUpdateHandle:function(e,t){var a=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){a.$refs.addOrUpdate.init(e,t)}))},getList:function(){var e=this;this.loading=!0;var t={menuName:this.menuForm.nameKey};(0,o.getMenuTree)(t).then((function(t){e.originMenuList=JSON.parse(JSON.stringify(t.data.data)),e.menuList=(0,l.transferOneLevelArr)(t.data.data),e.loading=!1,e.key++,e.$store.dispatch("GetMenu",{type:!0,isInit:!0}).then((function(t){0!==t.length&&e.$router.$avueRouter.formatRoutes(t,!0)}))}))},handleDelete:function(e){var t=this;(0,o.delObj)(e.id).then((function(){t.getList(),t.key++,t.$message.success("删除成功"),t.$store.dispatch("GetMenu",{type:!0,isInit:!0}).then((function(e){0!==e.length&&t.$router.$avueRouter.formatRoutes(e,!0)}))}))},handleClose:function(){this.addOrUpdateVisible=!1}}};t.default=c},"17ed":function(e,t,a){"use strict";a.r(t);var n=a("37328"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},1868:function(e,t,a){},"18a4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appmenu kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"on-load":e.getMenuTree,"search-change":e.searchChange,"refresh-change":e.refreshChange,"row-update":e.handleUpdate,"row-save":e.handleSave},scopedSlots:e._u([{key:"menuType",fn:function(t){return[a("k-tag",[e._v(" "+e._s("0"===t.row.menuType?"页面":"按钮")+" ")])]}},{key:"visible",fn:function(t){return[a("k-tag",[e._v(" "+e._s("1"===t.row.visible?"显示":"隐藏")+" ")])]}},{key:"operate",fn:function(t){return[e.permissionList.addBtn?a("k-button",{attrs:{"k-type":"minor",size:"small","k-alias":"add"},on:{click:function(a){return e.addRow(t.row,t.index)}}},[e._v("新增 ")]):e._e(),e.permissionList.editBtn?a("k-button",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("修改 ")]):e._e(),e.permissionList.delBtn?a("k-button",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete"},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:e.globalAdd}},[e._v("新增")])],1),a("template",{slot:"menuTypeForm"},[a("k-radio-group",{attrs:{size:"small"},on:{"group-change":e.groupChange},model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("k-radio-button",{attrs:{label:"0"}},[e._v("页面")]),a("k-radio-button",{attrs:{label:"1"}},[e._v("按钮")])],1)],1),a("template",{slot:"pathForm"},[a("k-input",{attrs:{placeholder:"请输入路由路径"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),a("template",{slot:"parentIdForm"},[a("k-checkbox-tree",{ref:"my-checkbox-tree",staticStyle:{display:"inline-block"},attrs:{"popper-class":"appmenu-parent-tree",data:e.parentTreeData,"check-strictly":!0,"show-checkbox":!0,single:!0,width:"200","auto-hide-ppopover":"","expand-on-click-node":!1,align:"left","default-checked-keys":e.defaultCheckedKeys,placeholder:"请选择上级菜单","append-to-body":!0,"highlight-current":""},on:{change:e.changeCheckboxTree}})],1),a("template",{slot:"sortOrderForm"},[a("k-input-number",{attrs:{"k-type":"position",width:"200px",placeholder:"请输入排序"},model:{value:e.form.sortOrder,callback:function(t){e.$set(e.form,"sortOrder",t)},expression:"form.sortOrder"}})],1),a("template",{slot:"visibleForm"},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},[a("k-radio-button",{attrs:{label:"1"}},[e._v("显示")]),a("k-radio-button",{attrs:{label:"0"}},[e._v("隐藏")])],1)],1),a("template",{slot:"permissionForm"},[a("k-input",{attrs:{placeholder:"请输入权限标识"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1)],2)],1)],1)},i=[]},"18cf":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gener kstar-view"},[a("basic-container",[a("div",{staticClass:"step-container"},[a("k-steps",{attrs:{active:e.active,"step-data":e.stepData}})],1),a("div",{staticClass:"component"},[a(e.currentCompon,{ref:"content",tag:"component",attrs:{pageInfo:e.pageInfo}})],1),a("div",{staticClass:"footer-btn"},[0===e.active?a("k-button",{on:{click:e.nextStep}},[e._v("下一步")]):[a("k-button",{on:{click:e.preStep}},[e._v("上一步")]),a("k-button",{on:{click:e.savePreview}},[e._v("保存并预览")]),a("k-button",{on:{click:e.saveGene}},[e._v("保存并生成")])]],2),a("preview-dialog",{attrs:{previewDialog:e.previewDialog,pageId:e.pageId},on:{"update:previewDialog":function(t){e.previewDialog=t},"update:preview-dialog":function(t){e.previewDialog=t}}})],1)],1)},i=[]},"1a39":function(e,t,a){"use strict";a("322d")},"1ca6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{option:e.tableOption,data:e.list,page:e.page,"table-loading":e.listLoading,"before-open":e.handleOpenBefore},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.update,"row-save":e.create,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"dsType",fn:function(t){return[0===t.row.dsType?a("span",[e._v("全部")]):e._e(),1===t.row.dsType?a("span",[e._v("自定义")]):e._e(),2===t.row.dsType?a("span",[e._v("本级及子级")]):e._e(),3===t.row.dsType?a("span",[e._v("本级")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.roleManager_btn_edit?a("k-button",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.handleUpdate(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.roleManager_btn_perm?a("k-button",{attrs:{"k-type":"minor",size:"small","k-alias":"role"},on:{click:function(a){return e.handlePermission(t.row,t.index)}}},[e._v("权限 ")]):e._e(),e.roleManager_btn_del?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.roleName+'"的数据项?'},on:{click:function(a){return e.handleDelete(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.roleManager_btn_add?a("k-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("添加 ")]):e._e(),e.roleManager_btn_export?a("k-button",{on:{click:e.importInfo}},[e._v("导入 ")]):e._e(),a("k-button-delete",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",description:"是否确认批量永久删除？",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1),a("template",{slot:"dsScopeForm"},[1==e.form.dsType?a("div",{staticClass:"kstar-view__tree"},[a("k-tree",{ref:"scopeTree",staticClass:"filter-tree",attrs:{data:e.dsScopeData,"check-strictly":!0,props:e.defaultProps,"default-checked-keys":e.checkedDsScope,"node-key":"id","highlight-current":"","show-checkbox":""}})],1):e._e()])],2)],1),a("el-dialog",{attrs:{visible:e.dialogPermissionVisible,"close-on-click-modal":!1,title:"分配权限","custom-class":"kstar-crud__dialog"},on:{"update:visible":function(t){e.dialogPermissionVisible=t},close:function(t){e.menuFilterText=""}}},[a("k-input",{attrs:{placeholder:"输入关键字进行过滤",width:"100%"},model:{value:e.menuFilterText,callback:function(t){e.menuFilterText=t},expression:"menuFilterText"}}),a("div",{staticClass:"dialog-main-tree"},[a("k-tree",{ref:"menuTree",staticClass:"filter-tree",attrs:{data:e.treeData,"default-checked-keys":e.checkedKeys,"check-strictly":!0,props:e.defaultProps,"filter-node-method":e.filterNode,"node-key":"id","highlight-current":"","show-checkbox":"","default-expand-all":""},on:{check:e.handleCheck}})],1),a("div",{staticClass:"dialog-footer",class:e.dialogBtnConfig,attrs:{slot:"footer"},slot:"footer"},[a("k-button",{attrs:{"k-type":"main",size:"small"},on:{click:function(t){return e.updatePermession(e.roleId)}}},[e._v(" 更 新 ")]),a("k-button",{attrs:{"k-type":"minor",size:"small"},on:{click:function(t){return e.cancel()}}},[e._v(" 取消 ")])],1)],1),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)},i=[]},"1cee":function(e,t,a){"use strict";a("c870")},"1d6b":function(e,t,a){"use strict";a("8e6a")},"1df0":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"design kstar-view"},[a("basic-container",[a("v-form-designer",{ref:"form-design",staticClass:"custom-form-design",attrs:{"designer-config":e.designerConfig},scopedSlots:e._u([{key:"customToolButtons",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:e.saveDesign}},[e._v("保存")]),a("el-button",{attrs:{type:"text"},on:{click:e.exportDesign}},[e._v("导出")]),a("el-button",{attrs:{type:"text"},on:{click:e.getHistory}},[e._v("历史")])]},proxy:!0}])})],1),a("history-drawer",{attrs:{drawer:e.drawerVisible},on:{"update:drawer":function(t){e.drawerVisible=t},goBackGenForm:e.goBackGenForm}})],1)},i=[]},"1e5d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"pages-change":e.pageChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"authorizedGrantTypes",fn:function(t){return[a("k-tooltip",{attrs:{placement:"top"}},[a("kstar-dict-tag",{attrs:{slot:"content",options:e.grandTypeList,value:t.row.authorizedGrantTypes},slot:"content",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.label;return[a("span",[e._v(e._s(n))])]}}],null,!0)}),a("kstar-dict-tag",{staticClass:"grand-type-tags",attrs:{options:e.grandTypeList,value:t.row.authorizedGrantTypes}})],1)]}},{key:"captchaFlag",fn:function(t){return["0"===t.row.captchaFlag?a("span",[e._v("否")]):e._e(),"1"===t.row.captchaFlag?a("span",[e._v("是")]):e._e()]}},{key:"encFlag",fn:function(t){return["0"===t.row.encFlag?a("span",[e._v("否")]):e._e(),"1"===t.row.encFlag?a("span",[e._v("是")]):e._e()]}},{key:"autoapprove",fn:function(t){return["FALSE"===t.row.autoapprove?a("span",[e._v("否")]):e._e(),"TRUE"===t.row.autoapprove?a("span",[e._v("是")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除编号为"'+t.row.clientId+'"的数据项?'},on:{click:function(a){return e.handleDelete(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minor",icon:"el-icon-refresh-right"},on:{click:e.refresh}},[e._v("刷新缓存")]),a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},"1ead":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"字段类型",search:!0,prop:"columnType"},{label:"属性类型",prop:"attrType"},{label:"属性包名",prop:"packageName"},{width:200,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,addDisplay:!1,span:24},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"1ec4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("7c79"),i=a("e766"),o={name:"History",props:{drawer:{type:Boolean,default:!1}},data:function(){return{queryValue:{pageNum:1,pageSize:20,total:0,pageSizes:[10,20,30,40]},historyPageList:[],columns:i.HISTORY_COLUMNS}},created:function(){},watch:{drawer:{immediate:!0,handler:function(e){e&&this.genFormHistoryPage()}}},methods:{genFormHistoryPage:function(){var e=this,t={current:this.queryValue.pageNum,size:this.queryValue.pageSize,descs:"create_time"};(0,n.genFormHistoryPage)(t).then((function(t){e.historyPageList=t.data.data.records,e.queryValue.total=t.data.data.total}))},pageChange:function(e){var t=e.pageNum,a=e.pageSize;this.queryValue.pageNum=t,this.queryValue.pageSize=a,this.genFormHistoryPage()},closeDrawer:function(){this.$emit("update:drawer",!1)},editBtn:function(e,t){var a=this,i=e.id;"delete"===t?(0,n.deleteGenForm)(i).then((function(e){a.$message.success("删除成功"),a.genFormHistoryPage()})):this.$emit("goBackGenForm",i)}}};t.default=o},"1f40":function(e,t,a){"use strict";a.r(t);var n=a("5fc6"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"1f5b":function(e,t,a){},"1f8d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter"},[a("k-form",{ref:"form",attrs:{inline:!0,model:e.form}},[a("k-form-item",{attrs:{label:"岗位名称",prop:"name"}},[a("k-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("k-form-item",[a("k-button",{staticClass:"el-icon-search",on:{click:e.search}},[e._v(" 搜索 ")]),a("k-button",{staticClass:"el-icon-delete",attrs:{"k-type":"minor"},on:{click:e.reset}},[e._v(" 清空 ")])],1),a("k-form-item",{staticClass:"additional"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addPosition}},[e._v(" 新增 ")]),a("k-button",{on:{click:e.importDept}},[e._v(" 导入 ")]),a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.postIds.length},on:{click:e.deletePosition}},[e._v(" 删除 ")]),a("k-button",{attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}}),a("k-button",{attrs:{"k-type":"content",icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1)],1)},i=[]},"1fcb":function(e,t,a){},"1fe5":function(e,t,a){},"20be":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={vaild:[{label:"否",value:"false"},{label:"是",value:"true"}]},i={labelWidth:120,border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",searchMenuSpan:6,viewBtn:!0,dialogClickModal:!1,columnBtn:!1,selection:!0,column:[{width:150,label:"客户端id",prop:"clientId",align:"center",search:!0,editDisabled:!0},{label:"密钥",prop:"clientSecret",align:"center",sortable:!0,overHidden:!0,search:!0,width:120},{label:"域",prop:"scope",align:"center"},{label:"授权模式",prop:"authorizedGrantTypes",type:"select",dicUrl:"/admin/dict/type/grant_types",align:"center",overHidden:!0,multiple:!0,row:!0,span:24,showOverflowTooltip:!1,slot:!0},{label:"令牌时效（秒）",type:"number",prop:"accessTokenValidity",width:"140"},{label:"刷新时效（秒）",type:"number",prop:"refreshTokenValidity",width:"140"},{label:"自动放行",prop:"autoapprove",align:"center",addDisplay:!1,editDisplay:!1,hide:!0,type:"radio",dicData:n.vaild},{label:"权限",prop:"authorities",align:"center",addDisplay:!1,editDisplay:!1,hide:!0},{label:"回调地址",prop:"webServerRedirectUri",align:"center",addDisplay:!1,editDisplay:!1,hide:!0},{label:"验证码开关",border:!0,prop:"captchaFlag",align:"center",type:"radio",hide:!0,dicUrl:"/admin/dict/type/captcha_flag_types"},{label:"前端密码加密",border:!0,prop:"encFlag",align:"center",type:"radio",hide:!0,dicUrl:"/admin/dict/type/enc_flag_types"},{label:"允许同时在线",border:!0,prop:"onlineQuantity",align:"center",type:"radio",hide:!0,dicUrl:"/admin/dict/type/common_status",offset:10},{fixed:"right",width:240,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=i},"211f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getGenTable=o,t.getTableSync=r,a("99af");var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/gen/table/page",method:"get",params:e})}function r(e,t){return(0,i.default)({url:"/gen/table/sync/".concat(e,"/").concat(t),method:"get"})}},2200:function(e,t,a){"use strict";a.r(t);var n=a("4bb5"),i=a("84e6");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"4dfd2943",null);t["default"]=s.exports},"24b7":function(e,t,a){"use strict";a("b05c")},2523:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("b0c0"),a("d81d");var i=n(a("5530")),o=a("f7c5"),r=a("3e2b"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("2200")),u=n(a("cdb5")),f=a("659f"),p={name:"Tenant",components:{TenantMenu:d.default},data:function(){return{tenantIds:[],tenantMenuList:[],defaultProps:{value:"id",label:"name"},tableData:[],searchForm:{},page:{total:0,currentPage:1,pageSize:20},form:{id:"",code:"",name:"",status:"",startTime:"",endTime:"",menuId:"",tenantDomain:""},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.tenant),drawer:!1}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_systenant_add,!1),editBtn:this.vaildData(this.permissions.sys_systenant_edit,!1),delBtn:this.vaildData(this.permissions.sys_systenant_del,!1),tenantMenuBtn:this.vaildData(this.permissions.sys_systenant_tenantmenu,!1),delMenuBtn:this.vaildData(this.permissions.sys_systenantmenu_del,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=u.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=u.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),created:function(){},methods:{exportPosition:function(){(0,f.exportFile)("/admin/tenant/export",{name:this.form.name},"get","tenant")},getTenantMenu:function(){var e=this;(0,o.getTenantMenu)().then((function(t){e.tenantMenuList=t.data.data}))},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchPage)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1,a.form.menuId=""})).catch((function(){a.tableLoading=!1}))},rowDel:function(e,t){var a=this,n=t?e:[e.id];(0,o.delObj)(n).then((function(){a.page.currentPage=1,a.getList(a.page),a.$message.success("删除成功")}))},batchDelete:function(){var e=this,t="是否确认批量删除数据?",a=this.tenantIds;this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(a)})).then((function(t){e.$message.success("删除成功"),e.page.currentPage=1,e.getList(e.page)}))},selectionChange:function(e){this.tenantIds=e.map((function(e){return e.id}))},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(this.form).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n()}))},handleSave:function(e,t,a){var n=this;this.setForm(e),(0,o.addObj)(this.form).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},update:function(e,t){e.time=[e.startTime,e.endTime],this.form.menuId=e.menuId,this.$refs.crud.rowEdit(e,t)},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},setForm:function(e){this.form={id:e.id,code:e.code,name:e.name,status:e.status,startTime:e.time&&e.time[0],endTime:e.time&&e.time[1],menuId:this.form.menuId,tenantDomain:e.tenantDomain}},tenantMenuBtn:function(){this.drawer=!0},beforeOpen:function(e,t){this.getTenantMenu(),window.boxType=t,e()}}};t.default=p},"25ea":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=s,t.delObj=r,t.fetchList=o,t.getTemplateId=c,t.putObj=l;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/gen/group/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/gen/group",method:"delete",data:e})}function s(e){return(0,i.default)({url:"/gen/group",method:"post",data:e})}function l(e){return(0,i.default)({url:"/gen/group",method:"put",data:e})}function c(e){return(0,i.default)({url:"/gen/group/"+e,method:"get"})}},"263d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"second",staticClass:"step-second-area"},[a("k-tabs",{attrs:{"tab-list":e.tabListBasic,props:e.defaultPropsBasic,border:""},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("k-table-com",{ref:"my-table-com1",attrs:{slot:"first",data:e.attrTableData,columns:e.attrColumns,"highlight-current-row":""},slot:"first",scopedSlots:e._u([{key:"attrType",fn:function(t){return[a("k-select",{attrs:{options:e.fieldTypeList,props:e.attrDefaultProps,placeholder:"请选择属性类型",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.attrType,callback:function(a){e.$set(t.row,"attrType",a)},expression:"scope.row.attrType"}})]}},{key:"autoFill",fn:function(t){return[a("k-select",{attrs:{options:e.autoFillList,placeholder:"请选择自动填充",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.autoFill,callback:function(a){e.$set(t.row,"autoFill",a)},expression:"scope.row.autoFill"}})]}},{key:"primaryPk",fn:function(t){return[a("k-checkbox",{model:{value:t.row.primaryPk,callback:function(a){e.$set(t.row,"primaryPk",a)},expression:"scope.row.primaryPk"}})]}},{key:"fieldDict",fn:function(t){return[a("k-select",{attrs:{options:e.dicTypeList,placeholder:"请选择字典类型",props:e.dicDefaultProps,width:"calc(100% - 10px)",size:"small"},model:{value:t.row.fieldDict,callback:function(a){e.$set(t.row,"fieldDict",a)},expression:"scope.row.fieldDict"}})]}}])}),a("k-table-com",{ref:"my-table-com2",attrs:{slot:"second",data:e.attrTableData,columns:e.colColumns,"highlight-current-row":""},slot:"second",scopedSlots:e._u([{key:"gridItem",fn:function(t){return[a("k-checkbox",{model:{value:t.row.gridItem,callback:function(a){e.$set(t.row,"gridItem",a)},expression:"scope.row.gridItem"}})]}},{key:"gridSort",fn:function(t){return[a("k-checkbox",{model:{value:t.row.gridSort,callback:function(a){e.$set(t.row,"gridSort",a)},expression:"scope.row.gridSort"}})]}},{key:"queryFormType",fn:function(t){return[a("k-select",{attrs:{options:e.queryFormTypeList,placeholder:"请选择查询表单类型",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.queryFormType,callback:function(a){e.$set(t.row,"queryFormType",a)},expression:"scope.row.queryFormType"}})]}},{key:"queryItem",fn:function(t){return[a("k-checkbox",{model:{value:t.row.queryItem,callback:function(a){e.$set(t.row,"queryItem",a)},expression:"scope.row.queryItem"}})]}},{key:"queryType",fn:function(t){return[a("k-select",{attrs:{options:e.queryTypeList,placeholder:"请选择查询方式",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}})]}}])}),a("k-table-com",{ref:"my-table-com3",attrs:{slot:"third",data:e.attrTableData,columns:e.formColumns,"highlight-current-row":""},slot:"third",scopedSlots:e._u([{key:"formType",fn:function(t){return[a("k-select",{attrs:{options:e.formTypeList,placeholder:"请选择表单类型",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.formType,callback:function(a){e.$set(t.row,"formType",a)},expression:"scope.row.formType"}})]}},{key:"formItem",fn:function(t){return[a("k-checkbox",{model:{value:t.row.formItem,callback:function(a){e.$set(t.row,"formItem",a)},expression:"scope.row.formItem"}})]}},{key:"formRequired",fn:function(t){return[a("k-checkbox",{model:{value:t.row.formRequired,callback:function(a){e.$set(t.row,"formRequired",a)},expression:"scope.row.formRequired"}})]}},{key:"formValidator",fn:function(t){return[a("k-select",{attrs:{options:e.formValidatorList,placeholder:"请选择表单校验",width:"calc(100% - 10px)",size:"small"},model:{value:t.row.formValidator,callback:function(a){e.$set(t.row,"formValidator",a)},expression:"scope.row.formValidator"}})]}}])})],1)],1)},i=[]},2669:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",viewBtn:!0,searchMenuSpan:6,delBtn:!0,labelWidth:100,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"ID",prop:"id",hide:!0,addDisplay:!1,editDisplay:!1},{label:"类型",prop:"type",type:"select",dicUrl:"/admin/dict/type/social_type",search:!0,slot:!0},{label:"描述",prop:"remark"},{label:"appId",prop:"appId",overHidden:!0},{label:"appSecret",prop:"appSecret",overHidden:!0},{label:"回调地址",prop:"redirectUrl",hide:!0},{label:"扩展字段",prop:"ext",hide:!0},{valueFormat:"timestamp",format:"yyyy-MM-dd hh:mm:ss",label:"创建时间",prop:"createTime",align:"center",addDisplay:!1,editDisplay:!1},{fixed:"right",width:240,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},2695:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("k-drawer",{staticClass:"history",attrs:{title:"设计历史",direction:"rtl",visible:e.drawer},on:{"update:visible":function(t){e.drawer=t},close:e.closeDrawer}},[a("div",{staticClass:"k-drawer__body__wrapper"},[a("div",{staticClass:"k-drawer__content"},[a("k-table-com",{ref:"my-history",attrs:{"open-page":!0,"query-value":e.queryValue,data:e.historyPageList,columns:e.columns,"highlight-current-row":""},on:{"edit-btn":e.editBtn,"page-change":e.pageChange}})],1)])])},i=[]},2794:function(e,t,a){"use strict";a.r(t);var n=a("caba"),i=a("cc04");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("70af");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"1ec5ff02",null);t["default"]=s.exports},"286f":function(e,t,a){},2887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",viewBtn:!0,addBtn:!1,editBtn:!1,searchMenuSpan:6,dialogClickModal:!1,columnBtn:!1,selection:!0,column:[{label:"用户ID",prop:"id",align:"center",hide:!0},{label:"用户名",prop:"username",align:"center",search:!0},{label:"客户端",prop:"clientId",align:"center"},{label:"令牌",prop:"accessToken",align:"center",overHidden:!0},{label:"过期时间",prop:"expiresAt",align:"center"},{prop:"caozuo",label:"操作",editStyle:"editBtn",width:140,editBtn:[{title:"下线",key:"offline",size:"small",type:"primary",kType:"minorDanger"}],editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},2940:function(e,t,a){"use strict";a.r(t);var n=a("1553"),i=a("bedc");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4c6f");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"65b29ac6",null);t["default"]=s.exports},"2af9":function(e,t,a){},"2b31":function(e,t,a){"use strict";a.r(t);var n=a("b583"),i=a("aa36");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("7e68");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"f94f55b0",null);t["default"]=s.exports},"2bc4":function(e,t,a){"use strict";a.r(t);var n=a("7da9"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"2be5":function(e,t,a){"use strict";a.r(t);var n=a("d901"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"2c1f":function(e,t,a){},"2c29":function(e,t,a){"use strict";a("7861")},"2d44":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b85c"));a("a9e3"),a("b0c0"),a("d3b7"),a("159b"),a("fb6a"),a("ac1f"),a("1276");var o=a("7c79"),r={props:{previewDialog:{type:Boolean,default:!1},pageId:{type:Number,default:function(){return""}}},components:{},data:function(){return{param:{visible:!1,title:"代码预览",width:"90%"},previewTree:[],activeTab:"",tabListBasic:[]}},watch:{previewDialog:{immediate:!0,handler:function(e){this.param.visible=e,e&&this.getPreviewPage()}}},created:function(){},methods:{nodeClickTree:function(e,t,a){e.children.length||(this.activeTab=e.label)},tabClick:function(e){var t=e.name;this.$refs.catalogTree.$refs.proxyComponent.setCheckedKeys([t])},handleClose:function(){this.$emit("update:previewDialog",!1)},getPreviewPage:function(){var e=this,t={tableId:this.pageId};this.tabListBasic=[],(0,o.getPreviewPage)(t).then((function(t){var a=t.data,n=[];a.forEach((function(t,a){n.push(t.codePath);var i=t.codePath.slice(t.codePath.lastIndexOf("/")+1);e.tabListBasic.push({label:i,name:i,code:t.code}),0===a&&(e.activeTab=i)})),e.handerPathToTree(n,e.previewTree)}))},handerPathToTree:function(e,t){e.forEach((function(e){var a,n=e.split("/"),o=t,r=(0,i.default)(n);try{for(r.s();!(a=r.n()).done;){var s=a.value,l={label:s};0===o.length&&o.push(l);var c=!1;for(var d in o)if(o[d].label===l.label){o[d].children||(o[d].children=[]),o=o[d].children,c=!0;break}c||(o.push(l),o[o.length-1].children||(o[o.length-1].children=[]),o=o[o.length-1].children)}}catch(u){r.e(u)}finally{r.f()}}))}}};t.default=r},"2d87":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableColumnOption=void 0;var n={rowKey:"tableName",indexLabel:"序号",border:!0,index:!0,stripe:!0,menuAlign:"center",align:"center",menu:!1,addBtn:!1,searchMenuSpan:6,column:[{label:"数据源",prop:"dsName",hide:!0,search:!0,type:"select",dicUrl:"/gen/dsconf/list",props:{label:"username",value:"name"}},{label:"表名",prop:"tableName",align:"center",overHidden:!0,search:!0},{label:"注释",prop:"tableComment",align:"center",overHidden:!0},{label:"创建时间",prop:"createTime",align:"center",overHidden:!0},{label:"字段名",prop:"columnName",hide:!0,align:"center"},{label:"字段类型",prop:"columnType",hide:!0,align:"center"},{label:"JAVA类型",prop:"javaType",hide:!0,align:"center"},{width:250,prop:"operate",label:"操作",editStyle:"editBtn",editBtn:[{title:"同步",key:"sync",size:"small",type:"primary",kType:"minor"},{title:"生成",key:"gen",size:"small",type:"primary",kType:"minor"},{title:"设计",key:"design",size:"small",type:"primary",kType:"minor"}],editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableColumnOption=n},"2dad":function(e,t,a){"use strict";a.r(t);var n=a("c143"),i=a("755f");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("cbdb");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"9c8fb2c6",null);t["default"]=s.exports},"2ed8":function(e,t,a){"use strict";a.r(t);var n=a("fbab"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"2ed8c":function(e,t,a){"use strict";a.r(t);var n=a("18a4"),i=a("3070");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4724"),a("0493");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"3499ae69",null);t["default"]=s.exports},"2f5e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"search-change":e.searchChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissions.daemon_status_trace_log_del?a("k-button",{attrs:{"k-type":"minorDanger","k-alias":"delete"},on:{click:function(a){return e.handleDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}])})],1)],1)},i=[]},"2f87":function(e,t,a){},"2fb3":function(e,t,a){},3036:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.delObj=r,t.fetchList=o;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/log/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/log",method:"delete",data:e})}},3050:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.fetchList=o;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/job/sys-job-log/page",method:"get",params:e})}},3070:function(e,t,a){"use strict";a.r(t);var n=a("48ff"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},3161:function(e,t,a){},3200:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"code-gener kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"refresh-change":e.refreshChange,"search-change":e.searchChange,"pages-change":e.pageChange,"edit-btn":e.editBtn},model:{value:e.queryData,callback:function(t){e.queryData=t},expression:"queryData"}})],1)],1)},i=[]},"322d":function(e,t,a){},3350:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.delObj=r,t.fetchList=o;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/audit/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/audit",method:"delete",data:e})}},3372:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2909")),o=n(a("5530"));a("7db0"),a("d3b7"),a("99af"),a("4de4"),a("caad"),a("e9c4"),a("d81d"),a("b0c0");var r=a("0d26"),s=a("e98a"),l=a("78b2"),c=a("6d09"),d=a("2f62"),u=n(a("d166")),f=a("b729"),p=a("5189"),m=n(a("785e")),h=n(a("cdb5")),g={name:"SysUser",components:{ImportContent:m.default},data:function(){var e=this;return c.tableOption.column.find((function(t){if("lockFlag"==t.prop)return t.click=function(t){t.value,t.column;clearTimeout(e.lockFlagTimeout),e.lockFlagTimeout=setTimeout((function(){e.validateField("lockFlag")}),200)},!0})),{importVisible:!1,key:0,filterText:"",lockFlagTimeout:null,searchForm:{},treeOption:{children:"children",label:"name",value:"id"},treeData:[],option:(0,f.getTableOptions)(c.tableOption,u.default.user),treeDeptData:[],checkedKeys:[],roleProps:{label:"roleName",value:"roleId"},postProps:{label:"postName",value:"postId"},defaultProps:{label:"name",value:"id"},page:{total:0,currentPage:1,pageSize:20,isAsc:!1},list:[],listLoading:!0,role:[],form:{},postOptions:[],rolesOptions:[],deptId:"",post:[],batchUserIds:[],sys_user_export:!1,originPhone:"",currentNodeKey:""}},computed:(0,o.default)((0,o.default)({},(0,d.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=h.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=h.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)},defaultContainerMargin:function(){var e;return!1!==(null===(e=h.default.defaultContainerMargin)||void 0===e?void 0:e.open)}}),watch:{role:function(){this.form.role=this.role},post:function(){this.form.post=this.post},filterText:function(e){this.$refs.userTree&&this.$refs.userTree.filter(e)}},created:function(){this.sys_user_add=this.permissions.sys_user_add,this.sys_user_edit=this.permissions.sys_user_edit,this.sys_user_del=this.permissions.sys_user_del,this.sys_user_reset_password=this.permissions.sys_user_reset_password,this.sys_user_export=this.permissions.sys_user_export,this.init()},methods:{validateField:function(e){this.$nextTick((function(){}))},init:function(){var e=this;(0,s.getDeptTree)().then((function(t){var a={id:"",isLock:!1,name:"全部",parentId:"0",weight:0};e.treeData=[a].concat((0,i.default)(t.data.data))})),(0,p.getSelectList)().then((function(t){e.postOptions=t.data.data}))},nodeClick:function(e){this.page.page=1,this.deptId=e.id||"",this.getList(this.page,{deptId:e.id})},getList:function(e,t){var a=this;this.deptId&&(t||(t={}),t.deptId||(t.deptId=this.deptId)),this.listLoading=!0,(0,r.fetchList)(Object.assign({current:e.currentPage,size:e.pageSize},this.searchForm,t)).then((function(e){a.list=e.data.data.records,a.page.total=e.data.data.total,a.key++})).finally((function(){a.listLoading=!1}))},getNodeData:function(){var e=this;(0,l.getRoleTree)().then((function(t){e.rolesOptions=t.data.data}))},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},handleOpenBefore:function(e,t){var a=this;if(window.boxType=t,(0,s.getDeptTree)().then((function(e){a.treeDeptData=e.data.data})),(0,l.getRoleTree)().then((function(e){a.rolesOptions=e.data.data})),["edit","views"].includes(t)){this.role=[],this.post=[];for(var n=0;n<this.form.roleList.length;n++)this.role[n]=this.form.roleList[n].roleId;for(var i=0;i<this.form.postList.length;i++)this.post[i]=this.form.postList[i].postId}else"add"===t&&(this.role=[],this.post=[],this.form.username=void 0,this.form.phone=void 0,this.form.password=void 0);e()},handleUpdate:function(e,t){this.form.nickname=null,this.originPhone=JSON.parse(JSON.stringify(e.phone)),e.password="●●●●●●",this.$refs.crud.rowEdit(e,t)},create:function(e,t,a){var n=this;this.form.phone&&this.form.phone.indexOf("*")>0&&(this.form.phone=void 0),(0,r.addUser)(this.form).then((function(){n.getList(n.page),t(),n.$notify.success("创建成功")})).catch((function(){a()}))},update:function(e,t,a,n){var i=this;if("●●●●●●"===this.form.password&&delete this.form.password,this.form.phone&&this.form.phone.indexOf("*")>0){if(this.originPhone!==this.form.phone)return this.$refs.crud.$data.ketBtnLoading=!1,void this.$message.error("请输入正确的手机号");this.form.phone=void 0}(0,r.updateInfo)(this.form).then((function(){i.getList(i.page),a(),i.$notify.success("修改成功")})).catch((function(){n()}))},deletes:function(e,t){var a=this;(0,r.deleteUser)([e.userId]).then((function(){a.page.currentPage=1,a.getList(a.page),a.$notify.success("删除成功")})).catch((function(){a.$notify.error("删除失败")}))},selectionChange:function(e){this.batchUserIds=e.map((function(e){return e.userId}))},batchDelete:function(){var e=this;this.$confirm("是否确认批量删除用户信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,r.deleteUser)(e.batchUserIds).then((function(){e.page.currentPage=1,e.getList(e.page),e.$notify.success("删除成功")})).catch((function(){e.$notify.error("删除失败")}))})).catch((function(){}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},importInfo:function(){this.importVisible=!0}},destroyed:function(){clearTimeout(this.lockFlagTimeout)}};t.default=g},"358b":function(e,t,a){"use strict";a("aaf2")},"35c9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b");var n=a("0264"),i=a("5189"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("post.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importPost)(a).then((function(e){t.$message.success(e.data.msg||"导入成功"),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$emit("refresh-list")})).catch((function(e){var a=e.data[0].errors;t.$message.error("".concat(a.join("、")))}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},"362b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",menuWidth:150,menuBtn:!0,align:"center",addBtn:!1,editBtn:!1,delBtn:!1,selection:!0,columnBtn:!1,menuType:"menu",searchMenuSpan:6,column:[{fixed:!0,label:"流程ID",prop:"processonDefinitionId"},{fixed:!0,label:"模型标识",prop:"key",editDisabled:!0},{label:"流程分类",prop:"category",search:!0},{label:"模型名称",prop:"name"},{label:"版本",prop:"revision",editDisabled:!0,addDisplay:!1},{label:"状态",prop:"revision",editDisabled:!0,addDisplay:!1},{label:"部署时间",prop:"deploymentTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"timestamp",editDisabled:!0,addDisplay:!1},{fixed:"right",width:240,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},3657:function(e,t,a){"use strict";a.r(t);var n=a("f274"),i=a("04be");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"36bd":function(e,t,a){"use strict";a("9c7e")},37328:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("0264"),i=a("8edd"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("appuser.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importAppUser)(a).then((function(e){t.$message.success(e.data.msg),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$parent.refreshChange()}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},"37a5a":function(e,t,a){"use strict";a.r(t);var n=a("ab9b"),i=a("66cb");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"6ab99243",null);t["default"]=s.exports},3819:function(e,t,a){"use strict";a.r(t);var n=a("7030"),i=a("91e4");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b644");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"7c923c52",null);t["default"]=s.exports},"3a56c":function(e,t,a){},"3b18":function(e,t,a){},"3b42":function(e,t,a){"use strict";a("3f61")},"3bcc":function(e,t,a){"use strict";a.r(t);var n=a("5744"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"3c9b":function(e,t,a){"use strict";a.r(t);var n=a("2523"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"3e2b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=t.tableMenuOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,align:"center",dialogClickModal:!1,columnBtn:!1,selection:!0,column:[{label:"租户id",prop:"id",hide:!0,editDisabled:!0,editDisplay:!1,addDisplay:!1},{label:"租户名称",prop:"name",search:!0},{label:"编号",type:"number",prop:"code"},{label:"域名",prop:"tenantDomain"},{label:"租户套餐",prop:"menuId",hide:!0,editDisplay:!0,addDisplay:!0,formslot:!0},{label:"开始时间",prop:"startTime",type:"datetime",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1},{label:"结束时间",prop:"endTime",type:"datetime",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1},{label:"日期",prop:"time",type:"datetimerange",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",hide:!0,cloumsHide:!0,formItemWidth:"100%"},{label:"状态",prop:"status",type:"radio",border:!0,dicUrl:"/admin/dict/type/status_type",slot:!0},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n;var i={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,align:"center",dialogClickModal:!1,columnBtn:!1,column:[{label:"租户套餐",prop:"name"},{label:"状态",prop:"status",type:"radio",slot:!0,dicData:[{label:"正常",value:"0"},{label:"冻结",value:"9"}]},{label:"",prop:"menuIds",hide:!0,formslot:!0},{label:"创建时间",prop:"createTime",editDisplay:!1,addDisplay:!1},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableMenuOption=i},"3e39":function(e,t,a){},"3f40":function(e,t,a){"use strict";a.r(t);var n=a("4ab7"),i=a("f003");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("99d3");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"4b7fecc9",null);t["default"]=s.exports},"3f61":function(e,t,a){},4011:function(e,t,a){"use strict";a("a71e")},"40b3":function(e,t,a){"use strict";a.r(t);var n=a("f14d"),i=a("09c3");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("49f9");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"29c07b6a",null);t["default"]=s.exports},4113:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("d81d"),a("4de4");var i=n(a("5530")),o=a("ba96"),r=a("14f2"),s=a("2669"),l=a("2f62"),c=n(a("d166")),d=a("b729"),u=n(a("cdb5")),f={name:"SysSocialDetails",data:function(){return{socialIds:[],searchForm:{},socialTypeList:[],tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,d.getTableOptions)(s.tableOption,c.default.sysSocialDetails)}},created:function(){this.getDict()},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions","layout"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_social_details_add,!1),delBtn:this.vaildData(this.permissions.sys_social_details_del,!1),editBtn:this.vaildData(this.permissions.sys_social_details_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=u.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=u.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),watch:{role:function(){this.form.role=this.role}},methods:{getDict:function(){var e=this;(0,r.remote)("social_type").then((function(t){var a;e.socialTypeList=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data)||[]}))},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.getSocialPage)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total})).finally((function(){a.tableLoading=!1}))},rowDel:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a?e:[e.id];(0,o.delObj)(n).then((function(){t.$message.success("删除成功"),t.page.currentPage=1,t.refreshChange()}))},handleUpdate:function(e,t,a){var n=this;(0,o.putObj)(e).then((function(){n.$message.success("修改成功"),n.refreshChange(),a()})).catch((function(){a()}))},handleSave:function(e,t){var a=this;(0,o.addObj)(e).then((function(){a.tableData.push(Object.assign({},e)),a.$message.success("添加成功"),a.refreshChange(),t()})).catch((function(){t()}))},refreshChange:function(){this.getList(this.page)},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},beforeOpen:function(e,t){window.boxType=t,e()},selectionChange:function(e){this.socialIds=e.map((function(e){return e.id}))},batchDelete:function(){var e=this,t="是否确认批量删除数据?";this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(e.socialIds)})).then((function(){e.$message.success("删除成功"),e.page.currentPage=1,e.refreshChange()})).catch((function(){}))},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)},transferText:function(e){var t=this.socialTypeList.filter((function(t){return t.value===e}));return t.length?t[0].label:"其他"}}};t.default=f},"413b":function(e,t,a){"use strict";a("3b18")},4196:function(e,t,a){"use strict";a.r(t);var n=a("57f4"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"41d0":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange},scopedSlots:e._u([{key:"menuBtn",fn:function(t){return[e.permissions.act_task_manage?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.audit(t.row,t.index)}}},[e._v("审批 ")]):e._e(),e.permissions.act_task_manage?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.comment(t.row,t.index)}}},[e._v("批注 ")]):e._e(),e.permissions.act_task_manage?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.viewPic(t.row,t.index)}}},[e._v("流程图 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minorDanger",size:"small"}},[e._v("删除")]),a("k-button",{attrs:{"k-type":"minor",size:"small"}},[e._v("导出")])],1)],2)],1),a("el-dialog",{attrs:{visible:e.showTask,title:"任务办理"},on:{"update:visible":function(t){e.showTask=t}}},[a("kstar-crud-form",{ref:"form",attrs:{option:e.formOption},scopedSlots:e._u([{key:"menuForm",fn:function(t){return e._l(e.flagList,(function(n){return a("k-button",{key:n,attrs:{icon:"el-icon-check",plain:""},on:{click:function(a){return e.handleTask(t.row,n)}}},[e._v(e._s(n)+" ")])}))}}]),model:{value:e.obj,callback:function(t){e.obj=t},expression:"obj"}})],1),a("el-dialog",{attrs:{visible:e.showComment,title:"批注列表"},on:{"update:visible":function(t){e.showComment=t}}},[a("kstar-crud",{attrs:{data:e.taskTableData,option:e.taskOption}})],1),a("el-dialog",{attrs:{visible:e.showPicDialog,title:"流程图"},on:{"update:visible":function(t){e.showPicDialog=t}}},[e.showPicDialog?a("img",{attrs:{src:e.actPicUrl,width:"100%"}}):e._e()])],1)},i=[]},"41e3":function(e,t,a){},"420d":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("25ea"),r=a("6585"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=a("659f"),f={name:"index",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.group),ids:[],templateId:[],templateIdData:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.admin_syspublicparam_add,!1),delBtn:this.vaildData(this.permissions.admin_syspublicparam_del,!0),editBtn:this.vaildData(this.permissions.admin_syspublicparam_edit,!0)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{change:function(e){this.templateId=e.templateId},batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除模板?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")})).catch((function(){}))},searchReset:function(){this.searchForm={},this.getList(this.page)},exportPosition:function(){(0,u.exportFile)("/gen/group/export",{},"get","group")},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},rowDel:function(e,t){e.ids=[e.id],this.handleDel(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;e.templateId=this.templateId,(0,o.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){var a=this;(0,o.getTemplateId)(e.id).then((function(t){var n=t.data.data.templateList.length&&t.data.data.templateList.map((function(e){return e.id}));a.$set(e,"templateId",n)})).then((function(){a.$refs.crud.rowEdit(e,t)}))}}};t.default=f},4241:function(e,t,a){"use strict";a.r(t);var n=a("61eb"),i=a("c55e");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},4248:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",menuBtn:!0,align:"center",editBtn:!1,delBtn:!1,selection:!0,columnBtn:!1,menuType:"menu",searchMenuSpan:6,column:[{label:"模型名称",prop:"name"},{fixed:!0,label:"模型标识",prop:"key",editDisabled:!0},{label:"模型分类",prop:"category",search:!0},{label:"版本号",prop:"version",editDisabled:!0,addDisplay:!1},{label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"timestamp",editDisabled:!0,addDisplay:!1},{label:"更新时间",prop:"lastUpdateTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"timestamp",editDisabled:!0,addDisplay:!1},{fixed:"right",width:260,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},4374:function(e,t,a){"use strict";a.r(t);var n=a("a0f1"),i=a("a2d4");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("e705");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"78b7cd08",null);t["default"]=s.exports},4384:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",menuWidth:150,align:"center",refreshBtn:!0,showClomnuBtn:!1,searchSize:"mini",searchMenuSpan:6,dialogClickModal:!1,addBtn:!1,editBtn:!1,viewBtn:!0,columnBtn:!1,selection:!0,props:{label:"label",value:"value"},column:[{width:70,label:"类型",prop:"logType",slot:!0,type:"select",dicUrl:"/admin/dict/type/log_type",search:!0},{label:"标题",prop:"title"},{label:"IP地址",prop:"remoteAddr"},{width:100,label:"请求方式",prop:"method"},{label:"客户端",prop:"serviceId"},{width:100,label:"请求时间",prop:"time"},{width:280,label:"创建时间",prop:"createTime",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",search:!0,searchRange:!0,viewDisplay:!1},{label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",hide:!0,cloumsHide:!1,editDisabled:!0,addDisplay:!1,editDisplay:!1},{label:"创建人",prop:"createBy"},{label:"异常信息",prop:"exception",type:"textarea",hide:!0,cloumsHide:!1,editDisabled:!0,addDisplay:!1,editDisplay:!1},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,width:180,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},4471:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,dialogClickModal:!1,selection:!0,columnBtn:!1,rowKey:"publicId",column:[{label:"名称",search:!0,prop:"publicName"},{label:"键",prop:"publicKey",search:!0},{label:"值",overHidden:!0,prop:"publicValue"},{label:"状态",prop:"status",width:80,type:"select",slot:!0,dicUrl:"/admin/dict/type/status_type"},{label:"编码",prop:"validateCode",addDisplay:!0,editDisplay:!0,cloumsHide:!1},{width:200,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,addDisplay:!1,span:24},{label:"类型",width:80,prop:"publicType",type:"select",dicUrl:"/admin/dict/type/param_type",addDisplay:!0,editDisplay:!0,cloumsHide:!1},{label:"类型",width:80,prop:"systemFlag",type:"radio",slot:!0,dicUrl:"/admin/dict/type/dict_type",search:!0},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"471d":function(e,t,a){"use strict";a.r(t);var n=a("023e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},4724:function(e,t,a){"use strict";a("f616")},4885:function(e,t,a){"use strict";a.r(t);var n=a("9e4f"),i=a("c1f8");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c2eb");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"26236d5c",null);t["default"]=s.exports},"48b2":function(e,t,a){"use strict";function n(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)}function i(e){return/^1[0-9]{10}$/.test(e)}function o(e){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(e)}function r(e){return/^http[s]?:\/\/.*/.test(e)}function s(e){var t=["admin","editor"];return t.indexOf(e.trim())>=0}function l(e){var t=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return t.test(e)}function c(e){var t=/^[a-z]+$/;return t.test(e)}function d(e){var t=/^[A-Z]+$/;return t.test(e)}function u(e){var t=/^[A-Za-z]+$/;return t.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.cardid=m,t.isEmail=n,t.isMobile=i,t.isPhone=o,t.isURL=r,t.isValidateNoneMobile=g,t.isvalidUsername=s,t.isvalidatemobile=h,t.vaildatePc=void 0,t.validatAlphabets=u,t.validateEmail=p,t.validateLowerCase=c,t.validateURL=l,t.validateUpperCase=d,t.validatename=b,t.validatenull=k,t.validatenum=v,t.validatenumord=y,a("ac1f"),a("00b4"),a("498a"),a("1276"),a("e9c4");var f=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){a=!1;break}return a};function p(e){var t=/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function m(e){var t=[],a=!0,n="",i={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};if(k(e))n="证件号码不能为空";else if(18===e.length)if(e&&/(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e))if(i[e.substr(0,2)]){e=e.split("");for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=[1,0,"X",9,8,7,6,5,4,3,2,"x"],s=0,l=0,c=0,d=0;d<17;d++)l=e[d],c=o[d],s+=l*c;r[s%11]!==e[17]?n="证件号码校验位错误":a=!1}else n="地址编码错误";else n="证件号码格式错误";else n="证件号码长度不为18位";return t.push(a),t.push(n),t}function h(e){var t=[],a=!0,n="",i=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return k(e)?n="手机号码不能为空":11===e.length?i.test(e)?a=!1:n="手机号码格式不正确":n="手机号码长度不为11位",t.push(a),t.push(n),t}function g(e){var t=[],a=!0,n="",i=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return k(e)?a=!1:11===e.length?i.test(e)?a=!1:n="手机号码格式不正确":n="手机号码长度不为11位",t.push(a),t.push(n),t}function b(e){var t=/^[\u4e00-\u9fa5]{2,4}$/;return!!t.test(e)}function v(e,t){var a=/[^\d.]/g;if(1===t){if(!a.test(e))return!1}else if(2===t&&(a=/[^\d]/g,!a.test(e)))return!1;return!0}function y(e,t){var a=/[^\d.]/g;if(1===t){if(!a.test(e))return!1}else if(2===t&&(a=/[^\d.]/g,!a.test(e)))return!1;return!0}function k(e){if("boolean"===typeof e)return!1;if("number"===typeof e)return!1;if(e instanceof Array){if(0===e.length)return!0}else{if(!(e instanceof Object))return"null"===e||null==e||"undefined"===e||void 0===e||""===e;if("{}"===JSON.stringify(e))return!0}return!1}t.vaildatePc=f},"48b5":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("4de4"),a("d3b7");var i=n(a("5530")),o=a("85b2"),r=a("14f2"),s=a("a8a00"),l=n(a("78fd")),c=a("2f62"),d=n(a("cdb5")),u={comments:{AvueUeditor:l.default},name:"LeaveBill",data:function(){return{searchForm:{},stateList:[],tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:s.tableOption}},created:function(){this.getDictByType("leave_status")},mounted:function(){},computed:(0,i.default)((0,i.default)({},(0,c.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.getLeaveBillPage)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},handleAdd:function(){this.$refs.crud.rowAdd()},handleEdit:function(e,t){this.$refs.crud.rowEdit(e,t)},handleDel:function(e,t){this.$refs.crud.rowDel(e,t)},rowDel:function(e,t){var a=this;(0,o.delObj)(e.leaveId).then((function(){a.$message.success("删除成功")}))},handleSubmit:function(e,t){var a=this;this.$confirm("是否确认提交ID为"+e.leaveId,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.submit)(e.leaveId)})).then((function(){a.$message.success("提交成功"),a.getList(a.page)}))},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n()}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e),t()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},transferToText:function(e){var t;return null===(t=this.stateList.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.label},getDictByType:function(e){var t=this;(0,r.remote)(e).then((function(e){console.log(e,"type0000"),t.stateList=e.data}))}}};t.default=u},"48f1":function(e,t,a){"use strict";a.r(t);var n=a("889d"),i=a("f4ab");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c621");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"69b48f5c",null);t["default"]=s.exports},"48ff":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("159b"),a("b0c0"),a("e9c4");var i=n(a("5530")),o=a("8431"),r=a("d68d"),s=n(a("d166")),l=a("2f62"),c=a("b729"),d=n(a("cdb5")),u={name:"AppRole",data:function(){return{defaultCheckedKeys:[],form:{menuType:"0",visible:"1"},searchForm:{},tableData:[],tableLoading:!1,tableOption:(0,c.getTableOptions)(o.tableOption,s.default.appmenu)}},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.app_appmenu_add,!1),delBtn:this.vaildData(this.permissions.app_appmenu_del,!1),editBtn:this.vaildData(this.permissions.app_appmenu_edit,!1)}},parentTreeData:function(){var e=[{id:"-1",parentId:null,label:"根节点",visible:"1",menuType:"",children:this.tableData}];return e},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),mounted:function(){},watch:{},methods:{groupChange:function(e){var t=this;this.tableOption.column.forEach((function(e){"0"===t.form.menuType?("permission"===e.prop&&(e.addDisplay=!1,e.editDisplay=!1),"visible"!==e.prop&&"path"!==e.prop||(e.addDisplay=!0,e.editDisplay=!0)):("permission"===e.prop&&(e.addDisplay=!0,e.editDisplay=!0),"visible"!==e.prop&&"path"!==e.prop||(e.addDisplay=!1,e.editDisplay=!1))})),this.$forceUpdate()},getMenuTree:function(){var e=this,t=(0,i.default)({},this.searchForm);this.tableLoading=!0,(0,r.getMenuTree)(t).then((function(t){var a;e.tableData=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data)||[]})).finally((function(){e.tableLoading=!1}))},rowDel:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",i=[];a?(n="是否确认批量删除数据",i=e):(n="是否确认删除名称为"+e.name+"的数据",i=[e.id]),this.$confirm(n,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,r.delObj)(i)})).then((function(e){t.$message.success("删除成功"),t.getMenuTree()}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var o=this,s=(0,i.default)((0,i.default)({},e),{},{menuId:e.id});(0,r.putObj)(s).then((function(e){o.$message.success("修改成功"),a(),o.getMenuTree()})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;e.parentId=this.defaultCheckedKeys[0],(0,r.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getMenuTree()})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=(0,i.default)((0,i.default)({},e),{},{menuName:e.name}),this.getMenuTree()},refreshChange:function(){this.getMenuTree()},update:function(e,t){this.defaultCheckedKeys=[e.parentId],this.form.parentId=e.parentId,this.$refs.crud.rowEdit(e,t)},addRow:function(e,t){var a=JSON.parse(JSON.stringify(e));for(var n in a)"parentId"!==n&&(a[n]=""),"menuType"===n&&(a[n]="0"),"visible"===n&&(a[n]="1"),"sortOrder"===n&&(a[n]="0");this.defaultCheckedKeys=[a.parentId],this.$refs.crud.rowEdit(a,t)},globalAdd:function(){this.$refs.crud.rowAdd(),this.form=Object.assign(this.form,{menuType:"0",visible:"1"})},changeCheckboxTree:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.defaultCheckedKeys=[t[0].id]}}};t.default=u},"49a2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"deptContent",staticClass:"dept-manage kstar-view"},[a("basic-container",[a("filter-header",{on:{add:e.add,import:e.importDept,search:e.search,refresh:e.refresh}}),a("k-table-com",{attrs:{data:e.tableData,columns:e.columns,"row-key":"id",height:e.tableHeight,"default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},scopedSlots:e._u([{key:"operate",fn:function(t){return[a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"add"},on:{click:function(a){return e.operateColumn(t.row,"add")}}},[e._v("新增")]),a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.operateColumn(t.row,"update")}}},[e._v("修改")]),a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.name+'"的数据项?'},on:{click:function(a){return e.operateColumn(t.row,"delete")}}},[e._v(" 删除 ")])]}}])}),e.visibleParam.visible?a("k-modal",{attrs:{"append-to-body":!1,param:e.visibleParam,"foot-btn-list":e.footBtnList},on:{"foot-func-click":e.footFuncClick}},[a("k-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("k-tree-checkbox",{ref:"benchmark",staticClass:"sup-dept",staticStyle:{display:"inline-block"},attrs:{width:"200",required:"","auto-hide-ppopover":"","append-to-body":!1,align:"left","popper-class":"dept-tree",data:e.deptTreeData,props:e.defaultProps,"check-strictly":!0,single:!0,"default-checked-keys":e.defaultCheckedKeys,placeholder:"请选择部门"},on:{change:e.changeDept}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("k-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"排序",prop:"sortOrder"}},[a("k-input-number",{attrs:{width:"200px","k-type":"position"},model:{value:e.form.sortOrder,callback:function(t){e.$set(e.form,"sortOrder",t)},expression:"form.sortOrder"}})],1)],1)],1)],1)],1):e._e(),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t},"refresh-list":e.getDeptTree}}):e._e()],1)],1)},i=[]},"49f9":function(e,t,a){"use strict";a("2af9")},"4ab7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leave-bill kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel},scopedSlots:e._u([{key:"state",fn:function(t){var n=t.row;return[a("k-tag",{attrs:{size:"small"}},[e._v(e._s(e.transferToText(n.state)))])]}},{key:"operate",fn:function(t){return[e.permissions.oa_leave_bill_edit&&0==t.row.state?a("k-button-edit",{attrs:{"k-type":"minor",size:"small"},nativeOn:{click:function(a){return e.handleSubmit(t.row,t.index)}}},[e._v("提交 ")]):e._e(),e.permissions.oa_leave_bill_edit?a("k-button-edit",{attrs:{"k-type":"minor",size:"small"},nativeOn:{click:function(a){return e.handleEdit(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissions.oa_leave_bill_del?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small",description:'是否确认删除ID为"'+t.row.leaveId+'的数据？"'},on:{click:function(a){return e.handleDel(t.row,"suspend")}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[e.permissions.oa_leave_bill_add?a("k-button",{on:{click:e.handleAdd}},[e._v("新 增 ")]):e._e()],1)],2)],1)],1)},i=[]},"4b63":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{option:e.tableOption,data:e.list,page:e.page,"table-loading":e.listLoading,"before-open":e.handleOpenBefore},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.update,"row-save":e.create,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"dsType",fn:function(t){return[0===t.row.dsType?a("span",[e._v("全部")]):e._e(),1===t.row.dsType?a("span",[e._v("自定义")]):e._e(),2===t.row.dsType?a("span",[e._v("本级及子级")]):e._e(),3===t.row.dsType?a("span",[e._v("本级")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.roleManager_btn_edit?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.handleUpdate(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.roleManager_btn_perm?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"role"},on:{click:function(a){return e.handlePermission(t.row,t.index)}}},[e._v("权限 ")]):e._e(),e.roleManager_btn_del?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.roleName+'"的数据项?'},on:{click:function(a){return e.handleDelete(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.roleManager_btn_add?a("k-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("添加 ")]):e._e(),e.roleManager_btn_export?a("k-button",{on:{click:e.importInfo}},[e._v("导入 ")]):e._e(),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1),a("template",{slot:"dsScopeForm"},[1==e.form.dsType?a("div",{staticClass:"kstar-view__tree"},[a("k-tree",{ref:"scopeTree",staticClass:"filter-tree",attrs:{data:e.dsScopeData,"check-strictly":!0,props:e.defaultProps,"default-checked-keys":e.checkedDsScope,"node-key":"id","highlight-current":"","show-checkbox":""}})],1):e._e()])],2)],1),e.grandParam.visible?a("k-modal",{attrs:{size:"small",param:e.grandParam,"close-on-click-modal":!1,"foot-btn-list":e.footBtnList},on:{"foot-func-click":e.footFuncClick,close:function(t){e.menuFilterText=""}}},[a("div",{staticClass:"k-modal__body"},[a("div",{staticClass:"dialog-main-tree"},[a("k-tree-filter",{ref:"menuTree",staticClass:"filter-tree",attrs:{data:e.treeData,"default-checked-keys":e.checkedKeys,"check-strictly":!0,props:e.defaultProps,"filter-node-method":e.filterNode,placeholder:"请输入关键字搜索","node-key":"id","highlight-current":"","show-checkbox":"","default-expand-all":""},on:{check:e.handleCheck},model:{value:e.menuFilterText,callback:function(t){e.menuFilterText=t},expression:"menuFilterText"}})],1)])]):e._e(),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)},i=[]},"4bb5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tenant-menu"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableMenuData,"table-loading":e.tableLoading,option:e.tableMenuOption,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"on-load":e.getTenantMenuPage,"refresh-change":e.refreshChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"pages-change":e.pageChange},scopedSlots:e._u([{key:"status",fn:function(t){return[a("k-tag",{attrs:{size:"small"}},[e._v(e._s("0"===t.row.status?"正常":"冻结"))])]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button",{attrs:{"k-type":"minor","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete"},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuIdsForm"},[a("k-tree",{ref:"kMenuTree",attrs:{data:e.tenantMenuTree,"show-checkbox":"","node-key":"id","default-checked-keys":e.defaultCheckedKeys,props:e.defaultProps},on:{"check-change":e.checkMenuChange}})],1)],2)],1)],1)},i=[]},"4c27":function(e,t,a){"use strict";a("3e39")},"4c6f":function(e,t,a){"use strict";a("77b8")},"4f1b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"position-manage kstar-view"},[a("basic-container",[a("filter-header",{attrs:{postIds:e.postIds},on:{search:e.search,add:e.add,"batch-delete":e.batchDelete,refresh:e.refresh,import:e.importInfo}}),a("k-table-com",{ref:"my-table-com",staticStyle:{width:"100%"},attrs:{"open-page":!0,"query-value":e.queryValue,data:e.positionTableData,columns:e.columns,"highlight-current-row":""},on:{"edit-btn":e.editBtn,"page-change":e.pageChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"operate",fn:function(t){var n=t.row;return[a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(t){return e.editBtn(n,"update")}}},[e._v("修改")]),a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+n.postName+'"的数据项?'},on:{click:function(t){return e.editBtn(n,"delete")}}},[e._v(" 删除 ")])]}}])}),e.paramDialog.visible?a("k-modal",{attrs:{param:e.paramDialog,"foot-btn-list":e.footBtnList},on:{"foot-func-click":e.footFuncClick}},[a("k-form",{ref:"formRef",attrs:{"label-width":"100px",model:e.postForm,rules:e.rulesForm}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"岗位编码：",prop:"postCode"}},[a("k-input",{attrs:{placeholder:"请输入岗位编码"},model:{value:e.postForm.postCode,callback:function(t){e.$set(e.postForm,"postCode",t)},expression:"postForm.postCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"岗位名称：",prop:"postName"}},[a("k-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.postForm.postName,callback:function(t){e.$set(e.postForm,"postName",t)},expression:"postForm.postName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"岗位排序：",prop:"postSort"}},[a("k-input-number",{attrs:{width:"200px","k-type":"position",min:-9999,max:999999},model:{value:e.postForm.postSort,callback:function(t){e.$set(e.postForm,"postSort",t)},expression:"postForm.postSort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"岗位描述：",prop:"remark"}},[a("k-input",{attrs:{placeholder:"请输入岗位描述"},model:{value:e.postForm.remark,callback:function(t){e.$set(e.postForm,"remark",t)},expression:"postForm.remark"}})],1)],1)],1)],1)],1):e._e(),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t},"refresh-list":e.getPostList}}):e._e()],1)],1)},i=[]},5055:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-del":e.handleDel}})],1)],1)},i=[]},"508f":function(e,t,a){"use strict";a.r(t);var n=a("8eea"),i=a("70b7");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("6a7d");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"063a547c",null);t["default"]=s.exports},5127:function(e,t,a){"use strict";a.r(t);var n=a("9b72"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},5287:function(e,t,a){"use strict";a.r(t);var n=a("a69c"),i=a("c85a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4011");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"9b8986fa",null);t["default"]=s.exports},"52fd":function(e,t,a){"use strict";a.r(t);var n=a("18cf"),i=a("7f2a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("1cee");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"3dbb871f",null);t["default"]=s.exports},5301:function(e,t,a){},"54c2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b0c0");var n=a("659f"),i={props:{postIds:{type:Array,default:function(){return[]}}},data:function(){return{form:{name:""}}},methods:{search:function(){this.$emit("search",this.form)},reset:function(){this.form.name=""},addPosition:function(){this.$emit("add")},importDept:function(){this.$emit("import")},exportPosition:function(){(0,n.exportFile)("/admin/post/export",{},"get","岗位管理数据表")},deletePosition:function(){this.$emit("batch-delete")},refresh:function(){this.$emit("refresh",this.form)}}};t.default=i},"55f5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"类型",prop:"type",slot:!0,type:"select",dicUrl:"/admin/dict/type/app_social_type",search:!0},{label:"描述",prop:"remark"},{label:"appId",prop:"appId"},{label:"app秘钥",prop:"appSecret"},{label:"回调地址",prop:"redirectUrl",type:"textarea",kType:"textareaAutosize",minRows:2,span:24,row:!0,cloumsHide:!1},{label:"拓展字段",type:"textarea",prop:"ext",kType:"textareaAutosize",minRows:2,span:24,row:!0,cloumsHide:!1},{width:200,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,addDisplay:!1,span:24},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"568a":function(e,t,a){"use strict";a.r(t);var n=a("1f8d"),i=a("677a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("7236");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"3aa88bf4",null);t["default"]=s.exports},5744:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af");var i=n(a("5530")),o=a("6f7b"),r=a("f822"),s=a("2f62"),l=n(a("cdb5")),c={name:"ExecutionLog",data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption}},created:function(){this.page.pageSize=20},mounted:function(){},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.daemon_execution_log_del,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.tableLoading=!0,(0,o.fetchList)(Object.assign({current:e.currentPage,size:e.pageSize,descs:"start_time"},a)).then((function(e){t.tableData=e.data.data.records,t.page.total=e.data.data.total,t.tableLoading=!1}))},handleDel:function(e,t){var a=this;this.$confirm("是否确认删除ID为"+e.id,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(e.id)})).then((function(){a.$message.success("删除成功"),a.page.currentPage=1,a.getList(a.page)}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},refreshChange:function(){this.getList(this.page)}}};t.default=c},"57b7":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var i=n(a("5530")),o=a("0d26"),r=a("2f62"),s=n(a("4360")),l=n(a("cdb5")),c=n(a("d166")),d={data:function(){var e;return{avatarUrl:"",headers:{Authorization:"Bearer "+s.default.getters.access_token},ruleForm:{username:"",deptId:"",avatar:"",phone:"",email:""},rules:(0,i.default)({},c.default.persionInfo),actionUrl:((null===l.default||void 0===l.default||null===(e=l.default.apiCConfig)||void 0===e?void 0:e.baseURL)||"")+"/admin/sys-file/upload"}},created:function(){this.getUserInfo()},computed:(0,i.default)((0,i.default)({},(0,r.mapState)({userInfo:function(e){return e.user.userInfo}})),{},{isShowAvatar:function(){var e;return!1!==(null===(e=l.default.userConfig)||void 0===e?void 0:e.isAvatar)}}),methods:{getUserInfo:function(){var e=this,t=this.userInfo.userId;(0,o.getUserInfo)(t).then((function(t){e.ruleForm=t.data.data;var a=l.default.env.VUE_APP_BASE_URL;e.avatarUrl=a+t.data.data.avatar}))},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;~e.ruleForm.phone.indexOf("****")&&delete e.ruleForm.phone,(0,o.putUserInfo)(e.ruleForm).then((function(t){e.$notify.success("修改成功"),e.$store.dispatch("LogOut").then((function(){console.warn("退出刷新页面v5"),location.reload()}))}))}))},handleAvatarSuccess:function(e,t){this.avatarUrl=URL.createObjectURL(t.raw),this.ruleForm.avatar=e.data.url}}};t.default=d},"57f4":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("3b09"),r=a("1ead"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=a("659f"),f={name:"index",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.fieldType),ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.admin_syspublicparam_add,!1),delBtn:this.vaildData(this.permissions.admin_syspublicparam_del,!0),editBtn:this.vaildData(this.permissions.admin_syspublicparam_edit,!0)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除字段?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")})).catch((function(){}))},searchReset:function(){this.searchForm={},this.getList(this.page)},exportPosition:function(){(0,u.exportFile)("/gen/fieldtype/export",{columnType:this.searchForm.columnType},"get","fieldtype")},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},rowDel:function(e,t){e.ids=[e.id],this.handleDel(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)}}};t.default=f},"59f7":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=r,t.delObj=l,t.downDoc=c,t.getDsconfList=d,t.getDsconfPage=o,t.putObj=s;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/gen/dsconf/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/gen/dsconf",method:"post",data:e})}function s(e){return(0,i.default)({url:"/gen/dsconf",method:"put",data:e})}function l(e){return(0,i.default)({url:"/gen/dsconf",method:"delete",data:e})}function c(e){return(0,i.default)({url:"/gen/dsconf/doc",method:"get",data:e})}function d(e){return(0,i.default)({url:"/gen/dsconf/list",method:"get",params:e})}},"59fb":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addItemObj=s,t.addObj=u,t.delItemObj=c,t.delObj=p,t.fetchItemList=r,t.fetchList=o,t.getItemObj=l,t.getObj=f,t.putItemObj=d,t.putObj=m,t.remote=h;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/dict/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/dict/item/page",method:"get",params:e})}function s(e){return(0,i.default)({url:"/admin/dict/item",method:"post",data:e})}function l(e){return(0,i.default)({url:"/admin/dict/item/"+e,method:"get"})}function c(e){return(0,i.default)({url:"/admin/dict/item/"+e,method:"delete"})}function d(e){return(0,i.default)({url:"/admin/dict/item",method:"put",data:e})}function u(e){return(0,i.default)({url:"/admin/dict/",method:"post",data:e})}function f(e){return(0,i.default)({url:"/admin/dict/"+e,method:"get"})}function p(e){return(0,i.default)({url:"/admin/dict/"+e.id,method:"delete"})}function m(e){return(0,i.default)({url:"/admin/dict/",method:"put",data:e})}function h(e){return(0,i.default)({url:"/admin/dict/type/"+e,method:"get"})}},"5a5b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,menu:!1,page:!0,indexLabel:"序号",stripe:!0,menuAlign:"right",align:"center",filterBtn:!1,editBtn:!1,delBtn:!1,searchMenuSpan:6,addBtn:!1,column:[{label:"id",prop:"jobLogId",hide:!0},{label:"任务id",prop:"jobId",hide:!0},{label:"任务名称",prop:"jobName",search:!0},{label:"任务组名",prop:"jobGroup",search:!0},{label:"组内顺序",prop:"jobOrder",hide:!0},{label:"类型",prop:"jobType",type:"select",dicUrl:"/admin/dict/type/job_type",width:100},{label:"执行文件",prop:"className",overHidden:!0},{label:"执行方法",prop:"methodName",overHidden:!0,width:120},{label:"执行参数值",prop:"methodParamsValue",width:100,overHidden:!0},{label:"cron表达式",prop:"cronExpression",width:100,overHidden:!0},{label:"状态",prop:"jobLogStatus",search:!0,type:"select",dicUrl:"/admin/dict/type/job_execute_status",slot:!0},{label:"状态描述",prop:"jobMessage"},{label:"执行时间(ms)",prop:"executeTime",width:120},{label:"异常信息",prop:"exceptionInfo",overHidden:!0},{label:"开始时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160}]};t.tableOption=n},"5ab5":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("159b"),a("4de4");var i=n(a("5530")),o=a("8b12"),r=a("14f2"),s=a("aab7"),l=a("2f62"),c=a("117d"),d=n(a("ef3b")),u=n(a("cdb5")),f=n(a("d166")),p=a("b729"),m={name:"jobIndex",components:{cron:c.cron,jobLog:d.default},data:function(){return{jobTypeList:[],misfirePolicyList:[],form:{},cronPopover:!1,queryParams:{},tableData:[],dialogFormVisible:!1,jobId:"",page:{total:0,currentPage:1,pageSize:20,pageSizes:[20,40,50,100]},tableLoading:!1,tableOption:(0,p.getTableOptions)(s.tableOption,f.default.sysJob),JobExecuteStatusDicCache:[],JobStatusDicCache:[]}},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=u.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=u.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),created:function(){this.getListByDict("job_type"),this.getListByDict("job_status"),this.getListByDict("job_execute_status"),this.getListByDict("misfire_policy")},mounted:function(){},watch:{"form.jobType":{immediate:!0,handler:function(e){"1"===e||"2"===e?this.tableOption.column.forEach((function(e){"className"!==e.prop&&"methodName"!==e.prop||(e.addDisplay=!0,e.editDisplay=!0),"executePath"===e.prop&&(e.addDisplay=!1,e.editDisplay=!1)})):"9"===e?this.tableOption.column.forEach((function(e){"className"!==e.prop&&"methodName"!==e.prop&&"executePath"!==e.prop||(e.addDisplay=!1,e.editDisplay=!1)})):"3"!==e&&"4"!==e||this.tableOption.column.forEach((function(e){"className"!==e.prop&&"methodName"!==e.prop||(e.addDisplay=!1,e.editDisplay=!1),"executePath"===e.prop&&(e.addDisplay=!0,e.editDisplay=!0)}))}}},methods:{changeCron:function(e){this.form.cronExpression=e},getList:function(){var e=this;this.tableLoading=!0,(0,o.fetchJobPage)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},this.queryParams)).then((function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total,e.tableLoading=!1}))},handleSearchReset:function(){this.queryParams={}},handleFilter:function(e){this.queryParams=e,this.page.currentPage=1,this.getList(this.page)},handleStartJob:function(e){var t=this,a=e.jobStatus;"1"===a||"3"===a?this.$confirm("即将发布或启动(任务名称:"+e.jobName+"), 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.startJob)(e.jobId).then((function(e){var a=e.data.code;0===a&&(t.$notify({title:"成功",message:"启动成功",type:"success"}),t.refreshChange())})).catch((function(){t.$notify.error({title:"错误",message:"启动失败"})}))})):this.$notify.error({title:"错误",message:"定时任务已运行"})},handleRunJob:function(e){var t=this;this.$confirm("立刻执行一次任务(任务名称:"+e.jobName+"), 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.runJob)(e.jobId).then((function(e){var a=e.data.code;0===a&&(t.$notify({title:"成功",message:"执行成功",type:"success"}),t.refreshChange())})).catch((function(){t.$notify.error({title:"错误",message:"执行失败"})}))}))},handleAdd:function(){this.$refs.crud.rowAdd()},handleUpdate:function(e,t){var a=e.jobStatus;"1"===a||"3"===a?this.$refs.crud.rowEdit(e,t):this.$notify.error({title:"错误",message:"运行中定时任务不可修改，请先暂停后操作"})},handleShutDownJob:function(e){var t=this,a=e.jobStatus;"2"===a?this.$confirm("即将暂停(任务名称:"+e.jobName+"), 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.stopJob)(e.jobId).then((function(e){var a=e.data.code;0===a&&(t.getList(t.page),t.$notify({title:"成功",message:"暂停成功",type:"success"})),t.refreshChange()})).catch((function(){t.$notify.error({title:"错误",message:"暂停失败"})}))})):this.$notify.error({title:"错误",message:"已暂停，不要重复操作"})},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},save:function(e,t,a){var n=this;(0,o.addJob)(e).then((function(){n.$message.success("创建成功"),n.getList(n.page),t()})).catch((function(){a()}))},update:function(e,t,a,n){var i=this;(0,o.putJob)(e).then((function(){i.getList(i.page),a(),i.$notify.success("修改成功")})).catch((function(){n()}))},handleDelete:function(e){var t=this,a=e.jobStatus;"1"===a||"3"===a?(0,o.deleteSysJob)(e.jobId).then((function(){t.page.currentPage=1,t.getList(t.page),t.$notify.success("删除成功")})):this.$notify.error("运行中定时任务不可删除，请先暂停后操作")},handleJobLog:function(e){var t=this;this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.logRef.getJobLog(e)}))},getDicNameJobExecuteStatus:function(e){var t="";return this.JobExecuteStatusDicCache.forEach((function(a){a.value===e&&(t=a.label)})),t},getDicNameJobType:function(e){var t;return null===(t=this.jobTypeList.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.label},getDicMisfirePolicy:function(e){var t;return null===(t=this.misfirePolicyList.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.label},getDicNameJobStatus:function(e){var t="";return this.JobStatusDicCache.forEach((function(a){a.value===e&&(t=a.label)})),t},getListByDict:function(e){var t=this;(0,r.remote)(e).then((function(a){"job_type"===e?t.jobTypeList=a.data.data:"job_status"===e?t.JobStatusDicCache=a.data.data:"job_execute_status"===e?t.JobExecuteStatusDicCache=a.data.data:"misfire_policy"===e&&(t.misfirePolicyList=a.data.data)}))}}};t.default=m},"5aec":function(e,t,a){},"5bc7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("9b98"),i={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"上传文件"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,n.updateSysFile)(a).then((function(e){t.$message.success(e.data.msg),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$parent.refreshChange()}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=i},"5c16":function(e,t,a){"use strict";a.r(t);var n=a("17dc"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"5d0a":function(e,t,a){},"5f85":function(e,t,a){"use strict";a.r(t);var n=a("79e6c"),i=a("a155");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("976c");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"5e7a11e2",null);t["default"]=s.exports},"5fc6":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530"));a("d9e2"),a("99af"),a("b0c0"),a("d3b7"),a("159b"),a("b64b"),a("d81d");var o=n(a("568a")),r=a("5189"),s=a("e2e7"),l=n(a("cdb5")),c=n(a("8b6b")),d={components:{FilterHeader:o.default,ImportContent:c.default},data:function(){var e=this,t=function(t,a,n){"修改"===e.paramDialog.title&&n();var i=t.field,o={};o[i]=a,(0,r.getPostDetails)(o).then((function(e){var t=e.data.data;if(null!==t){var a="postCode"===i?"岗位编码":"岗位名称";n(new Error("".concat(a,"已经存在")))}else n()}))};return{importVisible:!1,queryValue:{pageNum:1,pageSize:20,total:0,pageSizes:[10,20,30,40]},positionTableData:[],columns:s.COLUMNS,paramDialog:{visible:!1,title:"",width:"40%"},footBtnList:[{title:"取消",key:"cancel",kType:"minor"},{title:"确定",key:"save",kType:"main"}],postForm:{postCode:"",postName:"",postSort:"",remark:"",postId:"",createBy:"",createTime:"",delFlag:"0",updateTime:"",updateBy:""},rulesForm:{postCode:[{required:!0,message:"请输入岗位编码",trigger:"blur"},{validator:t,trigger:"blur"},{max:20,message:"岗位编码最大长度20个字符",trigger:"blur"}],postName:[{required:!0,message:"请输入岗位名称",trigger:"blur"},{validator:t,trigger:"blur"},{max:20,message:"岗位名称最大长度20个字符",trigger:"blur"}],postSort:[{required:!0,message:"请输入岗位排序",trigger:"blur"}],remark:[{required:!0,message:"请输入岗位描述",trigger:"blur"},{max:50,message:"岗位描述最大长度50个字符",trigger:"blur"}]},postIds:[]}},created:function(){this.getPostList()},computed:{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}},methods:{refresh:function(e){var t=e.name;this.getPostList(t)},editBtn:function(e,t){"update"===t?(this.paramDialog.visible=!0,this.paramDialog.title="修改",this.postForm=Object.assign({},e)):"add"===t?(this.paramDialog.visible=!0,this.paramDialog.title="新增",this.postForm=Object.assign({},(0,i.default)({},e))):"delete"===t&&(e.postIds=[e.postId],this.delete(e))},add:function(){var e=this;Object.keys(this.postForm).forEach((function(t){e.postForm[t]="delFlag"===t?"0":""})),this.editBtn(this.postForm,"add")},delete:function(e){var t=this;(0,r.deleteInfo)(e.postIds).then((function(){t.queryValue.pageSize=20,t.queryValue.pageNum=1,t.getPostList(),t.$message.success("删除成功")}))},footFuncClick:function(e){var t=this;"cancel"===e.key?this.paramDialog.visible=!1:this.$refs.formRef.$refs.proxyComponent.validate((function(e){if(e){var a=t.postForm,n=t.postForm.postId?r.updateInfo:r.addInfo;n(a).then((function(e){var a=t.postForm.postId?"修改成功":"新增成功";t.$message.success("".concat(a)),t.paramDialog.visible=!1,t.getPostList()}))}}))},search:function(e){var t=e.name;this.getPostList(t)},pageChange:function(e){var t=e.pageNum,a=e.pageSize;this.queryValue.pageSize=a,this.queryValue.pageNum=t,this.getPostList()},getPostList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={size:this.queryValue.pageSize,current:this.queryValue.pageNum,postName:t};(0,r.fetchList)(a).then((function(t){var a,n;e.positionTableData=null===(a=t.data)||void 0===a?void 0:a.data.records,e.queryValue.total=null===(n=t.data)||void 0===n?void 0:n.data.total}))},selectionChange:function(e){this.postIds=e.map((function(e){return e.postId}))},batchDelete:function(){var e=this,t={postIds:this.postIds},a="确定批量删除岗位数据?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,r.deleteInfo)(t.postIds).then((function(t){e.$message.success("删除成功"),e.queryValue.pageSize=20,e.queryValue.pageNum=1,e.getPostList()}))})).catch((function(){}))},importInfo:function(){this.importVisible=!0}}};t.default=d},"60b9":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cache kstar-view"},[a("basic-container",[a("div",{staticClass:"basic-info"},[a("div",{staticClass:"title"},[e._v("基本信息")]),a("k-list",{attrs:{data:e.listData,columns:4,width:"150px"}})],1),a("div",{staticClass:"view-data"},[a("k-card",{staticClass:"pie-card",attrs:{title:"命令统计",shadow:"always"}},[a("div",{ref:"pie-echarts",staticClass:"pie-echarts",style:{width:"350px",height:"350px"}})]),a("k-card",{staticClass:"gauge-card",attrs:{title:"内存信息",shadow:"always"}},[a("div",{ref:"gauge-echarts",staticClass:"gauge-echarts",style:{width:"350px",height:"350px"}})])],1)])],1)},i=[]},"60dc":function(e,t,a){"use strict";a.r(t);var n=a("d934"),i=a("5c16");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("1a39");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"73dd0044",null);t["default"]=s.exports},"61eb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.menuParam.visible?a("k-modal",{attrs:{param:e.menuParam,"foot-btn-list":e.footBtnList,"close-on-click-modal":!1},on:{"foot-func-click":e.footFuncClick,close:e.handleClose}},[a("div",{staticClass:"k-modal__body"},[a("el-form",{ref:"dataForm",staticClass:"kstar-crud-form",attrs:{model:e.form,rules:e.rules,"label-width":"80px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"menuType"}},[a("k-radio-group",{attrs:{size:"small"},on:{change:e.handleChange},model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("k-radio-button",{attrs:{label:"0",size:"small",disabled:e.menuDisabled}},[e._v("左菜单")]),a("k-radio-button",{attrs:{label:"1",disabled:e.btnDisabled}},[e._v("按钮")]),a("k-radio-button",{attrs:{label:"2",disabled:e.menuDisabled}},[e._v("顶菜单")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[a("kstar-crud-input-tree",{attrs:{"node-key":"id",accordion:"",dic:e.menuOptions,props:e.treeOption,placeholder:"请选择上级菜单","node-click":e.nodeClick},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},["1"!==e.form.menuType?a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("kstar-crud-input-icon",{attrs:{"icon-list":e.iconList},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("k-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"路由",prop:"path"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 路由 "),a("k-tooltip",{attrs:{placement:"top","follow-themebg":""}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[e._v("一级路由示例：/test/index")]),a("div",[e._v("路由分类示例（权限管理）：/admin")]),a("div",[e._v("二级路由示例（菜单管理）：/admin/menu/index")])]),a("i",{staticClass:"el-icon-question"})])]},proxy:!0}],null,!1,215124646)},[a("k-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e(),"1"===e.form.menuType?a("el-form-item",{attrs:{label:"权限标识",prop:"permission"}},[a("k-input",{attrs:{placeholder:"请输入权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e(),a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-form-item",{attrs:{label:"排序",prop:"sortOrder"}},[a("k-input-number",{attrs:{"k-type":"position",precision:0,width:"100px"},model:{value:e.form.sortOrder,callback:function(t){e.$set(e.form,"sortOrder",t)},expression:"form.sortOrder"}})],1),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"缓冲",prop:"keepAlive"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.keepAlive,callback:function(t){e.$set(e.form,"keepAlive",t)},expression:"form.keepAlive"}},[a("k-radio-button",{attrs:{label:"0"}},[e._v("否")]),a("k-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e(),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"是否显示",prop:"visible"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},[a("k-radio-button",{attrs:{label:"0"}},[e._v("否")]),a("k-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e()],1)],1)],1)]):e._e()},i=[]},"63ef":function(e,t,a){"use strict";a.r(t);var n=a("4f1b"),i=a("1f40");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("358b");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"6d32aaf4",null);t["default"]=s.exports},"644a":function(e,t,a){},6585:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,dialogClickModal:!1,selection:!0,columnBtn:!1,addBtn:!0,column:[{label:"分组名称",search:!0,prop:"groupName"},{label:"分组描述",prop:"groupDesc"},{label:"模板类型",prop:"templateId",multiple:!0,props:{value:"id",label:"templateName"},width:80,type:"select",dicUrl:"/gen/template/list",addDisplay:!0,editDisplay:!0,cloumsHide:!1},{width:200,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,addDisplay:!1,span:24},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},6607:function(e,t,a){},"663c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"systemFlag",fn:function(t){return["0"===t.row.systemFlag?a("span",[e._v("业务类")]):e._e(),"1"===t.row.systemFlag?a("span",[e._v("系统类")]):e._e()]}},{key:"status",fn:function(t){return["0"===t.row.status?a("span",[e._v("正常")]):e._e(),"9"===t.row.status?a("span",[e._v("冻结")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit",disabled:"1"===t.row.systemFlag},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",disabled:"1"===t.row.systemFlag,description:'是否确认删除ID为"'+t.row.publicId+'"的参数?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minor",icon:"el-icon-refresh-right"},on:{click:e.refresh}},[e._v("刷新缓存")]),a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},"66cb":function(e,t,a){"use strict";a.r(t);var n=a("be80"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"675e":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("b0c0"),a("d3b7"),a("159b"),a("a9e3");var i=a("6473"),o=n(a("6c8d")),r=n(a("d166")),s=n(a("cdb5")),l={name:"Menu",data:function(){var e;return{menuParam:{visible:!1,width:"640px",title:""},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],loading:!0,menuOptions:[],iconList:o.default,form:{menuId:void 0,name:void 0,path:void 0,icon:void 0,permission:void 0,menuType:"0",keepAlive:null!==s.default&&void 0!==s.default&&null!==(e=s.default.menuConfig)&&void 0!==e&&e.routerCache?"1":"0",sortOrder:999,visible:"0"},rules:r.default.menu,treeOption:{children:"children",label:"name",value:"id"},TreeNodeDisabled:!1}},computed:{dialogBtnConfig:function(){var e,t,a,n,i=(null===(e=s.default.pageBtnConfig)||void 0===e||null===(t=e.dialog)||void 0===t?void 0:t.align)||"right",o=(null===(a=s.default.pageBtnConfig)||void 0===a||null===(n=a.dialog)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," dialog-row-").concat(o)},btnDisabled:function(){return!!this.form.path},menuDisabled:function(){return!!this.form.permission}},methods:{footFuncClick:function(e){var t=e.key;"save"===t?this.dataFormSubmit():this.handleClose()},init:function(e,t){var a=this;this.menuParam.title=e?"编辑":"新增",this.form.parentId=null!=t?t:"-1",this.menuParam.visible=!0,this.getTreeselect(t),this.$nextTick((function(){a.$refs.dataForm.resetFields(),e?(0,i.getMenuIfoById)(t).then((function(e){a.form=e.data.data})):a.form.menuId=void 0}))},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate((function(t){if(t)if(void 0===e.form.parentId&&(e.form.parentId="-1"),e.radioChangeForm(),e.form.menuId){if(e.TreeNodeDisabled)return void e.$message.warning("上级菜单不能选择自己本身及所属子级");(0,i.updateObj)(e.form).then((function(t){e.$message.success("修改成功"),e.menuParam.visible=!1,e.$emit("refreshDataList"),e.$store.commit("UPDATE_TAG",e.form)}))}else(0,i.addObj)(e.form).then((function(t){e.$message.success("添加成功"),e.menuParam.visible=!1,e.$emit("refreshDataList")}))}))},getTreeselect:function(e){var t=this;(0,i.getMenuTree)().then((function(a){t.menuOptions=[];var n={id:"-1",name:"根菜单",children:[]};n.children=a.data.data,t.menuOptions.push(n),t.handelTreeDisabled(t.menuOptions[0].children,e)}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},handleClose:function(){this.menuParam.visible=!1,this.$emit("handleClose")},handleChange:function(){this.$refs.dataForm.clearValidate()},radioChangeForm:function(){var e;"1"===this.form.menuType?(this.$set(this.form,"keepAlive",null!==s.default&&void 0!==s.default&&null!==(e=s.default.menuConfig)&&void 0!==e&&e.routerCache?"1":"0"),this.$set(this.form,"visible","0"),this.$set(this.form,"path",null),this.$set(this.form,"icon",null)):this.$set(this.form,"permission",null)},handelTreeDisabled:function(e,t){var a=this;return e&&e.forEach((function(e){Number(e.id)==Number(t)&&(e.disabled=!0,e.children&&e.children.forEach((function(e){e.disabled=!0}))),e.children&&a.handelTreeDisabled(e.children,t)})),e},nodeClick:function(e){e.disabled?this.TreeNodeDisabled=!0:this.TreeNodeDisabled=!1}}};t.default=l},"677a":function(e,t,a){"use strict";a.r(t);var n=a("54c2"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"678a":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("84ba")),o=a("a8a0"),r={components:{indexInit:i.default,customDept:function(e,t){e((0,o.getRewritePage)("dept"))}},data:function(){return{isCustomDept:!!(0,o.getRewritePage)("dept")}}};t.default=r},"68a0":function(e,t,a){"use strict";a("2c1f")},"68e9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b0c0");var n=a("659f"),i={data:function(){return{form:{name:""}}},methods:{search:function(){this.$emit("search",this.form.name)},addDept:function(){this.$emit("add")},importDept:function(){this.$emit("import")},exportPosition:function(){(0,n.exportFile)("/admin/dept/export",{deptName:this.form.name},"get","dept")},refresh:function(){this.$emit("refresh",this.form.name)}}};t.default=i},"6a33":function(e,t,a){"use strict";a.r(t);var n=a("721d"),i=a("b669");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("3b42");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"4337f715",null);t["default"]=s.exports},"6a7d":function(e,t,a){"use strict";a("5aec")},"6aba":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRoute=o,t.putRoute=r,t.refreshRoute=s;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/route",method:"get",data:e})}function r(e){return(0,i.default)({url:"/admin/route",method:"put",data:e})}function s(){return(0,i.default)({url:"/actuator/gateway/refresh",method:"post"})}},"6af6":function(e,t,a){"use strict";a.r(t);var n=a("7407"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"6c3e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isCustomDept?a("custom-dept"):a("index-init")},i=[]},"6d98":function(e,t,a){"use strict";a.r(t);var n=a("a902"),i=a("17ed");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("1652");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"1372858c",null);t["default"]=s.exports},"6eba":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530"));a("b0c0");var o=a("e98a"),r=a("002f"),s=n(a("508f")),l=n(a("6a33")),c={components:{FilterHeader:s.default,ImportContent:l.default},data:function(){return{tableHeight:500,importVisible:!1,visibleParam:{visible:!1,title:"",width:"50%"},deptTreeData:[],defaultCheckedKeys:[],defaultProps:{children:"children",label:"name"},footBtnList:[{title:"取消",key:"cancel",kType:"minor"},{title:"确定",key:"save",kType:"main"}],columns:[{key:"name",title:"部门名称",width:"300px"},{key:"weight",title:"排序",width:"100px"},{key:"createTime",title:"创建时间"},{width:240,key:"operate",title:"操作",type:"slot",slotName:"operate"}],tableData:[],form:{parentId:"",sortOrder:"9999",name:"",deptId:""},rules:{parentId:[{required:!0,message:"请选择上级部门",trigger:"change"}],name:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:2,max:32,message:"长度在 2 到 32 个字符",trigger:"blur"},{required:!0,validator:r.validateTrimNull,trigger:"blur"}],sortOrder:[{required:!0,message:"请输入排序",trigger:"blur"}]}}},created:function(){this.getDeptTree()},mounted:function(){var e=this;this.$nextTick((function(){e.tableHeight=e.$refs.deptContent.offsetHeight-70,window.addEventListener("resize",e.listenResize)}))},computed:{},methods:{listenResize:function(){this.tableHeight=this.$refs.deptContent.offsetHeight-70,this.$forceUpdate()},refresh:function(e){this.getDeptTree(e)},changeDept:function(e){this.form.parentId=e.id},getDeptTree:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,o.getDeptTree)({deptName:t}).then((function(t){e.tableData=t.data.data,e.deptTreeData=[{name:"根部门",id:"0",children:e.tableData}]}))},operateColumn:function(e,t){var a=this;"add"===t||"update"===t?(this.form.sortOrder="add"===t?"":null===e||void 0===e?void 0:e.weight,this.form.parentId=null===e||void 0===e?void 0:e.parentId,this.form.name="add"===t?"":null===e||void 0===e?void 0:e.name,this.form.deptId=null===e||void 0===e?void 0:e.id,this.defaultCheckedKeys=[null===e||void 0===e?void 0:e.parentId],this.visibleParam.visible=!0,this.visibleParam.title="add"===t?"新 增":"修 改"):"delete"===t&&(0,o.delObj)(e.id).then((function(e){a.getDeptTree(),a.$message.success("删除成功")}))},search:function(e){this.getDeptTree(e)},add:function(){this.operateColumn(null,"add")},importDept:function(){this.importVisible=!0},footFuncClick:function(e){var t=this;if("save"===e.key){var a=(0,i.default)({},this.form);this.$refs.form.$refs.proxyComponent.validate((function(e){if(e){var n="新 增"===t.visibleParam.title,i=n?o.addObj:o.updateObj;n&&delete a.deptId,i(a).then((function(e){t.$message.success("操作成功"),t.getDeptTree(),t.visibleParam.visible=!1}))}}))}else this.visibleParam.visible=!1}},beforeDestroy:function(){window.removeEventListener("resize",this.listenResize)}};t.default=c},"6ec0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableDsOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",labelWidth:120,viewBtn:!0,dialogClickModal:!1,selection:30,column:[{label:"主键",prop:"id",hide:!0,addDisplay:!1,editDisplay:!1},{label:"类型",prop:"dsType",type:"select",dicUrl:"/admin/dict/type/ds_type"},{label:"别名",prop:"name"},{label:"用户名",prop:"username"},{label:"密码",prop:"password",hide:!1},{label:"配置类型",prop:"confType",type:"radio",value:0,border:!0,hide:!1,dicData:[{label:"主机",value:0},{label:"JDBC",value:1}]},{label:"端口",prop:"port",hide:!0,type:"number",maxRows:65535},{label:"主机",prop:"host",hide:!0},{label:"库名称",prop:"dsName",search:!0},{label:"创建时间",prop:"createTime",addDisplay:!1,editDisplay:!1,overHidden:!0},{width:250,prop:"caozuo",label:"操作",editStyle:"editBtn",editBtn:[{title:"文档",key:"view",size:"small",type:"primary",kType:"main"},{title:"编辑",key:"edit",size:"small",type:"primary",kType:"minor"},{title:"删除",key:"delete",size:"small",type:"primary",kType:"minorDanger"}],editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableDsOption=n},"6f57":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("96d2"),r=a("55f5"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=a("659f"),f={name:"index",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.appsocial),ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.admin_syspublicparam_add,!1),delBtn:this.vaildData(this.permissions.admin_syspublicparam_del,!0),editBtn:this.vaildData(this.permissions.admin_syspublicparam_edit,!0)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除秘钥?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")})).catch((function(){}))},searchReset:function(){this.searchForm={},this.getList(this.page)},exportPosition:function(){(0,u.exportFile)("/app/appsocial/export",{type:this.searchForm.type},"get","appsocial")},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},rowDel:function(e,t){e.ids=[e.id],this.handleDel(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)}}};t.default=f},"6f7b":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=r,t.delObj=l,t.fetchList=o,t.getObj=s,t.putObj=c;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/daemon/execution-log/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/daemon/execution-log",method:"post",data:e})}function s(e){return(0,i.default)({url:"/daemon/execution-log/"+e,method:"get"})}function l(e){return(0,i.default)({url:"/daemon/execution-log/"+e,method:"delete"})}function c(e){return(0,i.default)({url:"/daemon/execution-log",method:"put",data:e})}},7030:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("k-alert",{attrs:{title:"路由配置是非常专业的事情，不建议非工程师操作","k-type":"warning"}}),a("iframe",{ref:"iframe",staticClass:"json-editor-iframe",staticStyle:{width:"100%",height:"calc(100% - 70px)"},attrs:{src:e.publicPath+"/js/json-editor.html"}}),a("div",{attrs:{align:"center"}},[a("k-button",{on:{click:e.edit}},[e._v("更新")])],1)],1)],1)},i=[]},"70af":function(e,t,a){"use strict";a("d779")},"70b7":function(e,t,a){"use strict";a.r(t);var n=a("68e9"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},7145:function(e,t,a){"use strict";a.r(t);var n=a("fc94"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},7205:function(e,t,a){"use strict";a.r(t);var n=a("35c9"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"721d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},7236:function(e,t,a){"use strict";a("9e32")},"736f":function(e,t,a){"use strict";a.r(t);var n=a("5055"),i=a("3bcc");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"7354872f",null);t["default"]=s.exports},"73aab":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("51be"),i={data:function(){return{id:"",src:""}},watch:{$route:function(){this.init()}},created:function(){this.init()},methods:{init:function(){this.id=this.$route.query.id,this.src=n.actUrl+this.id},breaks:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/oa/model/index"})}}};t.default=i},7407:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b");var n=a("0264"),i=a("78b2"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("role.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importRole)(a).then((function(e){t.$message.success(e.data.msg||"导入成功"),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$parent.refreshChange()})).catch((function(e){var a=e.data[0].errors;t.$message.error("".concat(a.join("、")))}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},"74f4":function(e,t,a){"use strict";a("dc3a")},"755f":function(e,t,a){"use strict";a.r(t);var n=a("d817"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"75d5":function(e,t,a){"use strict";a("b635")},"77b8":function(e,t,a){},"77e6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isCustomInfo?a("custom-info"):a("info-init")},i=[]},"785e":function(e,t,a){"use strict";a.r(t);var n=a("a431"),i=a("83bd");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("cbd7");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"0adf68b1",null);t["default"]=s.exports},7861:function(e,t,a){},"796c":function(e,t,a){},"79e6c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,option:e.tableOption,"upload-after":e.uploadAfter},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-del":e.rowDel,"selection-change":e.selectionChange,"row-save":e.rowSave},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[a("k-button-edit",{attrs:{"k-type":"minor"},on:{click:function(a){return e.download(t.row,t.index)}}},[e._v("下载 ")]),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",description:'是否确认删除ID为"'+t.row.id+'"的文件?'},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){e.importVisible=!0}}},[e._v("新增 ")]),a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除")])],1)],2)],1),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)},i=[]},"7b36":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"search-reset":e.searchReset,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"type",fn:function(t){return["MINI"===t.row.type?a("span",[e._v("小程序")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的秘钥?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minor"},on:{click:e.exportPosition}},[e._v("导出 ")])],1)],2)],1)],1)},i=[]},"7c79":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteGenForm=void 0,t.fetchCodeStyleList=o,t.fetchFieldTypeList=s,t.fetchGenTableInfo=l,t.fetchTabTableData=r,t.genFormVFormSfc=t.genFormHistoryPage=t.genAndSaveTypeOne=void 0,t.getPreviewPage=u,t.saveFormDesign=t.goBackGenForm=void 0,t.saveGenPage=d,t.updateGenTableInfo=c,a("99af");var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/gen/group/list",method:"get",params:e})}function r(e){return(0,i.default)({url:"/gen/table/master/".concat(e),method:"get"})}function s(e){return(0,i.default)({url:"/gen/fieldtype/list",method:"get",params:e})}function l(e){return(0,i.default)({url:"/gen/table/".concat(e.source,"/").concat(e.type),method:"get"})}function c(e){return(0,i.default)({url:"/gen/table",method:"put",data:e})}function d(e){return(0,i.default)({url:"/gen/table/field/".concat(e.source,"/").concat(e.type),method:"put",data:e.data})}function u(e){return(0,i.default)({url:"/gen/generator/preview",method:"get",params:e})}var f=function(e){return(0,i.default)({url:"/gen/generator/code",method:"get",params:e})};t.genAndSaveTypeOne=f;var p=function(e){return(0,i.default)({url:"/gen/form/page",method:"get",params:e})};t.genFormHistoryPage=p;var m=function(e){return(0,i.default)({url:"/gen/form",method:"post",data:e})};t.saveFormDesign=m;var h=function(e){return(0,i.default)({url:"/gen/generator/vform/sfc",method:"get",params:e})};t.genFormVFormSfc=h;var g=function(e){return(0,i.default)({url:"/gen/form/".concat(e),method:"get"})};t.goBackGenForm=g;var b=function(e){return(0,i.default)({url:"/gen/form/".concat(e),method:"delete"})};t.deleteGenForm=b},"7ca0":function(e,t,a){"use strict";a.r(t);var n=a("60b9"),i=a("fa9c");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("ef52");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"bc614d12",null);t["default"]=s.exports},"7da9":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("d81d");var i=n(a("5530")),o=a("e87b"),r=a("3fa7"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u={name:"I18n",data:function(){return{form:{},i18nIds:[],searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,c.getTableOptions)(o.tableOption,l.default.i18n)}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_i18n_add,!1),delBtn:this.vaildData(this.permissions.sys_i18n_del,!1),editBtn:this.vaildData(this.permissions.sys_i18n_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),created:function(){},methods:{getI18nPage:function(){var e=this,t=(0,i.default)({current:this.page.currentPage,size:this.page.pageSize},this.searchForm);this.tableLoading=!0,(0,r.getI18nPage)(t).then((function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total})).finally((function(){e.tableLoading=!1}))},selectionChange:function(e){this.i18nIds=e.map((function(e){return e.id}))},batchDelete:function(){var e=this,t="是否确认批量删除数据?",a=this.i18nIds;this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,r.delObj)(a)})).then((function(t){e.page.currentPage=1,e.$message.success("删除成功"),e.getI18nPage()}))},rowDel:function(e){var t=this,a=[e.id];(0,r.delObj)(a).then((function(){t.page.currentPage=1,t.$message.success("删除成功"),t.getI18nPage()}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,r.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getI18nPage()})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;(0,r.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getI18nPage()})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getI18nPage()},refreshChange:function(){this.getI18nPage()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getI18nPage()},update:function(e,t){this.$refs.crud.rowEdit(e,t)}}};t.default=u},"7e68":function(e,t,a){"use strict";a("1fe5")},"7eb0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,menu:!1,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!0,saveBtn:!1,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"用户名",prop:"username",search:!0,span:24},{label:"密码",prop:"password",hide:!0},{label:"姓名",prop:"name",hide:!0},{label:"手机号",prop:"phone",search:!0,hide:!0,span:24},{label:"角色",prop:"roleList",value:"",span:24,slot:!0,type:"select",multiple:!0,dicUrl:"/app/approle/list",props:{label:"roleName",value:"roleId"}},{label:"邮箱",prop:"email",hide:!0,span:24},{label:"昵称",prop:"nickname",span:24},{label:"头像",prop:"avatar",addDisplay:!1,editDisplay:!1,value:"",slot:!0},{label:"状态",prop:"lockFlag",value:"",type:"radio",slot:!0,dicData:[{label:"有效",value:"0"},{label:"禁用",value:"9"}]},{label:"创建时间",prop:"createTime",value:"",span:24,addDisplay:!1,editDisplay:!1},{fixed:"right",width:240,prop:"operate",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"7eb2":function(e,t,a){"use strict";a.r(t);var n=a("f93a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"7ec3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("0264"),i=a("4590"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("approle.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importAppRole)(a).then((function(e){t.$message.success(e.data.msg),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$parent.refreshChange()}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},"7f2a":function(e,t,a){"use strict";a.r(t);var n=a("90c1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"7f34":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},"7f99":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jobIndex kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"row-save":e.save,"row-update":e.update,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"search-change":e.handleFilter,"search-reset":e.handleSearchReset},scopedSlots:e._u([{key:"jobStatus",fn:function(t){return["1"===t.row.jobStatus?a("div",[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.getDicNameJobStatus(t.row.jobStatus)))])],1):"2"===t.row.jobStatus?a("div",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicNameJobStatus(t.row.jobStatus)))])],1):"3"===t.row.jobStatus?a("div",[a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.getDicNameJobStatus(t.row.jobStatus)))])],1):e._e()]}},{key:"jobExecuteStatus",fn:function(t){return["0"===t.row.jobExecuteStatus?a("div",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobExecuteStatus)))])],1):a("div",[a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobExecuteStatus)))])],1)]}},{key:"jobType",fn:function(t){return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicNameJobType(t.row.jobType)))])]}},{key:"jobTypeForm",fn:function(){return[a("k-select",{attrs:{options:e.jobTypeList,placeholder:"请选择"},model:{value:e.form.jobType,callback:function(t){e.$set(e.form,"jobType",t)},expression:"form.jobType"}})]},proxy:!0},{key:"misfirePolicy",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicMisfirePolicy(n.misfirePolicy)))])]}},{key:"caozuo",fn:function(t){return[a("k-button",{attrs:{size:"small","k-alias":"log","k-type":"minor"},on:{click:function(a){return e.handleJobLog(t.row)}}},[e._v("日志")]),"2"!==t.row.jobStatus?a("k-button",{directives:[{name:"show",rawName:"v-show",value:e.permissions.job_sys_job_start_job,expression:"permissions.job_sys_job_start_job"}],attrs:{size:"small","k-alias":"start","k-type":"minor"},on:{click:function(a){return e.handleStartJob(t.row)}}},[e._v(" 启动 ")]):a("k-button",{directives:[{name:"show",rawName:"v-show",value:e.permissions.job_sys_job_shutdown_job,expression:"permissions.job_sys_job_shutdown_job"}],attrs:{size:"small","k-type":"minor","k-alias":"stop"},on:{click:function(a){return e.handleShutDownJob(t.row)}}},[e._v(" 暂停 ")]),e.permissions.job_sys_job_run_job?a("k-button",{attrs:{size:"small","k-type":"minor","k-alias":"run"},on:{click:function(a){return e.handleRunJob(t.row)}}},[e._v(" 执行 ")]):e._e(),e.permissions.job_sys_job_edit?a("k-button",{attrs:{size:"small",type:"primary","k-type":"minor","k-alias":"edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]):e._e(),e.permissions.job_sys_job_del?a("k-button-delete",{attrs:{size:"small","k-type":"minorDanger","k-alias":"delete",description:'是否确认删除(任务名称:"'+t.row.jobName+'"), 是否继续?删除后不可恢复'},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"cronExpressionForm"},[a("div",{staticClass:"cron"},[a("el-popover",{attrs:{"popper-class":"cron-popover"},model:{value:e.cronPopover,callback:function(t){e.cronPopover=t},expression:"cronPopover"}},[a("cron",{attrs:{i18n:"cn"},on:{change:e.changeCron,close:function(t){e.cronPopover=!1}}}),a("el-input",{attrs:{slot:"reference",placeholder:"请输入定时策略"},on:{click:function(t){e.cronPopover=!0}},slot:"reference",model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1)]),a("template",{slot:"menuLeft"},[e.permissions.job_sys_job_add?a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v(" 新增 ")]):e._e()],1)],2)],1),e.dialogFormVisible?a("jobLog",{ref:"logRef"}):e._e()],1)},i=[]},"80e1":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("d81d"),a("a15b");var i=n(a("5530")),o=a("d161"),r=a("4590"),s=a("d68d"),l=a("2f62"),c=n(a("d166")),d=a("b729"),u=n(a("b993")),f=n(a("cdb5")),p={name:"AppRole",components:{ImportContent:u.default},data:function(){return{importVisible:!1,menuIds:[],dialogParam:{visible:!1,title:"分配角色"},dataTree:[],defaultCheckedKeys:[],defaultProps:{},footBtnList:[{title:"取消",key:"cancel",kType:"minor"},{title:"更新",key:"save",kType:"main"}],grandRoleId:"",form:{},appRoleIds:[],searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,d.getTableOptions)(o.tableOption,c.default.approle)}},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_i18n_add,!1),delBtn:this.vaildData(this.permissions.sys_i18n_del,!1),editBtn:this.vaildData(this.permissions.sys_i18n_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=f.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=f.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),created:function(){},methods:{getAppRolePage:function(){var e=this,t=(0,i.default)({current:this.page.currentPage,size:this.page.pageSize},this.searchForm);this.tableLoading=!0,(0,r.getAppRolePage)(t).then((function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total})).finally((function(){e.tableLoading=!1}))},selectionChange:function(e){this.appRoleIds=e.map((function(e){return e.roleId}))},batchDelete:function(){var e=this,t="是否确认批量删除数据?";this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,r.delObj)(e.appRoleIds)})).then((function(t){e.page.currentPage=1,e.$message.success("删除成功"),e.getAppRolePage()}))},rowDel:function(e){var t=this,a=[e.roleId];(0,r.delObj)(a).then((function(){t.page.currentPage=1,t.$message.success("删除成功"),t.getAppRolePage()}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,r.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getAppRolePage()})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this,o=(0,i.default)((0,i.default)({},e),{},{role:e.roleList});(0,r.addObj)(o).then((function(e){n.$message.success("添加成功"),t(),n.getAppRolePage()})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getAppRolePage()},refreshChange:function(){this.getAppRolePage()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getAppRolePage()},update:function(e,t){this.$refs.crud.rowEdit(e,t)},rowEmpower:function(e){var t=this;this.defaultCheckedKeys=[],this.dialogParam.visible=!0,this.grandRoleId=e.roleId,(0,s.getMenuCheckedTree)(e.roleId).then((function(e){var a;t.defaultCheckedKeys=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||[]})),(0,s.getMenuTree)().then((function(e){var a;t.dataTree=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||[]}))},checkChange:function(e){this.menuIds=this.$refs.kTree.$refs.proxyComponent.getCheckedNodes().map((function(e){return e.id}))},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.dialogParam.visible=!1;else{var a={menuIds:this.menuIds.join(","),roleId:this.grandRoleId};(0,r.putMenu)(a).then((function(e){t.$message.success("操作成功"),t.dialogParam.visible=!1}))}},importInfo:function(){this.importVisible=!0}}};t.default=p},8150:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("b64b"),a("4de4");var i=n(a("5530")),o=a("7c79"),r={props:{pageInfo:{type:Object,default:function(){}}},data:function(){return{codeStyleList:[],codeDefaultProps:{value:"id",label:"groupName"},form:{tableName:"",tableComment:"",className:"",author:"",packageName:"",moduleName:"",functionName:"",style:"",formLayout:1,generatorType:0,backendPath:"",frontendPath:""},formRules:{tableName:[{required:!0,message:"请输入用户名",trigger:"blur"}],tableComment:[{required:!0,message:"请输入密码",trigger:"blur"}],className:[{required:!0,message:"请输入用户名",trigger:"blur"}],author:[{required:!0,message:"请输入密码",trigger:"blur"}],packageName:[{required:!0,message:"请输入用户名",trigger:"blur"}],moduleName:[{required:!0,message:"请输入密码",trigger:"blur"}],functionName:[{required:!0,message:"请输入用户名",trigger:"blur"}],style:[{required:!0,message:"请输入密码",trigger:"blur"}],formLayout:[{required:!0,message:"请输入用户名",trigger:"blur"}],generatorType:[{required:!0,message:"请输入密码",trigger:"blur"}],backendPath:[{required:!0,message:"请输入用户名",trigger:"blur"}],frontendPath:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){this.fetchCodeStyleList()},computed:{changeInfo:function(){return(0,i.default)((0,i.default)({},this.pageInfo),{},{codeStyleList:this.codeStyleList})}},watch:{pageInfo:{handler:function(e){var t=this;Object.keys(this.form).forEach((function(a){t.form[a]=e[a]}))}},changeInfo:{immediate:!0,deep:!0,handler:function(e){var t,a=this.form.style,n=this.codeStyleList.filter((function(e){return e.id===a})).length;n||(this.form.style=null===(t=this.codeStyleList[0])||void 0===t?void 0:t.id)}}},methods:{fetchCodeStyleList:function(){var e=this;(0,o.fetchCodeStyleList)().then((function(t){e.codeStyleList=t.data.data}))}}};t.default=r},8210:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doTask=s,t.fetchComment=r,t.fetchDetail=o,t.fetchList=i;var n=a("b5c6");function i(e){return(0,n.http)({url:"/act/task/todo",method:"get",params:e})}function o(e){return(0,n.http)({url:"/act/task/"+e,method:"get"})}function r(e){return(0,n.http)({url:"/act/task/comment/"+e,method:"get"})}function s(e){return(0,n.http)({url:"/act/task",method:"post",data:e})}},8235:function(e,t,a){"use strict";a("f3a1")},"8312c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isCustomUser?a("custom-user"):a("index-init")},i=[]},"83bd":function(e,t,a){"use strict";a.r(t);var n=a("98cf"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},8431:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,menu:!1,stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,saveBtn:!1,dialogClickModal:!1,columnBtn:!1,column:[{label:"菜单名称",prop:"name",search:!0},{label:"排序",prop:"sortOrder",formslot:!0},{label:"菜单类型",prop:"menuType",value:"0",formslot:!0,slot:!0},{label:"上级菜单",prop:"parentId",value:"",type:"select",formslot:!0,hide:!0},{label:"路由路径",prop:"path",formslot:!0,editDisplay:!0,addDisplay:!0},{label:"显示状态",prop:"visible",value:"1",formslot:!0,slot:!0,editDisplay:!0,addDisplay:!0},{label:"权限标识",prop:"permission",formslot:!0,editDisplay:!1,addDisplay:!1},{fixed:"right",width:240,prop:"operate",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},"843c":function(e,t,a){"use strict";a.r(t);var n=a("848a"),i=a("471d");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"848a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-dic-dialog-container"},[e.param.visible?a("k-modal",{attrs:{param:e.param,"foot-btn-list":e.footBtnList},on:{"foot-func-click":e.footFuncClick}},[a("k-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dicDialogFormRef",attrs:{model:e.dataForm,rules:e.dataRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{staticClass:"mb20",attrs:{span:12}},[a("k-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("k-input",{attrs:{placeholder:"请输入字段类型",disabled:""!==e.dataForm.id,clearable:""},model:{value:e.dataForm.dictType,callback:function(t){e.$set(e.dataForm,"dictType",t)},expression:"dataForm.dictType"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{span:12}},[a("k-form-item",{attrs:{label:"描述",prop:"description"}},[a("k-input",{attrs:{placeholder:"请输入描述",clearable:""},model:{value:e.dataForm.description,callback:function(t){e.$set(e.dataForm,"description",t)},expression:"dataForm.description"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{span:12}},[a("k-form-item",{attrs:{label:"字段类型",prop:"systemFlag"}},[a("k-radio-group",{model:{value:e.dataForm.systemFlag,callback:function(t){e.$set(e.dataForm,"systemFlag",t)},expression:"dataForm.systemFlag"}},[a("k-radio-button",{attrs:{label:"1"}},[e._v("系统类")]),a("k-radio-button",{attrs:{label:"0"}},[e._v("业务类")])],1)],1)],1),a("el-col",{staticClass:"mb20",attrs:{span:12}},[a("k-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("k-input",{attrs:{placeholder:"请输入字段备注"},model:{value:e.dataForm.remarks,callback:function(t){e.$set(e.dataForm,"remarks",t)},expression:"dataForm.remarks"}})],1)],1)],1)],1)],1):e._e()],1)},i=[]},"84ba":function(e,t,a){"use strict";a.r(t);var n=a("49a2"),i=a("a729");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("bb56");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"450e4105",null);t["default"]=s.exports},"84e6":function(e,t,a){"use strict";a.r(t);var n=a("a321"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"85b2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=o,t.delObj=l,t.getLeaveBillPage=i,t.getObj=r,t.putObj=c,t.submit=s;var n=a("b5c6");function i(e){return(0,n.http)({url:"/act/leave-bill/page",method:"get",params:e})}function o(e){return(0,n.http)({url:"/act/leave-bill",method:"post",data:e})}function r(e){return(0,n.http)({url:"/act/leave-bill/"+e,method:"get"})}function s(e){return(0,n.http)({url:"/act/leave-bill/submit/"+e,method:"get"})}function l(e){return(0,n.http)({url:"/act/leave-bill/"+e,method:"delete"})}function c(e){return(0,n.http)({url:"/act/leave-bill/",method:"put",data:e})}},"862c":function(e,t,a){"use strict";a.r(t);var n=a("678a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"86ce":function(e,t,a){"use strict";a.r(t);var n=a("7b36"),i=a("e3cb");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b8b6");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"32c3f1c0",null);t["default"]=s.exports},8825:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530"));a("b0c0"),a("d3b7");var o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a,o=function(t){if(t.data.name===e){var a=t.data.id,i=t.data.data,o=n[t.data.apiname];o?Promise.resolve(o(i)).then((function(e){r(a,{data:e})})).catch((function(e){r(a,{error:e,data:e})})):r(a,{error:"不存在",data:null})}},r=function(a,n){t.postMessage((0,i.default)((0,i.default)({},n),{},{id:a,name:e}),"*")};return window.addEventListener("message",o,!1),{add:function(e,t){n[e]=t},remove:function(){window.removeEventListener("message",o)}}},r=o;t.default=r},"889d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",limit:1,multiple:!1,accept:".xlsx,.xls,.png,.jpg,.jpeg,.doc,.txt,.ppt,pptx","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请上传 大小不超过 "),a("k-text",{attrs:{color:"red"}},[e._v("5MB")]),e._v("格式为 "),a("k-text",{attrs:{color:"red"}},[e._v("png/jpg/jpeg/doc/xls/ppt/txt/pdf/docx/xlsx/pptx")]),e._v(" 的文件")],1)])],1)]):e._e()},i=[]},"8b12":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addJob=r,t.deleteJobLog=p,t.deleteSysJob=u,t.fetchJobPage=o,t.fetchLogPage=f,t.putJob=s,t.runJob=d,t.startJob=l,t.stopJob=c;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/job/sys-job/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/job/sys-job",method:"post",data:e})}function s(e){return(0,i.default)({url:"/job/sys-job",method:"put",data:e})}function l(e){return(0,i.default)({url:"/job/sys-job/start-job/".concat(e),method:"post"})}function c(e){return(0,i.default)({url:"/job/sys-job/shutdown-job/".concat(e),method:"post"})}function d(e){return(0,i.default)({url:"/job/sys-job/run-job/".concat(e),method:"post"})}function u(e){return(0,i.default)({url:"/job/sys-job/".concat(e),method:"delete"})}function f(e){return(0,i.default)({url:"/job/sys-job-log/page",method:"get",params:e})}function p(e){return(0,i.default)({url:"/job/sys-job-log",method:"delete",data:e})}},"8b6b":function(e,t,a){"use strict";a.r(t);var n=a("02d8"),i=a("7205");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c9fd");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"062b11d2",null);t["default"]=s.exports},"8c4c":function(e,t,a){"use strict";a.r(t);var n=a("c7e3"),i=a("bf7b");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("8c93");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"728ff058",null);t["default"]=s.exports},"8c4d":function(e,t,a){"use strict";a.r(t);var n=a("a4b1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"8c5c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("c0a4"),r=a("4248"),s=a("2f62"),l=n(a("cdb5")),c=n(a("d166")),d=a("b729"),u={name:"Activiti",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,d.getTableOptions)(r.tableOption,c.default.model),ids:[]}},created:function(){},mounted:function(){},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.records,a.page.total=e.data.total,a.tableLoading=!1}))},handleView:function(e){var t="/oa/model/detail";this.$router.push({path:t,query:{id:e.id}})},batchDelete:function(){var e=this,t="确定批量删除数据?";this.$confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(e.ids)})).then((function(){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")}))},handleDel:function(e,t){this.$refs.crud.rowDel(e,t)},handleDeploy:function(e){var t=this;this.$confirm('是否确认部署ID为"'+e.id+'"的模型?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.deploy)(e.id)})).then((function(){t.page.currentPage=1,t.getList(t.page),t.$message.success("部署成功")}))},rowDel:function(e){var t=this,a=[e.id];(0,o.delObj)(a).then((function(){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")}))},handleSave:function(e,t,a){var n=this;e.desc=e.desc||"create_time",(0,o.addObj)(e).then((function(){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))}}};t.default=u},"8c93":function(e,t,a){"use strict";a("ecc5")},"8d40":function(e,t,a){"use strict";a.r(t);var n=a("263d"),i=a("1157");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"a7ad1658",null);t["default"]=s.exports},"8e6a":function(e,t,a){},"8eea":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter"},[a("k-form",{ref:"form",attrs:{inline:!0,model:e.form}},[a("k-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("k-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("k-form-item",[a("k-button",{attrs:{icon:"el-icon-search"},on:{click:e.search}},[e._v(" 搜索 ")])],1),a("k-form-item",{staticClass:"additional"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addDept}},[e._v(" 新增 ")]),a("k-button",{on:{click:e.importDept}},[e._v(" 导入 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}}),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1)],1)},i=[]},"8f1b":function(e,t,a){"use strict";a.r(t);var n=a("5ab5"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"8fc0":function(e,t,a){},"90c1":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530")),o=n(a("df52")),r=n(a("8d40")),s=n(a("2940")),l=a("7c79"),c=a("659f"),d={components:{StepFirstArea:o.default,StepSecondArea:r.default,PreviewDialog:s.default},data:function(){return{currentCompon:o.default,active:0,stepData:[{id:1,title:"基础信息"},{id:2,title:"数据修改"}],previewDialog:!1,pageInfo:{},dataArr:[],pageId:""}},created:function(){this.fetchGenTableInfo()},methods:{fetchGenTableInfo:function(){var e=this,t={source:this.$route.query.dsName,type:this.$route.query.tableName};(0,l.fetchGenTableInfo)(t).then((function(t){e.pageInfo=t.data.data,e.pageId=t.data.data.id}))},nextStep:function(){this.active=1,this.currentCompon=r.default;var e=(0,i.default)((0,i.default)({},this.pageInfo),this.$refs.content._data.form);(0,l.updateGenTableInfo)(e).then((function(e){}))},preStep:function(){this.active=0,this.currentCompon=o.default,this.fetchGenTableInfo()},savePreview:function(){this.dataArr=this.$refs.content._data.attrTableData,this.saveGenPage("preview")},saveGene:function(){this.dataArr=this.$refs.content._data.attrTableData,this.saveGenPage("gen")},saveGenPage:function(e){var t=this,a={source:this.$route.query.dsName,type:this.$route.query.tableName,data:this.dataArr};(0,l.saveGenPage)(a).then((function(a){"preview"===e?t.previewDialog=!0:"gen"===e&&(0===t.pageInfo.generatorType?(0,c.downBlobFile)("/gen/generator/download?tableIds=".concat(t.pageId),{},"".concat(t.$route.query.dsName,".zip")):1===t.pageInfo.generatorType&&(0,l.genAndSaveTypeOne)({tableIds:t.pageId}).then((function(e){t.$message.success("保存成功")})))}))}}};t.default=d},"91cd":function(e,t,a){"use strict";a("0151")},"91e4":function(e,t,a){"use strict";a.r(t);var n=a("1357"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"928d":function(e,t,a){"use strict";a.r(t);var n=a("93e1"),i=a("4196");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("36bd");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"b0598d42",null);t["default"]=s.exports},"92d1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"640px",title:e.form.menuId?"修改":"新增",visible:e.visible,"close-on-click-modal":!1,"custom-class":"kstar-crud__dialog"},on:{"update:visible":function(t){e.visible=t},close:e.handleClose}},[a("el-form",{ref:"dataForm",staticClass:"kstar-crud-form",attrs:{model:e.form,rules:e.rules,"label-width":"80px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"menuType"}},[a("k-radio-group",{attrs:{size:"small"},on:{change:e.handleChange},model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("k-radio-button",{attrs:{label:"0",size:"small",disabled:e.menuDisabled}},[e._v("左菜单")]),a("k-radio-button",{attrs:{label:"1",disabled:e.btnDisabled}},[e._v("按钮")]),a("k-radio-button",{attrs:{label:"2",disabled:e.menuDisabled}},[e._v("顶菜单")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[a("kstar-crud-input-tree",{attrs:{"node-key":"id",accordion:"",dic:e.menuOptions,props:e.treeOption,placeholder:"请选择上级菜单","node-click":e.nodeClick},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},["1"!==e.form.menuType?a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("kstar-crud-input-icon",{attrs:{"icon-list":e.iconList},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("k-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"路由",prop:"path"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 路由 "),a("k-tooltip",{attrs:{placement:"top","follow-themebg":""}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[e._v("一级路由示例：/test/index")]),a("div",[e._v("路由分类示例（权限管理）：/admin")]),a("div",[e._v("二级路由示例（菜单管理）：/admin/menu/index")])]),a("i",{staticClass:"el-icon-question"})])]},proxy:!0}],null,!1,215124646)},[a("k-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e(),"1"===e.form.menuType?a("el-form-item",{attrs:{label:"权限标识",prop:"permission"}},[a("k-input",{attrs:{placeholder:"请输入权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e(),a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-form-item",{attrs:{label:"排序",prop:"sortOrder"}},[a("el-input-number",{staticClass:"menu-input-number",attrs:{"controls-position":"right",precision:0},model:{value:e.form.sortOrder,callback:function(t){e.$set(e.form,"sortOrder",t)},expression:"form.sortOrder"}})],1),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"缓冲",prop:"keepAlive"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.keepAlive,callback:function(t){e.$set(e.form,"keepAlive",t)},expression:"form.keepAlive"}},[a("k-radio-button",{attrs:{label:"0"}},[e._v("否")]),a("k-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e(),"1"!==e.form.menuType?a("el-form-item",{attrs:{label:"是否显示",prop:"visible"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},[a("k-radio-button",{attrs:{label:"0"}},[e._v("否")]),a("k-radio-button",{attrs:{label:"1"}},[e._v("是")])],1)],1):e._e()],1)],1),a("div",{staticClass:"dialog-footer",class:e.dialogBtnConfig,attrs:{slot:"footer"},slot:"footer"},[a("k-button",{attrs:{"k-type":"main"},on:{click:e.dataFormSubmit}},[e._v("确 定")]),a("k-button",{attrs:{"k-type":"minor"},on:{click:e.handleClose}},[e._v("取 消")])],1)],1)},i=[]},"93e1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-type kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"search-reset":e.searchReset,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的字段?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{disabled:!e.ids.length,"k-type":"minorDanger",icon:"el-icon-delete"},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},9408:function(e,t,a){"use strict";a.r(t);var n=a("4b63"),i=a("1159");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("413b");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"412fec0b",null);t["default"]=s.exports},"941f":function(e,t,a){"use strict";a("1464")},9467:function(e,t,a){"use strict";a.r(t);var n=a("92d1"),i=a("b11f");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"95e4":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530")),o=a("8210"),r=a("d3ec"),s=n(a("78fd")),l=a("2f62"),c=n(a("d166")),d=a("b729"),u={name:"Task",comments:{AvueUeditor:s.default},data:function(){return{actPicUrl:"",obj:{},flagList:[],showTask:!1,showComment:!1,showPicDialog:!1,tableData:[],taskTableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption,formOption:(0,d.getTableOptions)(r.formOption,c.default.aoTask),taskOption:r.taskOption}},created:function(){},mounted:function(){},computed:(0,i.default)({},(0,l.mapGetters)(["permissions"])),methods:{searchChange:function(e,t){this.page.currentPage=1,this.getList(this.page,e)},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){a.tableData=e.data.records,a.page.total=e.data.total,a.tableLoading=!1}))},audit:function(e){var t=this;(0,o.fetchDetail)(e.taskId).then((function(e){t.obj=e.data.data,t.flagList=t.obj.flagList,t.showTask=!0})),this.obj=e},comment:function(e){var t=this;(0,o.fetchComment)(e.taskId).then((function(e){t.taskTableData=e.data.data})),this.showComment=!0},handleTask:function(e,t){var a=this;this.obj.taskFlag=t,this.$refs.form.validate((function(e){e&&(0,o.doTask)(a.obj).then((function(){a.$message({showClose:!0,message:"提交成功",type:"success"}),a.showTask=!1,a.getList(a.page)}))}))},viewPic:function(e){this.actPicUrl="/act/task/view/"+e.taskId,this.showPicDialog=!0},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)}}};t.default=u},"96d2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=s,t.delObj=r,t.fetchList=o,t.putObj=l;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/app/appsocial/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/app/appsocial",method:"delete",data:e})}function s(e){return(0,i.default)({url:"/app/appsocial",method:"post",data:e})}function l(e){return(0,i.default)({url:"/app/appsocial",method:"put",data:e})}},"976c":function(e,t,a){"use strict";a("1f5b")},"977c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("a2ef"),r=a("eff1"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=a("659f"),f={name:"index",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.template),ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.admin_syspublicparam_add,!1),delBtn:this.vaildData(this.permissions.admin_syspublicparam_del,!0),editBtn:this.vaildData(this.permissions.admin_syspublicparam_edit,!0)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除模板?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")})).catch((function(){}))},searchReset:function(){this.searchForm={},this.getList(this.page)},exportPosition:function(){(0,u.exportFile)("/gen/template/export",{},"get","template")},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},rowDel:function(e,t){e.ids=[e.id],this.handleDel(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)}}};t.default=f},"985f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4");var i=n(a("8bbf")),o=n(a("8aab"));a("f294");var r=n(a("fe8b")),s=a("7c79"),l=a("659f");i.default.use(o.default);var c={components:{HistoryDrawer:r.default},data:function(){return{designerConfig:{languageMenu:!1,externalLink:!1,formTemplates:!1,previewFormButton:!1,importJsonButton:!1,generateSFCButton:!1,exportCodeButton:!1,exportJsonButton:!1},drawerVisible:!1}},methods:{saveDesign:function(){var e=this,t=this.$refs["form-design"].getFormJson(),a=this.$route.query,n=a.dsName,i=a.tableName,o={dsName:n,formInfo:JSON.stringify(t),tableName:i};(0,s.saveFormDesign)(o).then((function(t){e.$message.success("保存成功")}))},exportDesign:function(){var e=this.$route.query,t=e.dsName,a=e.tableName;if(a&&t){var n=this.$refs["form-design"].getFormJson(),i={dsName:t,formInfo:JSON.stringify(n),tableName:a};(0,s.saveFormDesign)(i).then((function(e){var t=e.data.data.id;(0,s.genFormVFormSfc)({formId:t}).then((function(e){var t=e.data;(0,l.handleBlobFile)(t,"form.vue")}))}))}else this.$message.warning("表名或数据源名称不能为空")},getHistory:function(){this.drawerVisible=!0},goBackGenForm:function(e){var t=this;(0,s.goBackGenForm)(e).then((function(e){var a=t.$refs["form-design"];a.setFormJson(e.data.data.formInfo),t.$message.success("回滚成功")}))}}};t.default=c},"98cf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b");var n=a("0264"),i=a("0d26"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("user.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importUser)(a).then((function(e){t.$message.success(e.data.msg),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$parent.refreshChange()})).catch((function(e){var a=e.data[0].errors;t.$message.error("".concat(a.join("、")))}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},"99d3":function(e,t,a){"use strict";a("c97e")},"9b72":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("d3b7"),a("99af"),a("d81d"),a("b0c0");var i=a("59f7"),o=a("6ec0"),r=n(a("d166")),s=a("b729"),l=a("659f"),c=n(a("cdb5")),d={name:"CodeGenerator",data:function(){return{dataIds:[],dataSourceList:[],tableDsData:[],box:!1,dsPage:{total:0,currentPage:1,pageSize:20},dsForm:{},tableLoading:!1,tableDsOption:(0,s.getTableOptions)(o.tableDsOption,r.default.genDatasource)}},watch:{"dsForm.confType":function(){var e=this;this.$refs.dscrud.option.column.filter((function(t){"url"===t.prop&&(t.addDisplay=1===e.dsForm.confType,t.editDisplay=1===e.dsForm.confType),"host"===t.prop&&(t.addDisplay=1!==e.dsForm.confType,t.editDisplay=1!==e.dsForm.confType),"port"===t.prop&&(t.addDisplay=1!==e.dsForm.confType,t.editDisplay=1!==e.dsForm.confType),"dsName"===t.prop&&(t.addDisplay=1!==e.dsForm.confType,t.editDisplay=1!==e.dsForm.confType),"instance"===t.prop&&(t.addDisplay="mssql"===e.dsForm.dsType&&0===e.dsForm.confType,t.editDisplay="mssql"===e.dsForm.dsType&&0===e.dsForm.confType)}))},"dsForm.dsType":function(){var e=this;this.$refs.dscrud.option.column.filter((function(t){"instance"===t.prop&&(t.addDisplay="mssql"===e.dsForm.dsType&&0===e.dsForm.confType,t.editDisplay="mssql"===e.dsForm.dsType&&0===e.dsForm.confType),"port"===t.prop&&("mysql"===e.dsForm.dsType&&(e.dsForm.port=3306),"oracle"===e.dsForm.dsType&&(e.dsForm.port=1521),"pg"===e.dsForm.dsType&&(e.dsForm.port=5432),"mssql"===e.dsForm.dsType&&(e.dsForm.port=1433),"db2"===e.dsForm.dsType&&(e.dsForm.port=5e4))}))}},computed:{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=c.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=c.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}},methods:{selectionChange:function(e){this.dataIds=e.map((function(e){return e.id}))},batchDelete:function(){this.dataIds.length?this.rowDel(this.dataIds,!0):this.$message.warning("请选择批量删除的数据")},rowDel:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",o=[];a?(n="是否确认批量删除数据",o=e):(n="是否确认删除ID为"+e.id+"的数据",o=[e.id]),this.$confirm(n,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,i.delObj)(o)})).then((function(){t.$message.success("删除成功"),t.dsPage.currentPage=1,t.getDsList(t.dsPage)}))},handleOpenBefore:function(e){e()},handleUpdate:function(e,t,a){var n=this;(0,i.putObj)(e).then((function(e){e.data.data?n.$message.success("修改成功"):n.$message.error("修改失败，数据源不可访问"),a(),n.getDsList(n.dsPage)}))},handleSave:function(e,t){var a=this;(0,i.addObj)(e).then((function(e){e.data.data?a.$message.success("添加成功"):a.$message.error("添加失败，数据源不可访问"),t(),a.getDsList(a.dsPage)}))},getDsList:function(e,t){var a=this;(0,i.getDsconfPage)(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){a.tableDsData=e.data.data.records,a.dsPage.total=e.data.data.total}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},searchChange:function(e){this.dsPage.currentPage=1,this.getDsList(this.dsPage,e)},refreshDsChange:function(){this.getDsList(this.dsPage)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},editBtn:function(e,t){if("view"===t){var a=e.name;(0,l.downBlobFile)("/gen/dsconf/doc?dsName=".concat(a),{},"".concat(a,".html"))}else"edit"===t?this.$refs.dscrud.rowEdit(e,t):"delete"===t&&this.rowDel(e,t)}}};t.default=d},"9b96":function(e,t,a){"use strict";a.r(t);var n=a("05d8"),i=a("9c90");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("1d6b");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"617adca5",null);t["default"]=s.exports},"9b98":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.delObj=r,t.fetchList=o,t.updateSysFile=s;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/sys-file/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/sys-file",method:"delete",data:e})}function s(e){return(0,i.default)({url:"/admin/sys-file/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}},"9c7e":function(e,t,a){},"9c90":function(e,t,a){"use strict";a.r(t);var n=a("ac57"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"9e32":function(e,t,a){},"9e4f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head-container"},[a("div",{staticClass:"head-container-header"},[a("div",{staticClass:"head-container-header-input"},[a("k-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:e.placeholder,clearable:"",width:"calc(100% - 10px)"},on:{change:e.getdeptTree},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("div",{staticClass:"head-container-header-dropdown"})]),a("k-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.localLoading,expression:"localLoading"}],ref:"deptTreeRef",staticClass:"mt20",attrs:{data:e.List,props:e.props,"expand-on-click-node":!1,"node-key":"id","highlight-current":"","default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("div",{staticClass:"tree-slot"},[e._t("default",null,{node:n,data:i})],2)}}],null,!0)})],1)},i=[]},a065:function(e,t,a){},a065d:function(e,t,a){"use strict";a("ebc0")},a0f1:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"search-change":e.handleFilter,"search-reset":e.handleSearchReset},scopedSlots:e._u([{key:"jobLogStatus",fn:function(t){return["0"===t.row.jobLogStatus?a("div",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobLogStatus)))])],1):a("div",[a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.getDicNameJobExecuteStatus(t.row.jobLogStatus)))])],1)]}}])})],1)],1)},i=[]},a155:function(e,t,a){"use strict";a.r(t);var n=a("110f"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a1b1:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("d81d");var i=n(a("53ca")),o=n(a("5530")),r=a("7eb0"),s=a("8edd"),l=a("2f62"),c=n(a("d166")),d=a("b729"),u=n(a("6d98")),f=n(a("cdb5")),p={name:"Syspublicparam",components:{ImportContent:u.default},data:function(){return{importVisible:!1,form:{},appUserIds:[],searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,d.getTableOptions)(r.tableOption,c.default.appuser)}},computed:(0,o.default)((0,o.default)({},(0,l.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_i18n_add,!1),delBtn:this.vaildData(this.permissions.sys_i18n_del,!1),editBtn:this.vaildData(this.permissions.sys_i18n_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=f.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=f.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),created:function(){},methods:{getAppUserPage:function(){var e=this,t=(0,o.default)({current:this.page.currentPage,size:this.page.pageSize},this.searchForm);this.tableLoading=!0,(0,s.getAppUserPage)(t).then((function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total})).finally((function(){e.tableLoading=!1}))},selectionChange:function(e){this.appUserIds=e.map((function(e){return e.userId}))},batchDelete:function(){var e=this;if(this.appUserIds.length){var t="是否确认批量删除数据";this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,s.delObj)(e.appUserIds)})).then((function(t){e.page.currentPage=1,e.$message.success("删除成功"),e.getAppUserPage()}))}else this.$message.warning("请选择批量删除的数据")},rowDel:function(e){var t=this,a=[e.userId];(0,s.delObj)(a).then((function(){t.page.currentPage=1,t.$message.success("删除成功"),t.getAppUserPage()}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var r=this;"●●●●●●"===e.password&&delete e.password;var l=e.roleList.map((function(e){return"object"===(0,i.default)(e)?e.roleId:e})),c=(0,o.default)((0,o.default)({},e),{},{role:l});(0,s.putObj)(c).then((function(e){r.$message.success("修改成功"),a(),r.getAppUserPage()})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this,i=(0,o.default)((0,o.default)({},e),{},{role:e.roleList});(0,s.addObj)(i).then((function(e){n.$message.success("添加成功"),t(),n.getAppUserPage()})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getAppUserPage()},refreshChange:function(){this.getAppUserPage()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getAppUserPage()},update:function(e,t){e.password="●●●●●●",this.$refs.crud.rowEdit(e,t)},importInfo:function(){this.importVisible=!0}}};t.default=p},a1c2:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530"));a("4de4"),a("d3b7"),a("99af"),a("d81d"),a("ac1f"),a("1276"),a("b0c0"),a("a15b"),a("159b");var o=a("8d55"),r=a("78b2"),s=a("6473"),l=a("db0d"),c=a("e98a"),d=a("2f62"),u=n(a("d166")),f=a("b729"),p=n(a("e478")),m=n(a("cdb5")),h=a("659f"),g={name:"TableRole",components:{ImportContent:p.default},data:function(){return{importVisible:!1,menuFilterText:"",searchForm:{},tableOption:(0,f.getTableOptions)(l.tableOption,u.default.role),dsScopeData:[],treeData:[],checkedKeys:[],checkedDsScope:[],defaultProps:{label:"name",value:"id"},page:{total:0,currentPage:1,pageSize:20},menuIds:"",list:[],listLoading:!0,form:{},roleId:void 0,roleCode:void 0,rolesOptions:void 0,dialogPermissionVisible:!1,roleManager_btn_add:!1,roleManager_btn_edit:!1,roleManager_btn_del:!1,roleManager_btn_perm:!1,ids:[],roleManager_btn_export:!1}},created:function(){this.roleManager_btn_add=this.permissions.sys_role_add,this.roleManager_btn_edit=this.permissions.sys_role_edit,this.roleManager_btn_del=this.permissions.sys_role_del,this.roleManager_btn_perm=this.permissions.sys_role_perm,this.roleManager_btn_export=this.permissions.sys_role_export},watch:{menuFilterText:function(e){this.$refs.menuTree.$refs.proxyComponent.filter(e)}},computed:(0,i.default)((0,i.default)({},(0,d.mapGetters)(["elements","permissions"])),{},{dialogBtnConfig:function(){var e,t,a,n,i=(null===(e=m.default.pageBtnConfig)||void 0===e||null===(t=e.dialog)||void 0===t?void 0:t.align)||"right",o=(null===(a=m.default.pageBtnConfig)||void 0===a||null===(n=a.dialog)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," dialog-row-").concat(o)}}),methods:{exportPosition:function(){(0,h.exportFile)("/admin/role/export",{roleName:this.form.roleName},"get","role")},selectionChange:function(e){this.ids=e.map((function(e){return e.roleId}))},batchDelete:function(){var e={ids:this.ids};this.handleDel(e)},handleDel:function(e){var t=this;(0,r.delObj)(e.ids).then((function(){t.page.currentPage=1,t.getList(t.page),t.$notify.success("删除成功")}))},getList:function(e,t){var a=this;this.listLoading=!0,(0,r.getRolePage)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.list=e.data.data.records,a.page.total=e.data.data.total})).finally((function(){a.listLoading=!1}))},refreshChange:function(){this.getList(this.page)},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},handleCreate:function(){this.$refs.crud.rowAdd()},handleOpenBefore:function(e,t){var a=this;window.boxType=t,(0,c.getDeptTree)().then((function(e){a.dsScopeData=e.data.data,a.form.dsScope?a.checkedDsScope=a.form.dsScope.split(","):a.checkedDsScope=[]})),e()},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)},cancel:function(){this.dialogPermissionVisible=!1,this.menuFilterText=""},handlePermission:function(e){var t=this;(0,o.fetchRoleTree)(e.roleId).then((function(e){return t.checkedKeys=e.data.data,(0,s.getMenuTree)()})).then((function(a){t.treeData=a.data.data,t.dialogPermissionVisible=!0,t.roleId=e.roleId,t.roleCode=e.roleCode}))},resolveAllEunuchNodeId:function(e,t,a){for(var n=this,i=function(i){var o=e[i];o.children&&0!==o.children.length?n.resolveAllEunuchNodeId(o.children,t,a):a.push(t.filter((function(e){return e===o.id})))},o=0;o<e.length;o++)i(o);return a},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},getNodeData:function(e,t){t()},handleDelete:function(e,t){e.ids=[e.roleId],this.handleDel(e)},create:function(e,t,a){var n,i=this;1===this.form.dsType&&(this.form.dsScope=null===(n=this.$refs.scopeTree.$refs)||void 0===n?void 0:n.proxyComponent.getCheckedKeys().join(","));(0,r.addObj)(this.form).then((function(){i.getList(i.page),t(),i.$notify.success("创建成功")})).catch((function(){a()}))},update:function(e,t,a,n){var i,o=this;1===this.form.dsType&&(this.form.dsScope=null===(i=this.$refs.scopeTree.$refs)||void 0===i?void 0:i.proxyComponent.getCheckedKeys().join(","));(0,r.putObj)(this.form).then((function(){o.getList(o.page),a(),o.$notify.success("修改成功")})).catch((function(){n()}))},updatePermession:function(e){var t,a,n=this;this.menuIds="";var i=null===(t=this.$refs.menuTree.$refs)||void 0===t?void 0:t.proxyComponent.getCheckedKeys(),r=null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent.getHalfCheckedKeys();this.menuIds=i.concat(r).join(","),(0,o.permissionUpd)(e,this.menuIds).then((function(){n.dialogPermissionVisible=!1,n.menuFilterText="",n.$notify.success("修改成功"),n.$store.dispatch("GetMenu",{type:!0,isInit:!0}).then((function(e){0!==e.length&&(n.$router.$avueRouter.routerList=[],n.$router.$avueRouter.formatRoutes(e,!0))}))}))},handleCheck:function(e,t){var a,n=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{},i=n.getNode(e).checked;i?(e.parentId&&this.setParentChecked(e.parentId),e.children&&this.setChildreChecked(e.children,!0)):(e.children&&this.setChildreChecked(e.children,!1),this.setParentCanel(e.parentId,e.id))},setParentChecked:function(e){var t,a,n=(null===(t=this.$refs.menuTree.$refs)||void 0===t?void 0:t.proxyComponent)||{},i=n.getNode(e);i&&i.data&&(null===(a=i.data)||void 0===a?void 0:a.parentId)&&this.setParentChecked(i.data.parentId),n.setChecked(e,!0)},setParentCanel:function(e,t){var a,n,i,o,r=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{},s=r.getNode(e)||{},l=r.getNode(t)||{};if("1"!==(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.type)){var c;if(null!==(i=s.childNodes)&&void 0!==i&&i.every((function(e){return!1===e.checked})))s&&s.data&&"-1"!==(null===(c=s.data)||void 0===c?void 0:c.parentId)&&r.setChecked(s.id,!1),r.setChecked(e,!1);s&&s.data&&"-1"!==(null===(o=s.data)||void 0===o?void 0:o.parentId)&&this.setParentCanel(s.data.parentId,s.data.id)}},setChildreChecked:function(e,t){var a,n=this,i=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{};e&&e.forEach((function(e){e.children&&n.setChildreChecked(e.children,t),i.setChecked(e.id,t)}))},importInfo:function(){this.importVisible=!0}}};t.default=g},a202:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("8b12"),r=a("aab7"),s=a("2f62"),l=n(a("cdb5")),c={name:"jobLog",data:function(){return{jobLogIds:[],tableLogData:[],dialogFormVisible:!1,jobId:"",pageLog:{total:0,currentPage:1,pageSize:20,pageSizes:[20,30,50,100]},tableLogLoading:!1,tableLogOption:r.tableLogOption}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),mounted:function(){this.init()},methods:{init:function(){this.dialogFormVisible=!0,this.getJobLogList(this.pageLog)},getJobLog:function(e){this.dialogFormVisible=!0,this.tableLogLoading=!0,this.jobId=e.jobId,this.getJobLogList(this.pageLog)},getJobLogList:function(e){var t=this;this.jobId&&(0,o.fetchLogPage)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},{jobId:this.jobId})).then((function(e){t.tableLogData=e.data.data.records,t.pageLog.total=e.data.data.total,t.pageLog.pageSize=e.data.data.size,t.tableLogLoading=!1}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.pageLog.pageSize=e.pageSize,this.pageLog.currentPage=e.currentPage,this.getJobLogList(this.pageLog)},closeJobLogDialog:function(){this.jobId="",this.pageLog.total=0,this.pageLog.currentPage=1,this.pageLog.pageSize=20},selectionChange:function(e){this.jobLogIds=e.map((function(e){return e.jobLogId}))},batchDeleteLog:function(){var e=this;this.$confirm("确定批量删除日志?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){e.deleteJobLog(e.jobLogIds)})).catch((function(){}))},deleteLog:function(e){var t=this;this.$confirm("确定删除该日志信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){t.deleteJobLog([e.jobLogId])})).catch((function(){}))},deleteJobLog:function(e){var t=this;(0,o.deleteJobLog)(e).then((function(e){t.$message.success("操作成功"),t.pageLog.currentPage=1,t.getJobLogList(t.pageLog)}))}}};t.default=c},a25d:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d"),a("d3b7"),a("ac1f"),a("1276"),a("4de4"),a("b0c0"),a("a15b"),a("159b");var i=n(a("5530")),o=a("8d55"),r=a("78b2"),s=a("6473"),l=a("db0d"),c=a("e98a"),d=a("2f62"),u=n(a("d166")),f=a("b729"),p=n(a("e478")),m=n(a("cdb5")),h=a("659f"),g={name:"TableRole",components:{ImportContent:p.default},data:function(){return{grandParam:{visible:!1,title:"分配权限"},footBtnList:[{title:"更新",key:"update",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],importVisible:!1,menuFilterText:"",searchForm:{},tableOption:(0,f.getTableOptions)(l.tableOption,u.default.role),dsScopeData:[],treeData:[],checkedKeys:[],checkedDsScope:[],defaultProps:{label:"name",value:"id"},page:{total:0,currentPage:1,pageSize:20},menuIds:"",list:[],listLoading:!0,form:{},roleId:void 0,roleCode:void 0,rolesOptions:void 0,roleManager_btn_add:!1,roleManager_btn_edit:!1,roleManager_btn_del:!1,roleManager_btn_perm:!1,ids:[],roleManager_btn_export:!1}},created:function(){this.roleManager_btn_add=this.permissions.sys_role_add,this.roleManager_btn_edit=this.permissions.sys_role_edit,this.roleManager_btn_del=this.permissions.sys_role_del,this.roleManager_btn_perm=this.permissions.sys_role_perm,this.roleManager_btn_export=this.permissions.sys_role_export},watch:{},computed:(0,i.default)((0,i.default)({},(0,d.mapGetters)(["elements","permissions"])),{},{dialogBtnConfig:function(){var e,t,a,n,i=(null===(e=m.default.pageBtnConfig)||void 0===e||null===(t=e.dialog)||void 0===t?void 0:t.align)||"right",o=(null===(a=m.default.pageBtnConfig)||void 0===a||null===(n=a.dialog)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," dialog-row-").concat(o)},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=m.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=m.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{exportPosition:function(){(0,h.exportFile)("/admin/role/export",{roleName:this.form.roleName},"get","role")},selectionChange:function(e){this.ids=e.map((function(e){return e.roleId}))},batchDelete:function(){var e=this,t={ids:this.ids},a="此操作将永久删除,是否确认？";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,r.delObj)(t.ids)})).then((function(){e.page.currentPage=1,e.getList(e.page),e.$notify.success("删除成功")}))},handleDel:function(e){var t=this;(0,r.delObj)(e.ids).then((function(){t.page.currentPage=1,t.getList(t.page),t.$notify.success("删除成功")}))},getList:function(e,t){var a=this;this.listLoading=!0,(0,r.getRolePage)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.list=e.data.data.records,a.page.total=e.data.data.total})).finally((function(){a.listLoading=!1}))},refreshChange:function(){this.getList(this.page)},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},handleCreate:function(){this.$refs.crud.rowAdd()},handleOpenBefore:function(e,t){var a=this;window.boxType=t,(0,c.getDeptTree)().then((function(e){a.dsScopeData=e.data.data,a.form.dsScope?a.checkedDsScope=a.form.dsScope.split(","):a.checkedDsScope=[]})),e()},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)},cancel:function(){this.grandParam.visible=!1,this.menuFilterText=""},handlePermission:function(e){var t=this;(0,o.fetchRoleTree)(e.roleId).then((function(e){return t.checkedKeys=e.data.data,(0,s.getMenuTree)()})).then((function(a){t.treeData=a.data.data,t.grandParam.visible=!0,t.roleId=e.roleId,t.roleCode=e.roleCode}))},resolveAllEunuchNodeId:function(e,t,a){for(var n=this,i=function(i){var o=e[i];o.children&&0!==o.children.length?n.resolveAllEunuchNodeId(o.children,t,a):a.push(t.filter((function(e){return e===o.id})))},o=0;o<e.length;o++)i(o);return a},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},getNodeData:function(e,t){t()},handleDelete:function(e,t){e.ids=[e.roleId],this.handleDel(e)},create:function(e,t,a){var n,i=this;1===this.form.dsType&&(this.form.dsScope=null===(n=this.$refs.scopeTree.$refs)||void 0===n?void 0:n.proxyComponent.getCheckedKeys().join(","));(0,r.addObj)(this.form).then((function(){i.getList(i.page),t(),i.$notify.success("创建成功")})).catch((function(){a()}))},update:function(e,t,a,n){var i,o=this;1===this.form.dsType&&(this.form.dsScope=null===(i=this.$refs.scopeTree.$refs)||void 0===i?void 0:i.proxyComponent.getCheckedKeys().join(","));(0,r.putObj)(this.form).then((function(){o.getList(o.page),a(),o.$notify.success("修改成功")})).catch((function(){n()}))},footFuncClick:function(e){var t=e.key;"update"===t?this.updatePermession(this.roleId):this.cancel()},updatePermession:function(e){var t,a,n=this;this.menuIds="";var i=null===(t=this.$refs.menuTree.$refs)||void 0===t?void 0:t.proxyComponent.getCheckedKeys(),r=null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent.getHalfCheckedKeys();this.menuIds=i.concat(r).join(","),(0,o.permissionUpd)(e,this.menuIds).then((function(){n.grandParam.visible=!1,n.menuFilterText="",n.$notify.success("修改成功"),n.$store.dispatch("GetMenu",{type:!0,isInit:!0}).then((function(e){0!==e.length&&(n.$router.$avueRouter.routerList=[],n.$router.$avueRouter.formatRoutes(e,!0))}))}))},handleCheck:function(e,t){var a,n=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{},i=n.getNode(e).checked;i?(e.parentId&&this.setParentChecked(e.parentId),e.children&&this.setChildreChecked(e.children,!0)):(e.children&&this.setChildreChecked(e.children,!1),this.setParentCanel(e.parentId,e.id))},setParentChecked:function(e){var t,a,n=(null===(t=this.$refs.menuTree.$refs)||void 0===t?void 0:t.proxyComponent)||{},i=n.getNode(e);i&&i.data&&(null===(a=i.data)||void 0===a?void 0:a.parentId)&&this.setParentChecked(i.data.parentId),n.setChecked(e,!0)},setParentCanel:function(e,t){var a,n,i,o,r=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{},s=r.getNode(e)||{},l=r.getNode(t)||{};if("1"!==(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.type)){var c;if(null!==(i=s.childNodes)&&void 0!==i&&i.every((function(e){return!1===e.checked})))s&&s.data&&"-1"!==(null===(c=s.data)||void 0===c?void 0:c.parentId)&&r.setChecked(s.id,!1),r.setChecked(e,!1);s&&s.data&&"-1"!==(null===(o=s.data)||void 0===o?void 0:o.parentId)&&this.setParentCanel(s.data.parentId,s.data.id)}},setChildreChecked:function(e,t){var a,n=this,i=(null===(a=this.$refs.menuTree.$refs)||void 0===a?void 0:a.proxyComponent)||{};e&&e.forEach((function(e){e.children&&n.setChildreChecked(e.children,t),i.setChecked(e.id,t)}))},importInfo:function(){this.importVisible=!0}}};t.default=g},a2d4:function(e,t,a){"use strict";a.r(t);var n=a("147c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a2ef:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=s,t.delObj=r,t.fetchList=o,t.putObj=l;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/gen/template/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/gen/template",method:"delete",data:e})}function s(e){return(0,i.default)({url:"/gen/template",method:"post",data:e})}function l(e){return(0,i.default)({url:"/gen/template",method:"put",data:e})}},a321:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("d81d"),a("a15b"),a("ac1f"),a("1276");var i=n(a("5530")),o=a("f7c5"),r=a("3e2b"),s=n(a("d166")),l=a("2f62"),c=a("b729"),d=n(a("cdb5")),u={name:"TenantMenu",data:function(){return{tenantMenuTree:[],defaultProps:{children:"children",label:"name"},defaultCheckedKeys:[],menuIds:[],tableMenuData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableMenuOption:(0,c.getTableOptions)(r.tableMenuOption,s.default.tenantMenu),changeFlag:!1}},created:function(){this.getTenantMenuTree()},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.sys_systenantmenu_del,!1),editBtn:this.vaildData(this.permissions.sys_systenantmenu_edit,!1),tenantMenuAddBtn:this.vaildData(this.permissions.sys_systenantmenu_add,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),watch:{},methods:{getTenantMenuTree:function(){var e=this;(0,o.getTenantMenuTree)().then((function(t){e.tenantMenuTree=t.data.data}))},getTenantMenuPage:function(){var e=this;this.tableLoading=!0;var t={current:this.page.currentPage,size:this.page.pageSize};(0,o.getTenantMenuPage)(t).then((function(t){e.tableMenuData=t.data.data.records,e.page.total=t.data.data.total})).finally((function(){e.tableLoading=!1}))},checkMenuChange:function(e){this.changeFlag=!0,this.menuIds=this.$refs.kMenuTree.$refs.proxyComponent.getCheckedNodes().map((function(e){return e.id}))},rowDel:function(e,t){var a=this,n=this;this.$confirm("是否确认删除id为"+e.id+"的数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delTenantMenu)(e.id)})).then((function(){n.$message.success("删除成功"),a.page.currentPage=1,a.refreshChange()})).catch((function(){}))},handleUpdate:function(e,t,a){var n=this;this.changeFlag&&(e.menuIds=this.menuIds.join(",")),(0,o.putTenantMenu)(e).then((function(){n.$message.success("修改成功"),n.refreshChange(),a()})).catch((function(){a()}))},handleSave:function(e,t){var a=this,n=(0,i.default)((0,i.default)({},e),{},{menuIds:this.menuIds.join(",")});(0,o.addTenantMenu)(n).then((function(e){a.refreshChange(),t()})).catch((function(){t()}))},refreshChange:function(){this.getTenantMenuPage()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},beforeOpen:function(e,t){"add"===t&&(this.defaultCheckedKeys=[]),window.boxType=t,e()},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getTenantMenuPage()},update:function(e,t){this.defaultCheckedKeys=e.menuIds.split(","),this.$refs.crud.rowEdit(e,t)}}};t.default=u},a352:function(e,t,a){},a431:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},a442:function(e,t,a){"use strict";a.r(t);var n=a("3372"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a4b1:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("db1a")),o=a("a8a0"),r={components:{indexInit:i.default,customUser:function(e,t){e((0,o.getRewritePage)("user"))}},data:function(){return{isCustomUser:!!(0,o.getRewritePage)("user")}},created:function(){}};t.default=r},a4bb:function(e,t,a){"use strict";a("286f")},a69c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"process kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"row-del":e.rowDel},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissions.act_process_manage?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.handlePic(t.row,t.index)}}},[e._v("流程图 ")]):e._e(),e.permissions.act_process_manage&&t.row.suspend?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.handleStatus(t.row,"active")}}},[e._v("激活 ")]):e._e(),e.permissions.act_process_manage&&!t.row.suspend?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.handleStatus(t.row,"suspend")}}},[e._v("失效 ")]):e._e(),e.permissions.act_process_manage?a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return e.handleDel(t.row,"suspend")}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minorDanger"},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1),a("el-dialog",{attrs:{visible:e.showPicDialog,title:"流程图"},on:{"update:visible":function(t){e.showPicDialog=t}}},[a("img",{attrs:{src:e.actPicUrl,width:"100%"}})])],1)},i=[]},a71e:function(e,t,a){},a729:function(e,t,a){"use strict";a.r(t);var n=a("6eba"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a7535:function(e,t,a){"use strict";a("5301")},a756:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b");var n=a("0264"),i=a("e98a"),o={name:"ImpoatContent",props:{importVisible:{type:Boolean,default:!1}},data:function(){return{importParam:{visible:!1,title:"用户导入"},footBtnList:[{title:"确定",key:"save",kType:"main"},{title:"取消",key:"cancel",kType:"minor"}],responseFile:""}},watch:{importVisible:{immediate:!0,handler:function(e){this.importParam.visible=e}}},methods:{exportTemp:function(){(0,n.handleDown)("dept.xlsx","local/file")},handleRemove:function(e,t){this.responseFile=""},uploadSuccess:function(e){this.responseFile=e.file},footFuncClick:function(e){var t=this;if("cancel"===e.key)this.closeModel();else{var a=new FormData;a.append("file",this.responseFile),(0,i.importDept)(a).then((function(e){t.$message.success(e.data.msg||"导入成功"),t.importParam.visible=!1,t.$emit("update:importVisible",!1),t.$emit("refresh-list")})).catch((function(e){var a,n=(null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.errors)||[];t.$message.error("".concat(n.join("、")))}))}},closeModel:function(){this.importParam.visible=!1,this.$emit("update:importVisible",!1)}}};t.default=o},a81e:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isCustomMenu?a("custom-menu"):a("index-init")},i=[]},a8a00:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,stripe:!0,indexLabel:"序号",menuAlign:"center",align:"center",menuBtn:!0,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,menuType:"menu",selection:!0,columnBtn:!1,column:[{label:"主键",prop:"leaveId",editDisabled:!0,addDisplay:!1},{label:"用户名",prop:"username",search:!0,editDisabled:!0,addDisplay:!1},{label:"请假天数",prop:"days",type:"number"},{label:"状态",prop:"state",type:"select",slot:!0,dicUrl:"/admin/dict/type/leave_status",search:!0,addDisplay:!1},{label:"请假时间",prop:"leaveTime",type:"datetime",overHidden:!0,format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd hh:mm:ss"},{label:"提交时间",prop:"createTime",type:"datetime",overHidden:!0,format:"yyyy-MM-dd HH:mm",editDisabled:!0,addDisplay:!1,hide:!0},{hide:!0,label:"备注",prop:"content",type:"ueditor",component:"avueUeditor",span:24,options:{action:"/admin/sys-file/upload",props:{res:"data",url:"url"}}},{fixed:"right",width:240,prop:"operate",label:"操作",slot:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},a902:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},a97c:function(e,t,a){"use strict";a.r(t);var n=a("73aab"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},aa36:function(e,t,a){"use strict";a.r(t);var n=a("8c5c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},aa67:function(e,t,a){"use strict";a.r(t);var n=a("663c"),i=a("bdcf");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("941f");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"b75587f0",null);t["default"]=s.exports},aab7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=t.tableLogOption=void 0;var n={border:!0,card:!0,index:!0,indexLabel:"序号",stripe:!0,menu:!0,menuAlign:"center",filterBtn:!1,menuWidth:300,align:"center",viewBtn:!1,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,dialogWidth:"85%",labelWidth:120,dialogHeight:"78%",dialogClickModal:!1,columnBtn:!1,column:[{label:"jobId",prop:"jobId",hide:!0,addDisplay:!1,editDisplay:!1},{width:100,label:"任务名称",prop:"jobName",search:!0},{width:100,label:"任务组名",prop:"jobGroup"},{width:100,label:"任务状态",prop:"jobStatus",type:"select",dicUrl:"/admin/dict/type/job_status",addDisplay:!1,editDisplay:!1,search:!0,slot:!0},{width:100,label:"执行状态",prop:"jobExecuteStatus",type:"select",dicUrl:"/admin/dict/type/job_execute_status",search:!0,slot:!0,addDisplay:!1,editDisplay:!1},{label:"创建者",prop:"createBy",hide:!0,addDisplay:!1,editDisplay:!1},{label:"创建时间",prop:"createTime",type:"datetime",hide:!0,format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:120,addDisplay:!1,editDisplay:!1},{label:"更新者",prop:"updateBy",hide:!0,addDisplay:!1,editDisplay:!1},{label:"更新时间",prop:"updateTime",type:"datetime",hide:!0,format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisplay:!1},{label:"首次执行时间",prop:"startTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisplay:!1},{label:"上次执行时间",prop:"previousTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisplay:!1},{label:"下次执行时间",prop:"nextTime",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",width:160,addDisplay:!1,editDisplay:!1},{label:"组内顺序",prop:"jobOrder",hide:!0,addDisplay:!1,editDisplay:!1,type:"silder",step:1,min:1,max:9,showStops:!0},{label:"类型",prop:"jobType",width:100,slot:!0,formslot:!0},{width:100,label:"执行路径",prop:"executePath",overHidden:!0,addDisplay:!1,editDisplay:!1},{width:100,label:"执行文件",prop:"className",overHidden:!0,addDisplay:!1,editDisplay:!1},{label:"执行方法",prop:"methodName",overHidden:!0,width:120,addDisplay:!1,editDisplay:!1},{label:"参数值",prop:"methodParamsValue",width:100,overHidden:!0},{label:"cron表达式",prop:"cronExpression",width:120,formslot:!0},{label:"错失执行策略",prop:"misfirePolicy",type:"select",dicUrl:"/admin/dict/type/misfire_policy",width:160,slot:!0},{label:"租户",prop:"tenantId",hide:!0,addDisplay:!1,editDisplay:!1},{width:100,label:"备注信息",prop:"remark",type:"textarea",kType:"textareaAutosize",span:20,overHidden:!0},{width:390,prop:"caozuo",label:"操作",editStyle:"editBtn",fixed:"right",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n;var i={border:!0,index:!0,menu:!0,indexLabel:"序号",stripe:!0,filterBtn:!1,editBtn:!1,addBtn:!1,searchMenuSpan:6,columnBtn:!1,selection:!0,column:[{label:"任务名称",prop:"jobName"},{label:"日志信息",prop:"jobMessage"},{label:"执行状态",prop:"jobLogStatus",slot:!0},{label:"执行时间",prop:"executeTime"},{label:"异常信息",prop:"exceptionInfo"},{label:"创建时间",prop:"createTime"},{label:"操作",prop:"operate",width:100,slot:!0,editStyle:"editBtn",fixed:"right",addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableLogOption=i},aaba:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("3036"),r=a("4384"),s=a("2f62"),l=n(a("cdb5")),c=a("659f"),d={name:"Log",data:function(){return{tableData:[],searchForm:{},page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption,ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.sys_log_del,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.$message.success("删除成功"),t.page.pageSize=10,t.page.currentPage=1,t.getList(t.page)}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},view:function(e,t){this.$refs.crud.rowView(e,t)},rowDel:function(e){e.ids=[e.id],this.handleDel(e)},refreshChange:function(){this.getList(this.page)},exportPosition:function(){(0,c.exportFile)("/admin/log/export",this.searchForm,"get","log")},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除日志?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.$message.success("删除成功"),e.page.pageSize=10,e.page.currentPage=1,e.getList(e.page)}))})).catch((function(){}))}}};t.default=d},aaf2:function(e,t,a){},ab9b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"international-manage"},[e._v(" 国际化管理 ")])},i=[]},ac57:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d"),a("d3b7");var i=n(a("5530")),o=a("f436"),r=a("2887"),s=a("2f62"),l=n(a("cdb5")),c={name:"Token",data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption,ids:[]}},created:function(){},mounted:function(){},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.sys_token_del,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{batchDelete:function(){var e={ids:this.ids};this.handleDelete(e,!0)},handleDelete:function(e,t){var a=this,n=this,i=t?"是否下线":'是否强制用户名"'+e.username+'"下线?';this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(e.ids).then((function(e){n.$message.success("强制下线成功"),a.getList(a.page)})).catch((function(){}))}))},selectionChange:function(e){this.ids=e.map((function(e){return e.accessToken}))},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.getTokenPage)(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total})).finally((function(){a.tableLoading=!1}))},handleDel:function(e,t){e.ids=[e.accessToken],this.handleDelete(e,!1)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},searchChange:function(e,t){this.page.currentPage=1,this.getList(this.page,e)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},editBtn:function(e,t){"offline"===t&&this.handleDel(e,t)}}};t.default=c},ad2c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audit kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"type",fn:function(t){return["9"===t.row.type?a("span",[e._v("异常")]):e._e(),"0"===t.row.type?a("span",[e._v("正常")]):e._e()]}},{key:"caozuo",fn:function(t){return[e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的日志?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},aedb:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("b0c0"),a("d3b7"),a("159b"),a("a9e3");var i=a("6473"),o=n(a("6c8d")),r=n(a("d166")),s=n(a("cdb5")),l={name:"Menu",data:function(){var e;return{loading:!0,menuOptions:[],visible:!1,iconList:o.default,form:{menuId:void 0,name:void 0,path:void 0,icon:void 0,permission:void 0,menuType:"0",keepAlive:null!==s.default&&void 0!==s.default&&null!==(e=s.default.menuConfig)&&void 0!==e&&e.routerCache?"1":"0",sortOrder:999,visible:"0"},rules:r.default.menu,treeOption:{children:"children",label:"name",value:"id"},TreeNodeDisabled:!1}},computed:{dialogBtnConfig:function(){var e,t,a,n,i=(null===(e=s.default.pageBtnConfig)||void 0===e||null===(t=e.dialog)||void 0===t?void 0:t.align)||"right",o=(null===(a=s.default.pageBtnConfig)||void 0===a||null===(n=a.dialog)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," dialog-row-").concat(o)},btnDisabled:function(){return!!this.form.path},menuDisabled:function(){return!!this.form.permission}},methods:{init:function(e,t){var a=this;this.form.parentId=null!=t?t:"-1",this.visible=!0,this.getTreeselect(t),this.$nextTick((function(){a.$refs.dataForm.resetFields(),e?(0,i.getMenuIfoById)(t).then((function(e){a.form=e.data.data})):a.form.menuId=void 0}))},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate((function(t){if(t)if(void 0===e.form.parentId&&(e.form.parentId="-1"),e.radioChangeForm(),e.form.menuId){if(e.TreeNodeDisabled)return void e.$message.warning("上级菜单不能选择自己本身及所属子级");(0,i.updateObj)(e.form).then((function(t){e.$message.success("修改成功"),e.visible=!1,e.$emit("refreshDataList"),e.$store.commit("UPDATE_TAG",e.form)}))}else(0,i.addObj)(e.form).then((function(t){e.$message.success("添加成功"),e.visible=!1,e.$emit("refreshDataList")}))}))},getTreeselect:function(e){var t=this;(0,i.getMenuTree)().then((function(a){t.menuOptions=[];var n={id:"-1",name:"根菜单",children:[]};n.children=a.data.data,t.menuOptions.push(n),t.handelTreeDisabled(t.menuOptions[0].children,e)}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},handleClose:function(){this.visible=!1,this.$emit("handleClose")},handleChange:function(){this.$refs.dataForm.clearValidate()},radioChangeForm:function(){var e;"1"===this.form.menuType?(this.$set(this.form,"keepAlive",null!==s.default&&void 0!==s.default&&null!==(e=s.default.menuConfig)&&void 0!==e&&e.routerCache?"1":"0"),this.$set(this.form,"visible","0"),this.$set(this.form,"path",null),this.$set(this.form,"icon",null)):this.$set(this.form,"permission",null)},handelTreeDisabled:function(e,t){var a=this;return e&&e.forEach((function(e){Number(e.id)==Number(t)&&(e.disabled=!0,e.children&&e.children.forEach((function(e){e.disabled=!0}))),e.children&&a.handelTreeDisabled(e.children,t)})),e},nodeClick:function(e){e.disabled?this.TreeNodeDisabled=!0:this.TreeNodeDisabled=!1}}};t.default=l},b05c:function(e,t,a){},b11f:function(e,t,a){"use strict";a.r(t);var n=a("aedb"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},b507:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appuser kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getAppUserPage,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"avatar",fn:function(t){return[e._v(e._s(t.row.avatar))]}},{key:"roleList",fn:function(t){return e._l(t.row.roleList,(function(t){return a("k-tag",{key:t.roleId},[e._v(" "+e._s(t.roleName)+" ")])}))}},{key:"lockFlag",fn:function(t){return[a("k-tag",[e._v(" "+e._s("0"===t.row.lockFlag?"有效":"禁用")+" ")])]}},{key:"operate",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("修改 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.name+'"的数据?'},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{on:{click:e.importInfo}},[e._v("导入 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger"},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)},i=[]},b583:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"model kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-save":e.handleSave,"row-del":e.rowDel,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissions.oa_model_view?a("k-button-edit",{attrs:{size:"small","k-type":"minor"},nativeOn:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("模型图 ")]):e._e(),e.permissions.oa_model_add?a("k-button-edit",{attrs:{size:"small","k-type":"minor"},nativeOn:{click:function(a){return e.handleDeploy(t.row,t.index)}}},[e._v("部署 ")]):e._e(),e.permissions.oa_model_del?a("k-button-delete",{attrs:{size:"small","k-type":"minorDanger",description:'是否确认删除ID为"'+t.row.id+'"的模型?'},on:{click:function(a){return e.handleDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1)],1)},i=[]},b635:function(e,t,a){},b644:function(e,t,a){"use strict";a("2fb3")},b669:function(e,t,a){"use strict";a.r(t);var n=a("a756"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},b807:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={state:[{label:"准备中",value:"TASK_STAGING"},{label:"执行中",value:"TASK_RUNNING"},{label:"已经完成",value:"TASK_FINISHED"}]},i={border:!0,index:!0,stripe:!0,menuAlign:"center",align:"center",editBtn:!1,delBtn:!1,searchMenuSpan:6,addBtn:!1,viewBtn:!0,column:[{label:"ID",prop:"id",hide:!0},{label:"作业名称",prop:"jobName",search:!0},{label:"原任务",prop:"originalTaskId",hide:!0,width:100},{label:"任务ID",prop:"taskId",hide:!0},{label:"服务器IP",prop:"slaveId"},{label:"资源",prop:"source",hide:!0},{label:"执行类型",prop:"executionType",hide:!0},{label:"分片项",prop:"shardingItem"},{label:"状态",prop:"state",type:"select",dicData:n.state,search:!0},{label:"消息",prop:"message",overHidden:!0,hide:!0},{label:"创建时间",prop:"creationTime"},{width:180,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=i},b8b6:function(e,t,a){"use strict";a("e6ec")},b941:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"dscrud",attrs:{page:e.dsPage,data:e.tableDsData,option:e.tableDsOption,"before-open":e.handleOpenBefore},on:{"update:page":function(t){e.dsPage=t},"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"search-change":e.searchChange,"refresh-change":e.refreshDsChange,"on-load":e.getDsList,"pages-change":e.pageChange,"selection-change":e.selectionChange,"edit-btn":e.editBtn},model:{value:e.dsForm,callback:function(t){e.dsForm=t},expression:"dsForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger"},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1)],1)},i=[]},b993:function(e,t,a){"use strict";a.r(t);var n=a("fa79"),i=a("f37d");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d1ed");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"30e3c45b",null);t["default"]=s.exports},b9a9:function(e,t,a){"use strict";a("8fc0")},ba2a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,stripe:!0,menuAlign:"center",align:"center",refreshBtn:!0,showClomnuBtn:!1,searchMenuSpan:6,searchSize:"mini",columnBtn:!1,dialogClickModal:!1,addBtn:!1,column:[{label:"类型",prop:"dictType",addDisplay:!1,editDisabled:!0},{label:"标签名",prop:"label"},{label:"数据值",prop:"value"},{label:"描述",prop:"description"},{label:"排序",prop:"sortOrder"},{label:"备注",prop:"remarks"},{width:180,label:"创建时间",prop:"createTime",type:"datetime",addDisplay:!1,editDisabled:!1,editDisplay:!1,viewDisplay:!1,format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss"},{width:180,prop:"caozuo",label:"操作",fixed:"right",slot:!0,editDisabled:!1,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},ba96:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=r,t.delObj=l,t.getSocialPage=o,t.putObj=s;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/social/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/admin/social",method:"post",data:e})}function s(e){return(0,i.default)({url:"/admin/social",method:"put",data:e})}function l(e){return(0,i.default)({url:"/admin/social",method:"delete",data:e})}},bb56:function(e,t,a){"use strict";a("644a")},bb8c:function(e,t,a){"use strict";a.r(t);var n=a("7f99"),i=a("8f1b");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("74f4");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"30841f02",null);t["default"]=s.exports},bc9e:function(e,t,a){},bcc4:function(e,t,a){"use strict";a.r(t);var n=a("1df0"),i=a("e223");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("a065d");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"f2963752",null);t["default"]=s.exports},bd7b:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("5530")),o=a("211f"),r=a("2d87"),s={name:"GenEdit",props:{},data:function(){return{tableData:[],queryData:{dsName:"master",tableName:""},page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableColumnOption}},created:function(){},methods:{getList:function(e){var t=this;this.tableLoading=!0,(0,o.getGenTable)(Object.assign({current:e.currentPage,size:e.pageSize},this.queryData)).then((function(e){t.tableData=e.data.data.records,t.page.total=e.data.data.total,t.tableLoading=!1})).catch((function(){t.tableLoading=!1}))},searchChange:function(e){this.queryData=Object.assign(this.queryData,(0,i.default)({},e)),this.page.currentPage=1,this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},editBtn:function(e,t){var a=this;"sync"===t?(0,o.getTableSync)(this.queryData.dsName,e.tableName).then((function(e){a.$message.success("操作成功")})):"gen"===t?this.$router.push({path:"/gen/gener/index",query:{tableName:e.tableName,dsName:this.queryData.dsName||"master"}}):"design"===t&&this.$router.push({path:"/gen/design/index",query:{tableName:e.tableName,dsName:this.queryData.dsName||"master"}})}}};t.default=s},bd84:function(e,t,a){"use strict";var n=a("dbce").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("b680");var i=n(a("164e")),o=a("16ae"),r={data:function(){return{cacheInfo:{},listData:[{label:"Redis版本",value:""},{label:"运行模式",value:""},{label:"端口",value:""},{label:"客户端数",value:""},{label:"运行时间（天）",value:""},{label:"使用内存",value:""},{label:"使用CPU",value:""},{label:"内存配置",value:""},{label:"AOF是否开启",value:""},{label:"RDB是否成功",value:""},{label:"Key数量",value:""},{label:"网络入口/出口",value:""}]}},created:function(){var e=this;this.$nextTick((function(){(0,o.fetchCache)().then((function(t){e.cacheInfo=t.data,e.listData.forEach((function(t){var a,n,i,o,r,s,l;switch(t.label){case"Redis版本":t.value=e.cacheInfo.info.redis_version;break;case"运行模式":t.value="standalone"===e.cacheInfo.info.redis_mode?"单机":"集群";break;case"端口":t.value=e.cacheInfo.info.tcp_port;break;case"客户端数":t.value=e.cacheInfo.info.connected_clients;break;case"运行时间（天）":t.value=e.cacheInfo.info.uptime_in_days;break;case"使用内存":t.value=e.cacheInfo.info.used_memory_human;break;case"使用CPU":t.value=e.cacheInfo.info.used_cpu_user_children;break;case"内存配置":t.value=e.cacheInfo.info.maxmemory_human;break;case"AOF是否开启":t.value=0===e.cacheInfo.aof_enabled?"开启":"关闭";break;case"RDB是否成功":t.value="ok"===(null===(a=e.cacheInfo)||void 0===a||null===(n=a.info)||void 0===n?void 0:n.aof_enabled)?"成功":"失败";break;case"Key数量":t.value=null===(i=e.cacheInfo)||void 0===i?void 0:i.dbSize;break;case"网络入口/出口":t.value=(null===(o=e.cacheInfo)||void 0===o||null===(r=o.info)||void 0===r?void 0:r.instantaneous_input_kbps)+" / "+(null===(s=e.cacheInfo)||void 0===s||null===(l=s.info)||void 0===l?void 0:l.instantaneous_output_kbps)}})),e.drawPie(e.cacheInfo.commandStats),e.drawGauge(e.cacheInfo.info)}))}))},methods:{drawGauge:function(e){var t=i.init(this.$refs["gauge-echarts"]);t.setOption({tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Pressure",type:"gauge",radius:"65%",detail:{formatter:"{value}M"},data:[{value:(e.used_memory/1024/1024).toFixed(2),name:"内存消耗"}]}]})},drawPie:function(e){var t=i.init(this.$refs["pie-echarts"]);t.setOption({tooltip:{trigger:"item"},series:[{label:{show:!0},labelLine:{show:!0},type:"pie",radius:"45%",color:["#0D47A1","#1565C0","#1976D2","#1E88E5","#2196F3","#42A5F5","#64B5F6","#90CAF9","#BBDEFB","#E3F2FD","#CAF0F8","#ADE8F4","#90E0EF","#48CAE4","#00B4D8","#0096C7","#0077B6","#023E8A","#03045E","#8ecae6","#98c1d9","#D9ED92","#B5E48C","#99D98C","#76C893","#52B69A","#34A0A4","#168AAD","#1A759F","#1E6091","#184E77","#457b9d"],data:e,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}};t.default=r},bdcf:function(e,t,a){"use strict";a.r(t);var n=a("d336"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},be80:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{}}};t.default=n},be81:function(e,t,a){"use strict";a.r(t);var n=a("b941"),i=a("5127");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b9a9");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"2a78e53d",null);t["default"]=s.exports},bedc:function(e,t,a){"use strict";a.r(t);var n=a("2d44"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},bf7b:function(e,t,a){"use strict";a.r(t);var n=a("aaba"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c0a4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=s,t.delObj=o,t.deploy=r,t.fetchList=i,t.getObj=l,t.putObj=c;var n=a("b5c6");function i(e){return(0,n.http)({url:"/act/model",method:"get",params:e})}function o(e){return(0,n.http)({url:"/act/model",method:"delete",data:e})}function r(e){return(0,n.http)({url:"/act/model/deploy/"+e,method:"post"})}function s(e){return(0,n.http)({url:"/act/model/insert",method:"post",data:e})}function l(e){return(0,n.http)({url:"/admin/log/"+e,method:"get"})}function c(e){return(0,n.http)({url:"/admin/log/",method:"put",data:e})}},c111:function(e,t,a){"use strict";a.r(t);var n=a("8312c"),i=a("8c4d");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},c143:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dict kstar-view",class:{"default-container-margin":!e.defaultContainerMargin}},[a("basic-container",{staticClass:"dict__tree kstar-view__tree"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.$refs.dicDialogRef.openDialog(void 0,!1)}}},[e._v("新增")]),a("k-button",{attrs:{icon:"el-icon-refresh-right","k-type":"minor"},on:{click:e.refresh}},[e._v("刷新缓存")]),a("Tree",{ref:"dictTreeRef",staticClass:"tree-auto",attrs:{query:e.queryList,placeholder:"请输入字典项或名称",props:e.props,loading:e.loading},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"label"},[e._v(e._s(n.description))]),a("span",{staticClass:"code"},[e._v(e._s(n.dictType))]),a("span",{staticClass:"do"},[a("k-button-group",[a("k-tooltip",{attrs:{content:"系统内置数据不能编辑",disabled:"0"===n.systemFlag,placement:"top"}},[a("span",{staticStyle:{"margin-left":"12px"}},[a("k-button",{attrs:{disabled:"0"!==n.systemFlag,icon:"el-icon-edit","k-type":"content"},on:{click:function(t){return t.stopPropagation(),e.$refs.dicDialogRef.openDialog(n.id,!0)}}})],1)]),a("k-tooltip",{attrs:{content:"系统内置数据不能删除",disabled:"0"===n.systemFlag,placement:"top"}},[a("span",{staticStyle:{"margin-left":"12px"}},[a("k-button",{attrs:{disabled:"0"!==n.systemFlag,icon:"el-icon-delete","k-type":"content"},on:{click:function(t){return t.stopPropagation(),e.handleDelete([n.id])}}})],1)])],1)],1)])]}}])}),a("el-footer",{staticStyle:{height:"40px","line-height":"40px"}},[a("k-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v("导出")])],1)],1),a("basic-container",{staticClass:"dict__main"},[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,option:e.tableOption},on:{"update:page":function(t){e.page=t},"row-update":e.handleUpdate,"row-save":e.handleSave,"pages-change":e.pageChange,"refresh-change":e.refreshChange},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissions.sys_dict_edit?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.handleEdit(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissions.sys_dict_del?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除类型为"'+t.row.dictType+'"的数据?'},on:{click:function(a){return e.handleDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{attrs:{icon:"el-icon-plus"},on:{click:e.rowAdd}},[e._v("新增 ")])],1)],2)],1),a("DicDialog",{ref:"dicDialogRef",on:{refresh:e.handleRefreshTree}})],1)},i=[]},c1f8:function(e,t,a){"use strict";a.r(t);var n=a("1587"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c2eb:function(e,t,a){"use strict";a("796c")},c4a5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"search-reset":e.searchReset,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的模板?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length,icon:"el-icon-delete"},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},c4d0:function(e,t,a){"use strict";a.r(t);var n=a("bd7b"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c55e:function(e,t,a){"use strict";a.r(t);var n=a("675e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c5ed:function(e,t,a){"use strict";a.r(t);var n=a("4113"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c621:function(e,t,a){"use strict";a("3161")},c6a0:function(e,t,a){"use strict";a.r(t);var n=a("ad2c"),i=a("2ed8");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("2c29");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"11395e8c",null);t["default"]=s.exports},c7e3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,"table-loading":e.tableLoading,option:e.tableOption,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"logType",fn:function(t){return["9"===t.row.logType?a("span",[e._v("异常")]):e._e(),"0"===t.row.logType?a("span",[e._v("正常")]):e._e()]}},{key:"caozuo",fn:function(t){return[a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"view"},on:{click:function(a){return e.view(t.row,t.index)}}},[e._v("查看 ")]),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的日志?'},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e()]}}])},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},c85a:function(e,t,a){"use strict";a.r(t);var n=a("e5d7"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c870:function(e,t,a){},c97e:function(e,t,a){},c9fd:function(e,t,a){"use strict";a("5d0a")},ca4a:function(e,t,a){"use strict";a.r(t);var n=a("b507"),i=a("ef8c");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("a4bb");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"76858bbb",null);t["default"]=s.exports},caba:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approle kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getAppRolePage,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"roleList",fn:function(t){return e._l(t.row.roleList,(function(t){return a("k-tag",{key:t.roleId},[e._v(" "+e._s(t.roleName)+" ")])}))}},{key:"lockFlag",fn:function(t){return[a("k-tag",[e._v(" "+e._s("0"===t.row.lockFlag?"有效":"禁用")+" ")])]}},{key:"operate",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("修改 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.roleName+'"的数据?'},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e(),e.permissionList.delBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"grand"},on:{click:function(a){return e.rowEmpower(t.row)}}},[e._v("授权 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{on:{click:e.importInfo}},[e._v("导入 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!this.appRoleIds.length},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2),e.dialogParam.visible?a("k-modal",{attrs:{param:e.dialogParam,"foot-btn-list":e.footBtnList},on:{"foot-func-click":e.footFuncClick}},[a("k-tree",{ref:"kTree",attrs:{data:e.dataTree,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":e.defaultCheckedKeys,props:e.defaultProps},on:{"check-change":e.checkChange}})],1):e._e()],1),e.importVisible?a("import-content",{attrs:{importVisible:e.importVisible},on:{"update:importVisible":function(t){e.importVisible=t},"update:import-visible":function(t){e.importVisible=t}}}):e._e()],1)},i=[]},cac3:function(e,t,a){"use strict";a.r(t);var n=a("d6a6"),i=a("a97c");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("75d5");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"8ed7ebae",null);t["default"]=s.exports},cbd7:function(e,t,a){"use strict";a("dc8a2")},cbdb:function(e,t,a){"use strict";a("a065")},cc04:function(e,t,a){"use strict";a.r(t);var n=a("80e1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},ce65:function(e,t,a){"use strict";a.r(t);var n=a("d44d"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d072:function(e,t,a){"use strict";a.r(t);var n=a("1ec4"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d0ad:function(e,t,a){"use strict";a.r(t);var n=a("977c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d0b0:function(e,t,a){"use strict";a.r(t);var n=a("420d"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d161:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,menu:!1,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!0,saveBtn:!1,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"角色名",prop:"roleName",search:!0,span:24},{label:"用户标识",prop:"roleCode"},{label:"用户描述",prop:"roleDesc"},{label:"创建时间",prop:"createTime",value:"",span:24,addDisplay:!1,editDisplay:!1},{fixed:"right",width:240,prop:"operate",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},d1ed:function(e,t,a){"use strict";a("41e3")},d201:function(e,t,a){"use strict";a.r(t);var n=a("41d0"),i=a("fba1");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("91cd");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"3c41cb9a",null);t["default"]=s.exports},d336:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("769b"),r=a("4471"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=a("659f"),f={name:"Param",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,c.getTableOptions)(r.tableOption,l.default.param),ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.admin_syspublicparam_add,!1),delBtn:this.vaildData(this.permissions.admin_syspublicparam_del,!0),editBtn:this.vaildData(this.permissions.admin_syspublicparam_edit,!0)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{refresh:function(){var e=this;(0,o.refreshObj)().then((function(){e.$message.success("同步成功")}))},batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除文件?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.page.currentPage=1,e.getList(e.page),e.$message.success("删除成功")})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")})).catch((function(){}))},exportPosition:function(){(0,u.exportFile)("/admin/param/export",{systemFlag:this.searchForm.systemFlag},"get","param")},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:this.page.currentPage,size:this.page.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},rowDel:function(e,t){e.ids=[e.publicId],this.handleDel(e)},selectionChange:function(e){this.ids=e.map((function(e){return e.publicId}))},beforeOpen:function(e,t){window.boxType=t,e()},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(e){i.$message.success("修改成功"),a(),i.getList(i.page)})).catch((function(){n(!0)}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(e){n.$message.success("添加成功"),t(),n.getList(n.page)})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)}}};t.default=f},d3ec:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.taskOption=t.tableOption=t.formOption=void 0;var n={border:!0,index:!0,stripe:!0,indexLabel:"序号",menuAlign:"center",align:"center",menuBtn:!0,editBtn:!1,delBtn:!1,addBtn:!1,searchMenuSpan:6,selection:!0,columnBtn:!1,menuType:"menu",column:[{label:"ID",prop:"taskId",editDisabled:!0,addDisplay:!1},{label:"任务名称",prop:"taskName",search:!0,editDisabled:!0,addDisplay:!1},{label:"提交时间",prop:"time",type:"datetime",format:"yyyy-MM-dd HH:mm"}]};t.tableOption=n;var i={submitBtn:!1,emptyBtn:!1,column:[{label:"任务编号",prop:"taskId",disabled:!0},{label:"任务名称",prop:"taskName",disabled:!0},{label:"申请人",prop:"username",disabled:!0},{label:"请假时长",prop:"days",disabled:!0},{label:"请假时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",disabled:!0},{label:"提交时间",prop:"time",type:"datetime",format:"yyyy-MM-dd HH:mm",disabled:!0},{disabled:!0,hide:!0,label:"事由",prop:"content",type:"ueditor",component:"avueUeditor",row:!0,span:24,options:{action:"/admin/sys-file/upload",props:{res:"data",url:"url"}}},{label:"批注",prop:"comment",type:"textarea",kType:"textareaAutosize",row:!0,span:24},{fixed:"right",width:240,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.formOption=i;var o={menu:!1,page:!1,addBtn:!1,align:"center",menuAlign:"center",column:[{label:"id",prop:"id",hide:!0},{label:"用户",prop:"userId"},{label:"批注",prop:"fullMessage"},{label:"操作时间",prop:"time",type:"datetime",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss"}]};t.taskOption=o},d44d:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af");var i=n(a("5530")),o=a("e44d"),r=a("b807"),s=a("2f62"),l=n(a("cdb5")),c={name:"StatusTraceLog",data:function(){return{searchForm:{},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},handleAdd:function(){this.$refs.crud.rowAdd()},handleEdit:function(e,t){this.$refs.crud.rowEdit(e,t)},handleDel:function(e,t){this.$refs.crud.rowDel(e,t)},rowDel:function(e,t){var a=this;this.$confirm("是否确认删除ID为"+e.id,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(e.clientId)})).then((function(){a.$message.success("删除成功"),a.page.currentPage=1,a.refreshChange()}))},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(){i.$message.success("修改成功"),i.refreshChange(),a()})).catch((function(){n()}))},handleSave:function(e,t,a){var n=this;(0,o.addObj)(e).then((function(){n.$message.success("添加成功"),n.refreshChange(),t()})).catch((function(){a()}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e),t()},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.pageLog.pageSize=e.pageSize,this.pageLog.currentPage=e.currentPage,this.getList(e)},refreshChange:function(){this.getList(this.page)}}};t.default=c},d5c0:function(e,t,a){"use strict";a.r(t);var n=a("e1fe"),i=a("3c9b");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("1649");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"12b4ebd6",null);t["default"]=s.exports},d68d:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=s,t.delObj=c,t.getMenuCheckedTree=o,t.getMenuTree=r,t.putObj=l;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/app/appmenu/tree/".concat(e),method:"get"})}function r(e){return(0,i.default)({url:"/app/appmenu/tree",method:"get",params:e})}function s(e){return(0,i.default)({url:"/app/appmenu",method:"post",data:e})}function l(e){return(0,i.default)({url:"/app/appmenu",method:"put",data:e})}function c(e){return(0,i.default)({url:"/app/appmenu",method:"delete",data:e})}},d6a6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("div",{staticClass:"header"},[a("p",{staticClass:"header__title"},[e._v("模型id:"+e._s(e.id))]),a("k-button",{staticClass:"header__btn",on:{click:e.breaks}},[e._v("关闭返回列表 ")])],1)]),a("el-scrollbar",{staticClass:"main"},[a("iframe",{staticClass:"iframe",attrs:{src:e.src}})])],1)},i=[]},d779:function(e,t,a){},d7d3:function(e,t,a){"use strict";a.r(t);var n=a("2f5e"),i=a("ce65");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("08f1");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"54bbf31c",null);t["default"]=s.exports},d817:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("4de4"),a("d3b7");var i=n(a("5530")),o=a("14f2"),r=a("ba2a"),s=a("2f62"),l=n(a("d166")),c=a("b729"),d=n(a("cdb5")),u=n(a("4885")),f=a("659f"),p=n(a("843c")),m={name:"Dict",data:function(){var e=function(e){return(0,o.fetchListTree)({name:e})};return{searchForm:{},dictType:void 0,dictId:void 0,dialogFormVisible:!1,tableData:[],form:{},page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,queryList:e,dictItemDialogRef:"",props:{label:"description",children:"children",value:"id"},dictTypeTree:void 0,dictIdTree:void 0,flag:!0,editTableId:"",loading:!0}},components:{Tree:u.default,DicDialog:p.default},computed:(0,i.default)((0,i.default)({tableOption:function(){var e=(0,c.getTableOptions)(r.tableOption,l.default.dict);return this.labelRule(e),e}},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_dict_add,!1),delBtn:this.vaildData(this.permissions.sys_dict_del,!1),editBtn:this.vaildData(this.permissions.sys_dict_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=d.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=d.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)},defaultContainerMargin:function(){var e;return!1!==(null===(e=d.default.defaultContainerMargin)||void 0===e?void 0:e.open)}}),methods:{labelRule:function(e){var t=this,a=e.column.filter((function(e){return"label"===e.prop}));if(a.length&&this.flag){var n={validator:function(e,a,n){(0,o.validateDictItemLabel)(e,a,n,t.dictTypeTree,""!==t.editTableId)},trigger:"blur"};a[0].rules.push(n),this.flag=!1}},handleRefreshTree:function(){this.$refs.dictTreeRef.getdeptTree()},exportExcel:function(){(0,f.exportFile)("/admin/dict/export",{},"get","dict")},rowAdd:function(){this.dictIdTree?this.$refs.crud.rowAdd():this.$message.warning("需要先点击左边大类再进行新增!")},refresh:function(){var e=this;(0,o.refreshObj)().then((function(){e.$message.success("同步成功")}))},refreshChange:function(){this.getList()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除数据，是否确认?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObjTree)(e)})).then((function(){t.$refs.dictTreeRef.getdeptTree(),t.$message.success("删除成功")})).catch((function(){}))},handleNodeClick:function(e){this.dictTypeTree=e.dictType,this.dictIdTree=e.id,this.getList()},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchItemList)(Object.assign({current:this.page.currentPage,size:this.page.pageSize},{dictType:this.dictTypeTree,dictId:this.dictIdTree})).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},handleUpdate:function(e,t,a,n){var i=this;(0,o.putObj)(e).then((function(){i.$message.success("修改成功"),i.getList(i.page),a()})).catch((function(){n(!0)}))},handleSave:function(e,t){var a=this;e.dictId=this.dictIdTree,e.dictType=this.dictTypeTree,(0,o.addObj)(e).then((function(){a.$message.success("添加成功"),a.getList(a.page),t()})).catch((function(){t()}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},handleEdit:function(e,t){this.editTableId=e.id,this.$refs.crud.rowEdit(e,t)},handleDel:function(e,t){var a=this;(0,o.delObj)(e).then((function(){a.page.currentPage=1,a.getList(a.page),a.$message.success("删除成功")})).catch((function(){}))},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)}}};t.default=m},d901:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("60dc")),o=a("a8a0"),r={components:{indexInit:i.default,customMenu:function(e,t){e((0,o.getRewritePage)("menu"))}},data:function(){return{isCustomMenu:!!(0,o.getRewritePage)("menu")}},created:function(){}};t.default=r},d934:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container pege-menu kstar-view"},[a("basic-container",[a("div",{staticClass:"menu"},[a("k-form",{staticClass:"avue-crud__form menu-search",attrs:{inline:!0,model:e.menuForm}},[a("el-form-item",{staticClass:"search-item",attrs:{label:"菜单名称"}},[a("k-input",{attrs:{placeholder:"菜单名称"},model:{value:e.menuForm.nameKey,callback:function(t){e.$set(e.menuForm,"nameKey",t)},expression:"menuForm.nameKey"}}),a("k-button",{attrs:{"k-type":"main","k-alias":"search",icon:"el-icon-search"},on:{click:e.searchMenu}},[e._v("搜索")])],1),a("el-form-item",{staticClass:"search-item"},[e.permissions.sys_menu_add?a("k-button",{attrs:{icon:"el-icon-plus","k-alias":"add"},on:{click:function(t){return e.addOrUpdateHandle(!1)}}},[e._v(" 添加 ")]):e._e()],1)],1),a("k-table",{key:e.key,staticClass:"menu-vxe-table",attrs:{size:"small","max-height":e.maxHeight,data:e.menuList,"row-config":{isHover:!0,isCurrent:!0},"tree-config":{transform:!0,rowField:"id",parentField:"parentId",iconOpen:"el-icon-arrow-down",iconClose:"el-icon-arrow-right"}}},[a("k-column",{attrs:{field:"name","tree-node":"",title:"菜单名称"}}),a("k-column",{attrs:{field:"icon",title:"图标",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("i",{class:t.meta.icon})]}}])}),a("k-column",{attrs:{field:"weight",title:"排序",width:"100"}}),a("k-column",{attrs:{field:"path",title:"路由地址"}}),a("k-column",{attrs:{field:"menuType",title:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("k-tag",[e._v(e._s("0"===n.menuType?"左菜单":"1"===n.menuType?"按钮":"顶菜单"))])]}}])}),a("k-column",{attrs:{field:"isKeepAlive",title:"缓冲",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("k-tag",{attrs:{"k-type":n.meta.isKeepAlive?"main":"info"}},[e._v(e._s(n.meta.isKeepAlive?"开启":"关闭"))])]}}])}),a("k-column",{attrs:{field:"hidden",title:"是否显示",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("k-tag",{attrs:{"k-type":n.meta.isHide?"info":"main"}},[e._v(e._s(n.meta.isHide?"隐藏":"显示"))])]}}])}),a("k-column",{attrs:{field:"permission",title:"权限标识"}}),a("k-column",{attrs:{field:"id",title:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e.permissions.sys_menu_add?a("k-button-edit",{attrs:{size:"small","k-type":"minor","k-alias":"add"},on:{click:function(t){return e.addOrUpdateHandle(!1,n.id)}}},[e._v("新增 ")]):e._e(),e.permissions.sys_menu_edit?a("k-button-edit",{attrs:{size:"small","k-type":"minor","k-alias":"edit"},on:{click:function(t){return e.addOrUpdateHandle(!0,n.id)}}},[e._v("编辑 ")]):e._e(),e.permissions.sys_menu_del?a("k-button-delete",{attrs:{size:"small","k-type":"minorDanger","k-alias":"delete",description:'是否确认删除名称为"'+n.name+'"的数据项?'},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除 ")]):e._e()]}}])})],1),e.addOrUpdateVisible?a("table-form",{ref:"addOrUpdate",on:{refreshDataList:e.getList,handleClose:e.handleClose}}):e._e()],1)])],1)},i=[]},d96e:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jobLog kstar-view"},[a("basic-container",[a("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"执行日志",width:"90%","custom-class":"kstar-crud__dialog"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeJobLogDialog}},[a("kstar-crud",{ref:"crudLog",attrs:{page:e.pageLog,data:e.tableLogData,option:e.tableLogOption,"table-loading":e.tableLogLoading},on:{"update:page":function(t){e.pageLog=t},"on-load":e.getJobLogList,"pages-change":e.pageChange,"selection-change":e.selectionChange,"refresh-change":e.getJobLogList},scopedSlots:e._u([{key:"menuLeft",fn:function(){return[a("k-button",{attrs:{"k-type":"minorDanger"},on:{click:e.batchDeleteLog}},[e._v("删除")])]},proxy:!0},{key:"jobLogStatus",fn:function(t){return[e._v(" "+e._s("1"===t.row.jobLogStatus?"异常":"正常")+" ")]}},{key:"operate",fn:function(t){return[a("k-button",{attrs:{size:"small",type:"primary","k-alias":"delete","k-type":"minorDanger"},on:{click:function(a){return e.deleteLog(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1)],1)},i=[]},db1a:function(e,t,a){"use strict";a.r(t);var n=a("031a"),i=a("a442");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("a7535");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"49e95a6d",null);t["default"]=s.exports},dc3a:function(e,t,a){},dc8a2:function(e,t,a){},dcf9:function(e,t,a){"use strict";a.r(t);var n=a("f7c2"),i=a("2bc4");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("24b7");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"4cdf19ec",null);t["default"]=s.exports},dd33:function(e,t,a){"use strict";a("6607")},dd75:function(e,t,a){"use strict";a.r(t);var n=a("0cb5"),i=a("c5ed");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("f0f8");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"195dcff0",null);t["default"]=s.exports},dee1:function(e,t,a){"use strict";a.r(t);var n=a("a81e"),i=a("2be5");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},df52:function(e,t,a){"use strict";a.r(t);var n=a("e8dd"),i=a("ee8f");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"1aa7b653",null);t["default"]=s.exports},e064:function(e,t,a){},e1fe:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"execution kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,option:e.tableOption,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"status",fn:function(t){return[a("k-tag",{attrs:{size:"small"}},[e._v(e._s("0"===t.row.status?"正常":"冻结"))])]}},{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除id为"'+t.row.id+'"的数据?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}}),e.permissionList.tenantMenuBtn?a("k-button",{attrs:{"k-type":"minor"},on:{click:e.tenantMenuBtn}},[e._v("租户套餐")]):e._e(),e.permissionList.delBtn?a("k-button",{attrs:{"k-type":"minorDanger",disabled:!e.tenantIds.length},on:{click:e.batchDelete}},[e._v("删除")]):e._e()],1),a("template",{slot:"menuIdForm"},[a("k-select",{attrs:{options:e.tenantMenuList,placeholder:"请选择",props:e.defaultProps},model:{value:e.form.menuId,callback:function(t){e.$set(e.form,"menuId",t)},expression:"form.menuId"}})],1)],2)],1),a("k-drawer",{attrs:{title:"租户套餐",direction:"rtl",size:"80%",visible:e.drawer},on:{"update:visible":function(t){e.drawer=t}}},[a("tenant-menu")],1)],1)},i=[]},e223:function(e,t,a){"use strict";a.r(t);var n=a("985f"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},e2e7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLUMNS=void 0;var n=[{key:"checkbox",title:"选择",type:"selection",align:"center"},{key:"postCode",title:"岗位编号"},{key:"postName",title:"岗位名称"},{key:"postSort",title:"岗位排序"},{key:"remark",title:"岗位描述"},{key:"operate",title:"操作",width:200,type:"slot",slotName:"operate"}];t.COLUMNS=n},e3cb:function(e,t,a){"use strict";a.r(t);var n=a("6f57"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},e44d:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addObj=r,t.delObj=l,t.fetchList=o,t.getObj=s,t.putObj=c;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/daemon/status-trace-log/page",method:"get",params:e})}function r(e){return(0,i.default)({url:"/daemon/status-trace-log",method:"post",data:e})}function s(e){return(0,i.default)({url:"/daemon/status-trace-log/"+e,method:"get"})}function l(e){return(0,i.default)({url:"/daemon/status-trace-log/"+e,method:"delete"})}function c(e){return(0,i.default)({url:"/daemon/status-trace-log",method:"put",data:e})}},e478:function(e,t,a){"use strict";a.r(t);var n=a("7f34"),i=a("6af6");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("68a0");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"609dc144",null);t["default"]=s.exports},e5d7:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af");var i=n(a("5530")),o=a("175a"),r=a("362b"),s=a("2f62"),l=n(a("cdb5")),c={name:"Process",data:function(){return{searchForm:{},showPicDialog:!1,actPicUrl:"",tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:r.tableOption}},created:function(){},mounted:function(){},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.records,a.page.total=e.data.total,a.tableLoading=!1}))},handlePic:function(e){this.actPicUrl="/act/process/resource/"+e.deploymentId+"/"+e.processonDefinitionId+"/image",this.showPicDialog=!0},handleStatus:function(e,t){var a=this;this.$confirm('是否确认操作ID为"'+e.processonDefinitionId+'"的流程?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.status)(e.processonDefinitionId,t)})).then((function(){a.$message.success("操作成功"),a.getList(a.page)}))},handleDel:function(e,t){this.$refs.crud.rowDel(e,t)},rowDel:function(e){var t=this;this.$confirm('是否确认删除ID为"'+e.deploymentId+'"的模型?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){return(0,o.delObj)(e.deploymentId)})).then((function(){t.$message.success("删除成功"),t.page.currentPage=1,t.getList(t.page)}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},refreshChange:function(){this.getList(this.page)},batchDelete:function(){}}};t.default=c},e6ec:function(e,t,a){},e705:function(e,t,a){"use strict";a("3a56c")},e766:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_TYPE_LIST=t.JSUT_FORM_TYPE_LIST=t.HISTORY_COLUMNS=t.FORM_VALIDATOR_LIST=t.FORM_TYPE_LIST=t.FORM_COLUMNS=t.COL_COLUMNS=t.AUTO_FILL_LIST=t.ATTR_COLUMNS=void 0;var n=[{key:"",title:"序号",type:"index"},{key:"fieldName",title:"字段名"},{key:"fieldComment",title:"说明"},{key:"fieldType",title:"字段类型"},{key:"attrName",title:"属性名"},{key:"attrType",title:"属性类型",type:"slot",slotName:"attrType"},{key:"autoFill",title:"自动填充",type:"slot",slotName:"autoFill"},{key:"primaryPk",title:"主键",type:"slot",slotName:"primaryPk",width:60},{key:"fieldDict",title:"字典类型",type:"slot",slotName:"fieldDict"}];t.ATTR_COLUMNS=n;var i=[{key:"attrName",title:"属性名"},{key:"fieldComment",title:"说明"},{key:"gridItem",title:"列表显示",type:"slot",slotName:"gridItem",width:80},{key:"gridSort",title:"是否排序",type:"slot",slotName:"gridSort",width:80},{key:"queryFormType",title:"查询表单类型",type:"slot",slotName:"queryFormType"},{key:"queryItem",title:"查询显示",type:"slot",slotName:"queryItem",width:80},{key:"queryType",title:"查询方式",type:"slot",slotName:"queryType"}];t.COL_COLUMNS=i;var o=[{key:"attrName",title:"属性名"},{key:"fieldComment",title:"说明"},{key:"formType",title:"表单类型",type:"slot",slotName:"formType"},{key:"formItem",title:"表单显示",type:"slot",slotName:"formItem",width:80},{key:"formRequired",title:"表单必填",type:"slot",slotName:"formRequired",width:80},{key:"formValidator",title:"表单校验",type:"slot",slotName:"formValidator"}];t.FORM_COLUMNS=o;var r=[{value:"DEFAULT",label:"DEFAULT"},{value:"INSERT",label:"INSERT"},{value:"UPDATE",label:"UPDATE"},{value:"INSERT_UPDATE",label:"INSERT_UPDATE"}];t.AUTO_FILL_LIST=r;var s=[{value:"text",label:"单行文本"},{value:"textarea",label:"多行文本"},{value:"number",label:"数字"},{value:"select",label:"下拉框"},{value:"radio",label:"单选按钮"},{value:"checkbox",label:"复选框"},{value:"date",label:"日期"},{value:"datetime",label:"日期时间"}];t.FORM_TYPE_LIST=s;var l=[{value:"=",label:"="},{value:"!=",label:"!="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<",label:"<="},{value:"like",label:"like"},{value:"left like",label:"left like"},{value:"right like",label:"right like"}];t.QUERY_TYPE_LIST=l;var c=[{value:"text",label:"单行文本"},{value:"textarea",label:"多行文本"},{value:"number",label:"数字"},{value:"editor",label:"富文本编辑器"},{value:"select",label:"下拉框"},{value:"radio",label:"单选按钮"},{value:"checkbox",label:"复选框"},{value:"date",label:"日期"},{value:"datetime",label:"日期时间"},{value:"upload-file",label:"文件上传"},{value:"upload-img",label:"图片上传"}];t.JSUT_FORM_TYPE_LIST=c;var d=[{value:"number",label:"数字"},{value:"letter",label:"字母"},{value:"letterAndNumber",label:"字母和数字"},{value:"mobilePhone",label:"手机号码"},{value:"letterStartNumberIncluded",label:"字母开头，仅可包含数字"},{value:"noChinese",label:"禁止中文输入"},{value:"chinese",label:"必须中文输入"},{value:"email",label:"电子邮箱"},{value:"url",label:"URL邮箱"}];t.FORM_VALIDATOR_LIST=d;var u=[{key:"",title:"序号",type:"index"},{key:"createTime",title:"设计时间"},{key:"operate",title:"操作",width:160,editStyle:"editBtn",editBtn:[{title:"回滚",key:"back",size:"small",kType:"text"},{title:"删除",key:"delete",size:"small",kType:"text"}]}];t.HISTORY_COLUMNS=u},e87b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,menu:!1,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!0,saveBtn:!1,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"名称",prop:"name",search:!0,span:24},{label:"中文",prop:"zhCn",search:!0,span:24},{label:"英文",prop:"en",search:!0,value:""},{label:"创建人",prop:"createBy",value:"",span:24,addDisplay:!1,editDisplay:!1},{label:"创建时间",prop:"createTime",value:"",span:24,addDisplay:!1,editDisplay:!1},{fixed:"right",width:240,prop:"operate",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},e8dd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"first",staticClass:"step-first-area"},[a("k-form",{ref:"form",attrs:{"label-position":"right","label-width":"120px",model:e.form,rules:e.formRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"表名：",prop:"tableName"}},[a("k-input",{attrs:{placeholder:"请输入表名",width:"calc(100% - 10px)",disabled:""},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"说明：",prop:"tableComment"}},[a("k-input",{attrs:{placeholder:"请输入说明",width:"calc(100% - 10px)"},model:{value:e.form.tableComment,callback:function(t){e.$set(e.form,"tableComment",t)},expression:"form.tableComment"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"类名：",prop:"className"}},[a("k-input",{attrs:{placeholder:"请输入类名",width:"calc(100% - 10px)"},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"作者：",prop:"author"}},[a("k-input",{attrs:{placeholder:"请输入作者",width:"calc(100% - 10px)"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"项目包名：",prop:"packageName"}},[a("k-input",{attrs:{placeholder:"请输入项目包",width:"calc(100% - 10px)"},model:{value:e.form.packageName,callback:function(t){e.$set(e.form,"packageName",t)},expression:"form.packageName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"模块名：",prop:"moduleName"}},[a("k-input",{attrs:{placeholder:"请输入模块名",width:"calc(100% - 10px)"},model:{value:e.form.moduleName,callback:function(t){e.$set(e.form,"moduleName",t)},expression:"form.moduleName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"功能名：",prop:"functionName"}},[a("k-input",{attrs:{placeholder:"请输入功能名",width:"calc(100% - 10px)"},model:{value:e.form.functionName,callback:function(t){e.$set(e.form,"functionName",t)},expression:"form.functionName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"代码风格：",prop:"style"}},[a("k-select",{attrs:{options:e.codeStyleList,placeholder:"请选择代码风格",props:e.codeDefaultProps,width:"calc(100% - 10px)"},model:{value:e.form.style,callback:function(t){e.$set(e.form,"style",t)},expression:"form.style"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"表单布局：",prop:"formLayout"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.formLayout,callback:function(t){e.$set(e.form,"formLayout",t)},expression:"form.formLayout"}},[a("k-radio-button",{attrs:{label:1}},[e._v("一列")]),a("k-radio-button",{attrs:{label:2}},[e._v("两列")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("k-form-item",{attrs:{label:"生成方式：",prop:"generatorType"}},[a("k-radio-group",{attrs:{size:"small"},model:{value:e.form.generatorType,callback:function(t){e.$set(e.form,"generatorType",t)},expression:"form.generatorType"}},[a("k-radio-button",{attrs:{label:1}},[e._v("自定义路径")]),a("k-radio-button",{attrs:{label:0}},[e._v("ZIP压缩包")])],1)],1)],1)],1),1===e.form.generatorType?[a("k-form-item",{attrs:{label:"后端生成路径：",prop:"backendPath"}},[a("k-input",{attrs:{placeholder:"请输入后端生成路径",width:"calc(100% - 10px)"},model:{value:e.form.backendPath,callback:function(t){e.$set(e.form,"backendPath",t)},expression:"form.backendPath"}})],1),a("k-form-item",{attrs:{label:"前端生成路径：",prop:"frontendPath"}},[a("k-input",{attrs:{placeholder:"请输入前端生成路径",width:"calc(100% - 10px)"},model:{value:e.form.frontendPath,callback:function(t){e.$set(e.form,"frontendPath",t)},expression:"form.frontendPath"}})],1)]:e._e()],2)],1)},i=[]},e97e:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("9408")),o=a("a8a0"),r={components:{indexInit:i.default,customRole:function(e,t){e((0,o.getRewritePage)("role"))}},data:function(){return{isCustomRole:!!(0,o.getRewritePage)("role")}}};t.default=r},e9e8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",viewBtn:!1,searchMenuSpan:6,editBtn:!1,saveBtn:!1,addBtn:!1,dialogClickModal:!1,columnBtn:!1,selection:!0,addBtnText:"保存",column:[{label:"编号",prop:"id",hide:!0,addDisplay:!1},{label:"文件名称",prop:"fileName",overHidden:!0,addDisplay:!1},{label:"桶名称",prop:"bucketName",overHidden:!0,addDisplay:!1},{label:"文件名称",prop:"original",overHidden:!0,search:!0,cloumsHide:!1,addDisplay:!1},{label:"原文件名",prop:"original",overHidden:!0,addDisplay:!1},{label:"文件类型",prop:"type",addDisplay:!1},{label:"文件大小",prop:"fileSize",addDisplay:!1},{width:180,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisabled:!0,addDisplay:!1,span:24},{width:180,prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},ea7a:function(e,t,a){"use strict";a.r(t);var n=a("c4a5"),i=a("d0ad");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("dd33");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"62b823ab",null);t["default"]=s.exports},ebc0:function(e,t,a){},ecc5:function(e,t,a){},ee8f:function(e,t,a){"use strict";a.r(t);var n=a("8150"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},ef3b:function(e,t,a){"use strict";a.r(t);var n=a("d96e"),i=a("0a2d");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},ef52:function(e,t,a){"use strict";a("a352")},ef8c:function(e,t,a){"use strict";a.r(t);var n=a("a1b1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},eff1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:6,dialogClickModal:!1,selection:!0,columnBtn:!1,column:[{label:"模板名称",search:!0,prop:"templateName"},{label:"模板路径",prop:"generatorPath"},{label:"模板描述",prop:"templateDesc"},{label:"模板代码",prop:"templateCode",cloumsHide:!1},{width:200,label:"创建时间",prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",editDisplay:!1,addDisplay:!1,span:24},{fixed:"right",prop:"caozuo",label:"操作",slot:!0,editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=n},f003:function(e,t,a){"use strict";a.r(t);var n=a("48b5"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},f050:function(e,t,a){},f0f8:function(e,t,a){"use strict";a("1868")},f11f:function(e,t,a){"use strict";a.r(t);var n=a("1e5d"),i=a("7eb2");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("0dc2");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"d3fbde72",null);t["default"]=s.exports},f14d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container personal-info kstar-view"},[a("basic-container",[[a("el-row",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm kstar-crud-form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[e.isShowAvatar?a("el-form-item",{attrs:{label:"头像"}},[a("k-upload",{staticClass:"avatar-uploader",attrs:{headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccess,action:e.actionUrl}},[e.ruleForm.avatar?a("img",{staticClass:"avatar",attrs:{id:"avatar",src:e.avatarUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("k-input",{attrs:{type:"text",disabled:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("k-input",{attrs:{placeholder:"验证码登录使用"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("k-input",{attrs:{type:"text"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("k-input",{attrs:{type:"text"},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("k-input",{attrs:{type:"text"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",[a("k-button",{on:{click:function(t){return e.submitForm()}}},[e._v("提交")])],1)],1)])],1)],1)]],2)],1)},i=[]},f1c6:function(e,t,a){"use strict";a("1fcb")},f274:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isCustomRole?a("custom-role"):a("index-init")},i=[]},f36b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("e766"),i=a("7c79"),o=a("14f2"),r={data:function(){return{activeName:"first",tabListBasic:[{label:"属性设置",name:"first"},{label:"列表查询",name:"second"},{label:"表单页面",name:"third"}],dicTypeList:[],dicDefaultProps:{value:"id",label:"description"},autoFillList:n.AUTO_FILL_LIST,fieldTypeList:[],attrDefaultProps:{value:"id",label:"attrType"},queryTypeList:n.QUERY_TYPE_LIST,queryFormTypeList:n.FORM_TYPE_LIST,formTypeList:n.JSUT_FORM_TYPE_LIST,formValidatorList:n.FORM_VALIDATOR_LIST,attrTableData:[],attrColumns:n.ATTR_COLUMNS,colColumns:n.COL_COLUMNS,formColumns:n.FORM_COLUMNS}},created:function(){this.fetchTabTableData(),this.fetchListTree(),this.fetchFieldTypeList()},methods:{fetchTabTableData:function(){var e=this;(0,i.fetchTabTableData)(this.$route.query.tableName).then((function(t){var a,n;e.attrTableData=(null===(a=t.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.fieldList)||[]}))},fetchListTree:function(){var e=this;(0,o.fetchListTree)().then((function(t){var a;e.dicTypeList=(null===(a=t.data)||void 0===a?void 0:a.data)||[]}))},fetchFieldTypeList:function(){var e=this;(0,i.fetchFieldTypeList)().then((function(t){e.fieldTypeList=t.data.data}))}}};t.default=r},f37d:function(e,t,a){"use strict";a.r(t);var n=a("7ec3"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},f3a1:function(e,t,a){},f436:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.delObj=r,t.getTokenPage=o;var i=n(a("b5c6"));function o(e){return(0,i.default)({url:"/admin/token/page",method:"post",data:e})}function r(e){return(0,i.default)({url:"/admin/token/delete",method:"delete",data:e})}},f4ab:function(e,t,a){"use strict";a.r(t);var n=a("5bc7"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},f4ae:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getList,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.rowDel,"search-reset":e.searchReset,"selection-change":e.selectionChange,change:e.change},scopedSlots:e._u([{key:"caozuo",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("编辑 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除ID为"'+t.row.id+'"的模板?'},on:{click:function(a){return e.rowDel(t.row,t.index)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.ids.length,icon:"el-icon-delete"},on:{click:e.batchDelete}},[e._v("删除 ")]),a("k-button",{staticClass:"filter-item",attrs:{"k-type":"content",icon:"el-icon-download"},on:{click:e.exportPosition}})],1)],2)],1)],1)},i=[]},f616:function(e,t,a){},f677:function(e,t,a){},f7c2:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"i18n kstar-view"},[a("basic-container",[a("kstar-crud",{ref:"crud",attrs:{page:e.page,data:e.tableData,permission:e.permissionList,"table-loading":e.tableLoading,"before-open":e.beforeOpen,option:e.tableOption},on:{"update:page":function(t){e.page=t},"on-load":e.getI18nPage,"search-change":e.searchChange,"refresh-change":e.refreshChange,"pages-change":e.pageChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"operate",fn:function(t){return[e.permissionList.editBtn?a("k-button-edit",{attrs:{"k-type":"minor",size:"small","k-alias":"edit"},on:{click:function(a){return e.update(t.row,t.index)}}},[e._v("修改 ")]):e._e(),e.permissionList.delBtn?a("k-button-delete",{attrs:{"k-type":"minorDanger",size:"small","k-alias":"delete",description:'是否确认删除名称为"'+t.row.name+'"的数据？'},on:{click:function(a){return e.rowDel(t.row)}}},[e._v("删除 ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[a("k-button",{staticClass:"filter-item",attrs:{"k-type":"minorDanger",disabled:!e.i18nIds.length},on:{click:e.batchDelete}},[e._v("删除 ")])],1)],2)],1)],1)},i=[]},f822:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableOption=void 0;var n={isSuccess:[{label:"成功",value:1},{label:"失败",value:0}]},i={border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",align:"center",searchMenuSpan:6,editBtn:!1,addBtn:!1,viewBtn:!0,column:[{label:"ID",prop:"id",hide:!0},{label:"任务名称",prop:"jobName"},{label:"任务ID",prop:"taskId",hide:!0,overHidden:!0},{label:"主机名",prop:"hostname",hide:!0},{label:"IP",prop:"ip"},{width:80,label:"分片项",prop:"shardingItem"},{label:"执行源",prop:"executionSource",hide:!0},{label:"失败原因",prop:"failureCause",hide:!0},{width:100,label:"执行结果",prop:"isSuccess",type:"select",dicData:n.isSuccess},{label:"开始时间",prop:"startTime",hide:!0},{label:"完成时间",prop:"completeTime"},{width:180,prop:"caozuo",label:"操作",editStyle:"editBtn",editBtn:[{title:"查看",key:"view",size:"small",type:"primary",kType:"minor"},{title:"删除",key:"delete",size:"small",type:"primary",kType:"minorDanger"}],editDisabled:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1}]};t.tableOption=i},f93a:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d3b7"),a("159b"),a("d81d");var i=n(a("5530")),o=a("e0cc"),r=a("20be"),s=a("48b2"),l=a("2f62"),c=a("14f2"),d=n(a("d166")),u=a("b729"),f=n(a("cdb5")),p=a("659f"),m={name:"Client",data:function(){return{form:{authorizedGrantTypes:""},tableData:[],page:{total:0,currentPage:1,pageSize:20},tableLoading:!1,tableOption:(0,u.getTableOptions)(r.tableOption,d.default.client),ids:[],grandTypeList:[]}},computed:(0,i.default)((0,i.default)({},(0,l.mapGetters)(["permissions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permissions.sys_client_add,!1),delBtn:this.vaildData(this.permissions.sys_client_del,!1),editBtn:this.vaildData(this.permissions.sys_client_edit,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=f.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=f.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),watch:{"form.authorizedGrantTypes":{immediate:!0,handler:function(e){var t=["webServerRedirectUri","authorities","webServerRedirectUri"];e&&-1!==e.indexOf("authorization_code")?this.tableOption.column.forEach((function(e){-1!==t.indexOf(e.prop)&&(e.addDisplay=!0,e.editDisplay=!0)})):e&&-1===e.indexOf("authorization_code")&&this.tableOption.column.forEach((function(e){-1!==t.indexOf(e.prop)&&(e.addDisplay=!1,e.editDisplay=!1)}))}}},created:function(){this.getDict()},methods:{batchDelete:function(){var e=this,t={ids:this.ids},a="确定批量删除文件?";this.$confirm(a,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){(0,o.delObj)(t.ids).then((function(t){e.$message.success("删除成功"),e.page.currentPage=1,e.refreshChange()})).catch((function(){}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.$message.success("删除成功"),t.page.currentPage=1,t.refreshChange()})).catch((function(){}))},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))},exportPosition:function(){(0,p.exportFile)("/admin/client/export",{clientId:this.form.clientId,clientSecret:this.form.clientSecret},"get","client")},refresh:function(){var e=this;(0,o.refreshObj)().then((function(){e.$message.success("同步成功")}))},searchChange:function(e,t){this.page.currentPage=1,this.getList(this.page,e)},getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.getClientPage)(Object.assign({descs:"id",current:e.currentPage,size:e.pageSize},t)).then((function(e){var t,n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[];a.tableData=n.records.map((function(e){var t=JSON.parse(e.additionalInformation);return Object.assign(e,{onlineQuantity:null===t||void 0===t?void 0:t.online_quantity,encFlag:null===t||void 0===t?void 0:t.enc_flag,captchaFlag:null===t||void 0===t?void 0:t.captcha_flag}),e})),a.page.total=n.total})).finally((function(){a.tableLoading=!1}))},handleDelete:function(e,t){e.ids=[e.id],this.handleDel(e)},handleUpdate:function(e,t,a,n){var i=this;(0,s.validatenull)(e.additionalInformation)&&(e.additionalInformation=void 0),(0,o.putObj)(e).then((function(){i.$message.success("修改成功"),i.refreshChange(),a()})).catch((function(){n()}))},handleSave:function(e,t,a){var n=this;(0,s.validatenull)(e.additionalInformation)&&(e.additionalInformation=void 0),(0,o.addObj)(e).then((function(){n.$message.success("添加成功"),n.refreshChange(),t()})).catch((function(){a()}))},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},refreshChange:function(){this.getList(this.page)},beforeOpen:function(e,t){window.boxType=t,e()},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},update:function(e,t){this.$refs.crud.rowEdit(e,t)},getDict:function(){var e=this;(0,c.remote)("grant_types").then((function(t){e.grandTypeList=t.data.data}))}}};t.default=m},f989:function(e,t,a){"use strict";a.r(t);var n=a("77e6"),i=a("7145");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},fa0d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("b0c0");var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.parent,a={},n={send:function(n,i){var o="id_"+(new Date).getTime()+"_"+Math.random();return t.postMessage({id:o,apiname:n,name:e,data:i},"*"),new Promise((function(e,t){a[o]={resolve:e,reject:t}}))},remove:function(){window.removeEventListener("message",i)}};function i(t){if(t.data.name===e){var n=t.data.id;a[n]&&(t.data.error?a[n].reject(t.data.data):a[n].resolve(t.data.data),delete a[n])}}return window.addEventListener("message",i,!1),n},i=n;t.default=i},fa70:function(e,t,a){"use strict";a.r(t);var n=a("1ca6"),i=a("0b49");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("8235");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"752c9359",null);t["default"]=s.exports},fa79:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.importParam.visible?a("k-modal",{attrs:{param:e.importParam,"foot-btn-list":e.footBtnList},on:{close:e.closeModel,"foot-func-click":e.footFuncClick}},[a("div",{staticClass:"import-content"},[a("k-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,limit:1,accept:".xlsx,.xls","http-request":e.uploadSuccess,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅允许导入xls、xlsx格式文件。"),a("k-text",{staticClass:"download-template",attrs:{color:"primary"},nativeOn:{click:function(t){return e.exportTemp.apply(null,arguments)}}},[e._v("下载模板")])],1)])],1)]):e._e()},i=[]},fa9c:function(e,t,a){"use strict";a.r(t);var n=a("bd84"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},fba1:function(e,t,a){"use strict";a.r(t);var n=a("95e4"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},fbab:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("d81d");var i=n(a("5530")),o=a("3350"),r=a("16ce"),s=a("2f62"),l=n(a("cdb5")),c=a("659f"),d={name:"index",data:function(){return{tableData:[],searchForm:{},page:{total:0,currentPage:1,pageSize:10},tableLoading:!1,tableOption:r.tableOption,ids:[]}},computed:(0,i.default)((0,i.default)({},(0,s.mapGetters)(["permissions"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permissions.sys_log_del,!1)}},messageBoxBtnConfig:function(){var e,t,a,n,i=(null===(e=l.default.pageBtnConfig)||void 0===e||null===(t=e.messageBox)||void 0===t?void 0:t.align)||"right",o=(null===(a=l.default.pageBtnConfig)||void 0===a||null===(n=a.messageBox)||void 0===n?void 0:n.direction)||"unset";return"justify-content-".concat(i," message-box-row-").concat(o)}}),methods:{getList:function(e,t){var a=this;this.tableLoading=!0,(0,o.fetchList)(Object.assign({descs:"create_time",current:e.currentPage,size:e.pageSize},t,this.searchForm)).then((function(e){a.tableData=e.data.data.records,a.page.total=e.data.data.total,a.tableLoading=!1}))},batchDelete:function(){var e={ids:this.ids},t="确定批量删除日志?";this.$confirm(t,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"kstar-message-box ".concat(this.messageBoxBtnConfig)}).then((function(){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")}))}))},handleDel:function(e){var t=this;(0,o.delObj)(e.ids).then((function(e){t.page.currentPage=1,t.getList(t.page),t.$message.success("删除成功")}))},searchChange:function(e,t){this.searchForm=e,this.page.currentPage=1,this.getList(this.page,e)},sizeChange:function(e){this.page.pageSize=e},currentChange:function(e){this.page.currentPage=e},pageChange:function(e){this.page.pageSize=e.pageSize,this.page.currentPage=e.currentPage,this.getList(e)},rowDel:function(e,t){e.ids=[e.id],this.handleDel(e)},refreshChange:function(){this.getList(this.page)},exportPosition:function(){(0,c.exportFile)("/admin/audit/export",{createBy:this.searchForm.createBy,auditField:this.searchForm.auditField,auditName:this.searchForm.auditName},"get","audit")},selectionChange:function(e){this.ids=e.map((function(e){return e.id}))}}};t.default=d},fc4c:function(e,t,a){"use strict";a.r(t);var n=a("3200"),i=a("c4d0");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},fc94:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("40b3")),o=a("a8a0"),r={components:{infoInit:i.default,customInfo:function(e,t){e((0,o.getRewritePage)("info"))}},data:function(){return{isCustomInfo:!!(0,o.getRewritePage)("info")}}};t.default=r},fe8b:function(e,t,a){"use strict";a.r(t);var n=a("2695"),i=a("d072");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4c27");var r=a("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"ebe69e42",null);t["default"]=s.exports}}]);